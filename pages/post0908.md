title: why reload?
date: 2015-09-08 22:26:03
tags: pythonå°è®°
---
## è®¾å®šç¼–ç çš„æƒ¯ä¾‹
å½“è®¾å®špythonæ–‡ä»¶ç¼–ç æ—¶

    import sys

    reload(sys)
    sys.setdefaultencoding('utf-8')

ä¸‰è¡Œæå®šï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ±‰å­—ä¹±ç äº†ï¼ğŸ˜„

## ç„¶è€Œï¼šé—®é¢˜æ¥äº†
å‡ ä¸ªæœˆåçš„ä¸€å¤©ï¼Œä¸€åå¥³ç¨‹åºå‘˜é—®æˆ‘ï¼šä¸ºä»€ä¹ˆè¦ reload(sys) ? ğŸ˜”

## SO: Why reload(sys)
### 1. sys

    sys æ˜¯ä¸€ä¸ªpythonæ¨¡å—ï¼ŒåŒ…å«ç³»ç»Ÿå¯¹åº”çš„åŠŸèƒ½ï¼Œæ¯”å¦‚é€šè¿‡argvè·å–è¿è¡Œæ—¶å‘½ä»¤è¡Œå‚æ•°
å…·ä½“è§http://www.cnblogs.com/diege/archive/2012/10/03/2710776.html <br/>

### 2. setdefaultencoding å‡½æ•°

    setdefaultencoding æ˜¯sysæ¨¡å—æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥<strong>ä¿®æ”¹é»˜è®¤ç¼–ç </strong><br/>

### 3. python åŠ è½½æ¨¡å—çš„è¿‡ç¨‹

    è¿è¡Œè§£é‡Šå™¨ -> åŠ è½½åº“æ–‡ä»¶(ex: site.py) -> åŠ è½½æ¨¡å—(ex: sys)

### 4. python reload å‡½æ•°

    reload æ˜¯pythonå†…ç½®å‡½æ•°ï¼Œç”¨äºåœ¨å½“å‰è¿è¡Œæ—¶é‡æ–°åŠ è½½æ¨¡å—ï¼Œä¸ä¼šæ”¹å˜å…ˆå‰æ–‡ä»¶ä¸­çš„æ¨¡å—çŠ¶æ€

### 5. reload(sys)
å¦‚æœæˆ‘ä»¬å°è¯•è¿è¡Œ

    >> import sys
    >> sys.setdefaultencoding('utf-8')
    AttributeError: 'module' object has no attribute 'setdefaultencoding'

è¿™åˆæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ<br/>
å½“æˆ‘ä»¬å¯¼å…¥åŠ è½½ sys æ¨¡å—æ—¶é¦–å…ˆä¼šåŠ è½½ site.py(/usr/lib/python2.7), çœ‹ä¸€ä¸‹ site.py çš„æºç ï¼š
![æºç ](http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-08%20ä¸‹åˆ11.17.14.png)<br/>

åŸæ¥setdefaultencodingå‡½æ•°è¢«site.pyåˆ æ‰å•¦ï¼è‡³äºä¸ºä»€ä¹ˆè¦åˆ ï¼Œæ³¨é‡Šé‡Œå†™äº†ï¼šä½¿ç”¨æˆ·æ— æ³•åœ¨åˆå§‹åŒ–åæ”¹å˜ç¼–ç <br/>
è€Œ reload(sys) åˆ™é¿å…äº†site.pyçš„è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ setdefaultencoding å‡½æ•°æ”¹å˜ç¼–ç <br/>
