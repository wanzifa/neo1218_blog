<!DOCTYPE html>
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- è‡ªé€‚åº” -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <title>neo1218's blog</title>

        <!-- Bootstrap core CSS -->
        <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link href="../static/css/index.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="../static/css/jumbotron-narrow.css" rel="stylesheet">

        <!-- Bootstrap js for this template -->
        <!-- jQueryæ–‡ä»¶ã€‚åŠ¡å¿…åœ¨bootstrap.min.js ä¹‹å‰å¼•å…¥ -->
        <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
        <!-- æœ€æ–°çš„ Bootstrap æ ¸å¿ƒ JavaScript æ–‡ä»¶ -->
        <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

        <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
        <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
        <script src="../../assets/js/ie-emulation-modes-warning.js"></script>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
            <![endif]-->
    </head>

    <body>
        <div class="container" >
            <div class="header clearfix" style='background-image:url("http://7xj431.com1.z0.glb.clouddn.com/love.png");'>
                <nav>
                    <ul class="nav nav-pills pull-right">
                        <li role="presentation" class="active"><a href="/index">Home</a></li>
                        <li role="presentation"><a href="#">About</a></li>
                        <li role="presentation"><a href="#">Contact</a></li>
                    </ul>
                </nav>
                <h3 class="text-muted"><strong>neo1218's blog</strong></h3>
            </div>
            
<div class="jumbotron" style='background-image:url("http://7xj431.com1.z0.glb.clouddn.com/i_need_rest_by_gada_chan-d34h65n.jpg");'>
    <strong><h1>This is Neo1218</h1></strong>
    <p class="lead">
    <span class="label label-default">vim</span>
    <span class="label label-primary">python</span>
    <span class="label label-success">Mac</span>
    <span class="label label-info">shell</span>
    <span class="label label-warning">Linux</span>
    <span class="label label-danger">node.js</span>
    <span class="label label-default">...</span>
    </p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
        About Me
    </button>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">about me</h4>
                </div>
                <div class="modal-body">
                    <!-- _about.html: just about me -->
<html>
    <body>
        <h3>æˆ‘æ˜¯neo1218</h3>
        <p>
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="https://github.com/neo1218">
                        <img width="29" height="29" alt="Brand" src="../static/img/GitHub.svg.png">
                    </a>
                    <a class="navbar-brand" href="http://segmentfault.com/u/neo1218">
                        <img width="29" height="29" alt="Brand" src="../static/img/sg.png">
                    </a>
                    <a class="navbar-brand" href="https://twitter.com/_neo1218_?lang=zh-cn">
                        <img width="29" height="29" alt="Brand" src="../static/img/twitter.png">
                    </a>
                    <a class="navbar-brand" href="https://www.facebook.com/profile.php?id=100009095675220">
                        <img width="29" height="29" alt="Brand" src="../static/img/facebook.png">
                    </a>
                    <a class="navbar-brand" href="http://www.jobbole.com/members/neo1218/">
                        <img width="29" height="29" alt="Brand" src="../static/img/bole.png">
                    </a>
                    <a class="navbar-brand" href="http://www.gzevergrandefc.com/default.aspx">
                        <img width="29" height="29" alt="Brand" src="../static/img/evergrand.png">
                    </a>
                </div>
            </div>
        </nav>
        </p>
        <p>
            æˆ‘æ˜¯neo1218,æ˜¯ç»ˆç«¯çš„ç‹‚çƒ­çˆ±å¥½è€…,ç›¸ä¿¡Python Flask Mac Node Vim Linuxå¤§æ³•å¥½!
        </p>
        <h3>ä¸€äº›é¡¹ç›®</h3>
        <p>
        <a href="https://github.com/neo1218/neo1218_blog"><strong>neo1218_blog:</strong></a>è¿™ä¸ªåšå®¢<br/>
        <a href="https://github.com/neo1218/mana"><strong>mana:</strong></a>flaské¡¹ç›®ç”Ÿæˆå™¨ happy generate flask project<br/>
        <a href="https://github.com/neo1218/MuxiVim"><strong>MuxiVim:</strong></a>æˆ‘çš„vimç¼–è¾‘å™¨ vim for muxi studio<br/>
        <a href="https://github.com/neo1218/muxi"><strong>muxi:</strong></a>ç®€å•çš„python webæ¡†æ¶[å¼€å‘ä¸­] on top of flask<br/>
        <a href="https://github.com/neo1218/rest"><strong>rest:</strong></a>restful API framework for flask[å¼€å‘ä¸­]<br/>
        <a href="https://github.com/progit/progit2-zh"><strong>progit2-zh:</strong></a>ã€Šprogit2ã€‹ä¸­æ–‡ç‰ˆç¿»è¯‘<br/>
        </p>
        <h3>æœ¨çŠ€å›¢é˜Ÿ</h3>
        <p>
        come from muxi-studio<br/>
        <a href="http://muxistudio.com/">website</a>
        <a href="https://github.com/Muxi-Studio">github</a>
        </p>
    </body>
</html>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row marketing">
    
        <div class="col-lg-6">
            <h4>2015å¹´ç»ˆæ€»ç»“</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#0">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="0" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">2015å¹´ç»ˆæ€»ç»“</h4>
                        </div>
                        <div class="modal-body">
                            <h2>2015å¹´12æœˆ31å·äº†, æ˜¯æ—¶å€™å†™ç‚¹ä»€ä¹ˆäº†</h2>
<p>é¦–å…ˆ, æˆ‘é¢„æ„Ÿæˆ‘çš„2016å¹´ä¸ä¼šå¤ªå¥½è¿‡ã€‚ã€‚ã€‚<br/>
<img alt="2016" src="http://7xj431.com1.z0.glb.clouddn.com/2016" />
å¥½å§, æ­£å¥½æŠŠé‚£å‡ ä¸ªå­—æŒ¡ä½äº†,æˆ–è®¸æ˜¯å¤©æ„å§ã€‚<br/></p>
<h2>å…³äº2015</h2>
<p>è¿™ä¸€å¹´ä»1æœˆ23æ—¥æ³¨å†Œgithub, æ­£å¼å¼€å§‹webå¼€å‘çš„å­¦ä¹ ,
åˆ°ç°åœ¨ï¼Œå¯ä»¥è¯´githubæ˜¯æˆ‘è¿™ä¸€å¹´æ³¡çš„æœ€å¤šçš„åœ°æ–¹ï¼Œä¸‹åŠå¹´å‡ ä¹å¤©å¤©æ›´ã€‚åŸå› ä½•åœ¨?
å› ä¸ºæˆ‘åœ¨githubä¸Šä½“ä¼šåˆ°äº†å¼€æºçš„ç²¾ç¥,ä»£ç çš„åŠ›é‡(è¯´çš„æœ‰ç‚¹å¤¸å¼ ğŸ˜„ ),
ä¸è¿‡å‚åŠ å¼€æºé¡¹ç›®çš„æ—¶å€™å¤§å®¶éƒ½å¾ˆå‹å¥½, éƒ½å¾ˆæœ‰ä¸€ç§ç²¾ç¥, æ¯ä¸ªäººéƒ½ä¹äºäº¤æµ,
ç”šè‡³æ˜¯è¿«åˆ‡çš„å¸Œæœ›å¸®åŠ©åˆ«äºº, è¿™ä¸€ç‚¹è®©æˆ‘è§‰å¾—å¾ˆç¥å¥‡ã€‚<br/></p>
<h2>2015åšçš„äº‹æƒ…</h2>
<ol>
<li>
<p><a href="https://github.com/progit/progit2-zh">ã€Šprogit2ä¸­æ–‡ç‰ˆã€‹</a>: å‚ä¸progit2ä¸­æ–‡ç‰ˆç¿»è¯‘, ç°åœ¨ä¸­æ–‡ç‰ˆå·²ç»å¯ä»¥åœ¨<a href="https://git-scm.com/book/zh/v2">gitå®˜ç½‘</a>ä¸Šè·å–å•¦~</p>
</li>
<li>
<p><a href="https://github.com/Muxi-Studio/muxi_site">æœ¨çŠ€å®˜ç½‘</a>: è™½ç„¶æ²¡æœ‰åšå®Œ(è¿˜æœ‰ä¸€äº›å°åœ°æ–¹)ï¼Œé‡Œé¢æœ‰ å›¾ä¹¦,åšå®¢,åˆ†äº«å­ç«™~</p>
</li>
<li><a href="https://github.com/neo1218/mana">mana</a>: è‡ªå·±é€ çš„å°è½®å­, ğŸ˜„  è·å¾—åç§‘å¤§ç¥çš„è®¤å¯å¾ˆæ¿€åŠ¨,æœ€è¿‘é‡æ„åç°åœ¨å¯ä»¥å…¼å®¹windowsç³»ç»Ÿ(mac å¤§æ³•å¥½)å•¦</li>
<li><a href="https://github.com/neo1218/MuxiVim">MuxiVim</a>: æˆ‘ç°åœ¨å°±åœ¨ç”¨ MuxiVim å†™åšå®¢ğŸ˜„ , vim å¤§æ³•å¥½!! æœ¨çŠ€çš„å°ä¼™ä¼´ä»¬åŸºæœ¬ä¸Šéƒ½è£…äº†muxivim <br/>
<img alt="muxivim" src="http://7xj431.com1.z0.glb.clouddn.com/muxivim2" /> <br/></li>
<li><a href="https://github.com/neo1218/DouBe">DouBe</a>: å…¶å®åšçš„ä¸å’‹åœ°, ä½†æ˜¯æ˜¯hackdayåšçš„, é‚£æ¬¡hackdayçœŸçš„æ˜¯å¤ªç¾çš„å›å¿†!!!!
<img alt="hackday" src="http://7xj431.com1.z0.glb.clouddn.com/83" /> <br/></li>
<li><a href="https://github.com/Muxi-Studio/xueer_be">xueer</a>: ä¸‹åŠå¹´çš„é‡å¤´æˆ!!! ç§»åŠ¨ç‰ˆå·²å®ŒæˆâœŒï¸ <br/>
<img alt="xueer1" src="http://7xj431.com1.z0.glb.clouddn.com/1451566588972.png" />
<img alt="xueer2" src="http://7xj431.com1.z0.glb.clouddn.com/1451566550392.png" /></li>
</ol>
<h2>è¿˜æœ‰æœ¨çŠ€</h2>
<p>2015ç¦»ä¸å¼€çš„ä¸€ä¸ªè¯å°±æ˜¯[æœ¨çŠ€],
å‡ ä¹æˆ‘çš„ç”Ÿæ´»ã€å­¦ä¹ ä¸€åŠçš„æ—¶é—´éƒ½åœ¨æœ¨çŠ€(è¿˜æœ‰ä¸€åŠåœ¨ç¡è§‰)ã€‚å¸Œæœ›æˆ‘å¯ä»¥ä¸ºåé¢çš„å°ä¼™ä¼´äº‰å–ä¸€ä¸ªå¥½çš„ç¯å¢ƒ!!!ç›®å‰çœ‹è¿˜å¯ä»¥, è‡³å°‘æˆ‘ä»¬å›¢é˜Ÿåœ¨æœæ­£ç¡®çš„æ–¹å‘å‘å±•!!!!</p>
<h2>å±•æœ›2016</h2>
<p>2016ä¼šå¾ˆæ‚²å‚¬, å› ä¸º2015ã€‚ã€‚ã€‚è¿‡ä¸€å¤©æ˜¯ä¸€å¤©, ä½†æ˜¯è¿˜æ˜¯è¦æŠŠæœ¨çŠ€è¿™è¾¹æå¥½!!!</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>å¼•ç”¨å’ŒæŒ‡é’ˆçš„å®éªŒ</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#1">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">å¼•ç”¨å’ŒæŒ‡é’ˆçš„å®éªŒ</h4>
                        </div>
                        <div class="modal-body">
                            <h2>ç¨‹åº1 point.cpp</h2>
<div class="codehilite"><pre><span class="cp"># include &lt;iostream&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    <span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">var</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>ç¨‹åº2 refer.cpp</h2>
<div class="codehilite"><pre><span class="cp"># include &lt;iostream&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">var</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    <span class="kt">int</span><span class="o">&amp;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">var</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>ç¼–è¯‘</h2>
<div class="codehilite"><pre>g++ point.cpp -o point
g++ refer.cpp -o refer
</pre></div>


<h2>åç¼–è¯‘</h2>
<div class="codehilite"><pre>gobjdump -S point &gt; test1
gobjdump -S refer &gt; test2
</pre></div>


<h2>æ¯”è¾ƒ</h2>
<div class="codehilite"><pre>vimdiff test1 test2
</pre></div>


<h2>ç»“æœ</h2>
<p><img alt="result" src="http://7xj431.com1.z0.glb.clouddn.com/prpng" /></p>
<h2>ç»“è®º</h2>
<p>å¼•ç”¨å°±æ˜¯æŒ‡é’ˆ(å¸¸é‡æŒ‡é’ˆ)</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>è®°çˆ¬å–CET4æŠ¥åç½‘ç«™çš„é‚£ä¸€å¤œ</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#2">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">è®°çˆ¬å–CET4æŠ¥åç½‘ç«™çš„é‚£ä¸€å¤œ</h4>
                        </div>
                        <div class="modal-body">
                            <h2>é¦–å…ˆ:</h2>
<div class="codehilite"><pre>ä¸­ç§‹èŠ‚å¿«ä¹
</pre></div>


<h2>ç„¶å:</h2>
<div class="codehilite"><pre>æ²¡æœ‰äº†...
</pre></div>


<h2>å›å¯å®¤ä¹‹å‰åœ¨304çš„æ™šä¸Š</h2>
<p>è½¬çœ¼é—´å°±å¤§äºŒäº†ï¼Œäºæ˜¯å°±è¦è€ƒå››çº§ï¼Œè€ƒå››çº§å°±è¦æŠ¥åï¼Œäºæ˜¯å»äº†æŠ¥åç½‘ç«™http://cet.tinyin.net/accuse.asp, ä¸Šä¼ äº†ç…§ç‰‡ï¼ŒæŠ¥äº†å,ç†è®ºä¸Šå°±ç»“æŸäº†ã€‚ä½†æ˜¯ï¼Œä¸­ç§‹è¦æ¥äº†ï¼Œæˆ‘è¦åšç‚¹ä»€ä¹ˆã€‚<br/>
å››çº§æŠ¥åç½‘ç«™ä¸ºäº†å…¬å¹³å…¬æ­£ï¼Œå°†æ¯ä¸ªæŠ¥åå­¦ç”Ÿçš„åŸºæœ¬ä¿¡æ¯(å§“åã€å­¦å·ã€å¤§å¤´ç…§ã€æŠ¥è€ƒç­‰çº§)æ”¾åœ¨äº†ç½‘ä¸Šï¼Œè¿™æ ·åŒå­¦é™¢ã€åŒå¹´çº§çš„åŒå­¦å°±å¯ä»¥è¿›è¡Œç›‘ç£ã€‚ä¸å¾—ä¸è¯´ï¼Œè¯ä»¶ç…§æ˜¯å¾ˆå¸å¼•äººçš„éƒ¨åˆ†ï¼Œäºæ˜¯æˆ‘å®¡æŸ¥äº†é¡µé¢å…ƒç´ ï¼Œå¸Œæœ›å¯ä»¥å‘ç°æ›´å¤šaã€‚</p>
<div class="codehilite"><pre><span class="nt">&lt;img</span> <span class="na">width=</span><span class="s">&quot;120&quot;</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span> <span class="na">height=</span><span class="s">&quot;160&quot;</span> <span class="na">src=</span><span class="s">&quot;photos/2014210761.jpg&quot;</span><span class="nt">&gt;&lt;/img&gt;</span>
</pre></div>


<p><code>photos/2014210761.jpg</code>ï¼Œæœ‰æ„æ€ï¼Œçœ‹ä¸Šå»ä¼¼ä¹æ˜¯æŸä¸ªå­ç›®å½•ï¼Œäºæ˜¯æˆ‘å°è¯•åŠ ä¸Šäº†ä¸»æœºå</p>
<div class="codehilite"><pre>http://cet.tinyin.net/photos/2014210761.jpg
</pre></div>


<p>äºæ˜¯æˆ‘å¯çˆ±çš„è¯ä»¶ç…§å‡ºç°äº†ã€‚ã€‚ã€‚è€Œä¸”ï¼Œç­‰æˆ‘ç™»å½•è¿‡æœŸåï¼Œæˆ‘ä¾ç„¶å¯ä»¥è®¿é—®è¿™ä¸ªurlçœ‹åˆ°å›¾ç‰‡(ç°åœ¨å°±å¯ä»¥è¯•è¯•)ï¼ï¼è¿™æ„å‘³ç€æˆ‘å¯ä»¥é€šè¿‡æ”¹å˜å­¦å·çœ‹åˆ°åŒå­¦çš„å¤§å¤´ç…§!ğŸ˜„</p>
<h2>ç„¶è€Œæˆ‘å¹¶ä¸çŸ¥é“å­¦å·</h2>
<p>æ˜¯çš„ï¼Œæˆ‘çŸ¥é“æˆ‘çš„åŒå­¦çš„åå­—ï¼Œä½†æ˜¯è®°ä¸ä½å­¦å·ã€‚ä½†æ˜¯CET4æŠ¥åç½‘ç«™å·²ç»å°†å§“åå­¦å·ä¸€å¹¶å¥‰ä¸Šäº†ï¼Œæˆ‘è¦åšçš„å°±æ˜¯æŠ“å–å§“åå’Œå­¦å·ä¿¡æ¯ï¼Œå¹¶å°†è¿™äº›ä¿¡æ¯å†™å…¥æ–‡ä»¶ï¼Œå»ºç«‹å…³ç³»ï¼Œå°±åƒè¿™æ ·:</p>
<div class="codehilite"><pre>å­¦ç”Ÿå­¦å·ï¼š2014210761 å­¦ç”Ÿå§“åï¼šæœ±æ‰¿æµ©
å­¦ç”Ÿå­¦å·ï¼š2014210781 å­¦ç”Ÿå§“åï¼šæˆ‘å®¤å‹
......  ......  ....... .....  ......
</pre></div>


<h2>ä¹°äº†ä¸¤ç“¶å•¤é…’ğŸº ï¼Œå¼€çˆ¬! å½“ç„¶è¿˜æœ‰ httpfox</h2>
<h3>æ¨¡æ‹Ÿç™»å½•</h3>
<p>é¦–å…ˆå°±æ˜¯è¦ç™»å½•è¿›æŠ¥åç½‘ç«™ï¼Œæ‰å¯ä»¥è®¿é—®ä¿¡æ¯é¡µçš„urlã€‚æ‰“å¼€ httpfoxï¼Œç›‘å¬ç™»å½•è¿‡ç¨‹
<img alt="ç›‘å¬è¿‡ç¨‹" src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-27%20ä¸Šåˆ4.31.54.png" /> <br/>
<img alt="ç›¸å…³ä¿¡æ¯" src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-27%20ä¸Šåˆ4.34.51.png" /> <br/>
CET4ç½‘ç«™ä¸ºäº†é˜²æˆ‘è¿™ç§å¥½å¥‡å¿ƒå¾ˆå¼ºçš„äººè¿˜æ˜¯åšäº†ä¸€äº›å¤„ç†ï¼Œç™»å½•url<code>/login.asp</code>å®é™…ä¸Šæ˜¯ä¸€ä¸ªreferï¼ŒçœŸæ­£çš„ç™»å½•urlæ˜¯<code>http://cet.tinyin.net/reginfo.asp</code>ï¼Œæˆ‘è¦åšçš„ï¼Œå°±æ˜¯åˆ©ç”¨æˆ‘çš„ç”¨æˆ·åå’Œå¯†ç ç™»å…¥ç½‘ç«™ï¼Œè·å–cookieï¼Œç„¶ååˆ©ç”¨cookieè¿›è¡Œåç»­ç™»å½•ã€‚å½“ç„¶ï¼Œé¦–å…ˆéœ€è¦æŠŠæˆ‘è‡ªå·±å˜æˆæµè§ˆå™¨å•¦</p>
<div class="codehilite"><pre>def __init__(self):
    self.user_agent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:42.0) Gecko/20100101 Firefox/42.0&quot;
    self.headers = {
            &#39;User-Agent&#39;:self.user_agent,
            &#39;Referer&#39;:&#39;http://cet.tinyin.net/login.asp&#39;,
            &#39;Accept-encoding&#39;:&#39;gzip&#39;
    }
    self.postdata = urllib.urlencode({
            &#39;stype&#39;:&#39;#&#39;,
            &#39;stuno&#39;:&#39;2014214761&#39;,
            &#39;stupwd&#39;:&#39;å¯†ç å°±ä¸è¯´äº†&#39;
    })
</pre></div>


<p>ç„¶åå°±æ˜¯ç™»å½•è·å–cookie</p>
<div class="codehilite"><pre>def analog_login(self):
    &quot;&quot;&quot;
    ç™»å½•cet4ç½‘ç«™ï¼Œè·å–cookieï¼Œå¹¶å°†
    cookieä¿å­˜è‡³æ–‡ä»¶
    &quot;&quot;&quot;
    filename = &#39;cet4_cookie.txt&#39;
    cookie = cookielib.MozillaCookieJar(filename)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))

    login_url = &#39;http://cet.tinyin.net/reginfo.asp&#39;
    request = urllib2.Request(login_url, self.postdata, self.headers)
    opener.open(request)
    cookie.save(ignore_discard=True, ignore_expires=True)
</pre></div>


<p>cookie get!!!</p>
<div class="codehilite"><pre># Netscape HTTP Cookie File
# http://www.netscape.com/newsref/std/cookie_spec.html
# This is a generated file!  Do not edit.

cet.tinyin.net  FALSE   /   FALSE       ASPSESSlllllDAQBASRAC   LKNFEMDCDOLABMFPLLLLL
</pre></div>


<h3>è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸Šåœºäº†!</h3>
<p>é¦–å…ˆå®éªŒä¸€ä¸‹ï¼Œcookieèƒ½å¦æ­£å¸¸ä½¿ç”¨, å°è¯•è®¿é—® http://cet.tinyin.net/accuse.asp é¡µé¢, cookieæ˜¯æ²¡é—®é¢˜ï¼Œä½†æ˜¯htmlå´æ˜¯ä¸­æ–‡ä¹±ç ï¼Œæ²¡å…³ç³»ï¼Œæ”¹æˆutf-8ï¼Œå°±è¡Œ</p>
<div class="codehilite"><pre>html = response.read().decode(&#39;gbk&#39;).encode(&#39;utf-8â€™)
</pre></div>


<p><img alt="html" src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-25%20ä¸‹åˆ11.48.57.png" /> <br/>
ç°åœ¨ï¼Œä¸€åˆ‡éƒ½è±ç„¶å¼€æœ—äº†ï¼Œæˆ‘åªéœ€è¦çˆ¬å–<td>æ ‡ç­¾ï¼Œå°†è·å–çš„å­¦å·å’Œå§“åå†™å…¥æ–‡ä»¶å°±è¡Œäº†ã€‚</p>
<div class="codehilite"><pre>æ­£åˆ™è¡¨è¾¾å¼ parttern = re.compile(&#39;&lt;td width=25% &gt;(.*?)&lt;br&gt;&lt;br&gt;(.*?)&lt;br&gt;&lt;br&gt;&#39;, re.S)
</pre></div>


<p><a href="https://github.com/neo1218/CET4-photo/blob/master/stuinfo.txt">çˆ¬å–çš„ä¿¡æ¯æ–‡ä»¶</a> <br/></p>
<h3>flask é ä½ äº†</h3>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç”¨flaskæ­ä¸€ä¸ªæœç´¢å¼•æ“äº†ã€‚åœ¨æ–‡å­—ç¼–ç è¿™ä¸€å—ç”¨äº†å¾ˆé•¿æ—¶é—´ï¼Œå› ä¸ºè¡¨å•çš„è¾“å…¥æ•°æ®ç¼–ç å’Œæ–‡ä»¶çš„ç¼–ç æ˜¯ä¸åŒ¹é…çš„ï¼Œç»è¿‡å‡ æ¬¡å®éªŒï¼Œæˆ‘å‘ç°éœ€è¦å°†è¡¨å•è¾“å…¥æ•°æ®decodeä¸ºæ±‰å­—ç¼–ç </p>
<div class="codehilite"><pre>name = form.name.data.decode(&#39;utf-8&#39;)
</pre></div>


<p>ç¼–ç çœŸå¤´ç—›ï¼ï¼çœ‹ä¸€ä¸‹è¿™ç¯‡å§http://dengshuan.me/misc/xi-shuo-bian-ma-yu-luan-ma.html <br/></p>
<h3>okäº†</h3>
<p><img alt="æœ‰å›¾ä¸ºè¯" src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-27%20ä¸Šåˆ5.22.50.png" /> <br/></p>
<h2>å¤‡æ³¨</h2>
<h4>å®é™…çš„è¿‡ç¨‹æ²¡æœ‰ä¸Šé¢è¯´çš„è¿™ä¹ˆçš„ä¸€æ°”å‘µæˆï¼Œä¸­é—´è¿˜ç¡äº†ä¸€è§‰ğŸ˜„ <br/></h4>
<h4>ä¸¤ç“¶å•¤é…’æ²¡æœ‰å–å®Œ<br/></h4>
<h4>ä¿¡æ¯éƒ½æ˜¯å…¬å¼€çš„ï¼Œåº”è¯¥æ²¡æœ‰ä¾µçŠ¯éšç§å§ğŸ˜” <br/></h4>
<h4>å¼€å¿ƒå°±å¥½ğŸ˜„ <br/></h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Difference between ++*p,*p++,*++p</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#3">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Difference between ++*p,*p++,*++p</h4>
                        </div>
                        <div class="modal-body">
                            <h2>çŒœçŒœè¿™äº›ä»£ç çš„è¾“å‡ºç»“æœå§!</h2>
<p>program1</p>
<div class="codehilite"><pre><span class="cp"># include &lt;iostream&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">};</span>  <span class="c1">// å®šä¹‰å¹¶åˆå§‹åŒ–äº†ä¸€ä¸ªæ•°ç»„</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ•°ç»„</span>
    <span class="o">++*</span><span class="n">p</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;arr[0]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; arr[1]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; *p=&quot;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>program2</p>
<div class="codehilite"><pre><span class="cp"># include &lt;iostream&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">};</span>  <span class="c1">// å®šä¹‰å¹¶åˆå§‹åŒ–äº†ä¸€ä¸ªæ•°ç»„</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ•°ç»„</span>
    <span class="o">*</span><span class="n">p</span><span class="o">++</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;arr[0]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; arr[1]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; *p=&quot;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>program3</p>
<div class="codehilite"><pre><span class="cp"># include &lt;iostream&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">};</span>  <span class="c1">// å®šä¹‰å¹¶åˆå§‹åŒ–äº†ä¸€ä¸ªæ•°ç»„</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ•°ç»„</span>
    <span class="o">*++</span><span class="n">p</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;arr[0]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; arr[1]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; *p=&quot;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>å¦‚ä½•è®¡ç®—ï¼Ÿ</h2>
<p>åªè¦éµå¾ªä¸‹é¢è¿™ä¸¤ä¸ªåŸåˆ™ï¼Œåˆ¤æ–­å°±å¾ˆç®€å•äº†</p>
<div class="codehilite"><pre>1. ++p çš„ä¼˜å…ˆçº§å’Œ *p æ˜¯ä¸€æ ·çš„, éƒ½å…·æœ‰å³ç»“åˆæ€§
2. p++ çš„ä¼˜å…ˆçº§é«˜äº ++p å’Œ *p, å…·æœ‰å·¦ç»“åˆæ€§
</pre></div>


<h2>çŒœå¯¹äº†å—?</h2>
<p>program1è¾“å‡º:</p>
<div class="codehilite"><pre>arr[0]=10 arr[1]=20 *p=11
</pre></div>


<p>program2è¾“å‡º:</p>
<div class="codehilite"><pre>arr[0]=10 arr[1]=20 *p=20
</pre></div>


<p>program3è¾“å‡º:</p>
<div class="codehilite"><pre>arr[0]=10 arr[1]=20 *p=20
</pre></div>


<h2>æ€»ç»“</h2>
<div class="codehilite"><pre>è™½ç„¶è¿™ç¯‡åšå®¢å¾ˆçŸ­ï¼Œä½†æ˜¯å¾ˆå¥½çš„æ€»ç»“äº†è‡ªå¢è‡ªå‡è¿ç®—ç¬¦å’Œ*è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å…³ç³»
</pre></div>


<h2>å‚è€ƒ</h2>
<p><a href="www.geeksforgeeks.org/difference-between-p-p-and-p/">åŸæ–‡(è‹±æ–‡)</a> <br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>æ•°æ®ç»“æ„ä¹‹ çº¿æ€§è¡¨</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#4">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">æ•°æ®ç»“æ„ä¹‹ çº¿æ€§è¡¨</h4>
                        </div>
                        <div class="modal-body">
                            <h2>çº¿æ€§è¡¨çš„å®šä¹‰</h2>
<div class="codehilite"><pre>çº¿æ€§è¡¨æ˜¯ç”±nä¸ªæ•°æ®å…ƒç´ a0, a1...ai...an-1ç»„æˆçš„æœ‰é™åºåˆ—

        ç»„æˆ          å…³ç³»
æ•°æ®é¡¹ ----&gt; æ•°æ®å…ƒç´  ----&gt; æ•°æ®ç»“æ„
</pre></div>


<h3>çº¿æ€§è¡¨çš„æŠ½è±¡æ•°æ®ç±»å‹</h3>
<div class="codehilite"><pre>çº¿æ€§è¡¨çš„æŠ½è±¡æ•°æ®ç±»å‹æ˜¯æŒ‡ä¸€ä¸ªé€»è¾‘æ¦‚å¿µä¸Šçš„ç±»å‹å’Œè¿™ä¸ªç±»å‹çš„æ“ä½œé›†åˆ
ç±»å‹ï¼šæ•°æ®é›†åˆã€è¯¥æ•°æ®é›†åˆä¸Šçš„æ“ä½œé›†åˆ
ç±»å‹æ˜¯ç±»
</pre></div>


<h3>æŠ½è±¡ç¬¦å·è¡¨ç¤º</h3>
<div class="codehilite"><pre>çº¿æ€§è¡¨çš„æ•°æ®é›†åˆå¯ä»¥è¡¨ç¤ºä¸º: a0,a1,a2...an-1
è¿™äº›æ•°æ®é›†åˆçš„æ•°æ®ç»“æ„éƒ½æ˜¯æŠ½è±¡æ•°æ®ç±»å‹: DataType
</pre></div>


<h2>çº¿æ€§è¡¨æ“ä½œé›†åˆ</h2>
<div class="codehilite"><pre>(1) ListInitiate(L): åˆå§‹åŒ–çº¿æ€§è¡¨
(2) ListLength(L): æ±‚çº¿æ€§è¡¨çš„é•¿åº¦
(3) ListDelete(L, i, x):
    åˆ é™¤çº¿æ€§è¡¨Lçš„ç¬¬iä¸ªå…ƒç´ , æ‰€åˆ é™¤çš„æ•°æ®å…ƒç´ ç”±è¾“å‡ºå‚æ•°xå¸¦å›, åˆ é™¤æˆåŠŸè¿”å›1ã€åˆ é™¤å¤±è´¥è¿”å›0,
    åˆ é™¤æˆåŠŸçš„æ¡ä»¶ï¼š0=&lt;i&lt;ListLength(L)
(4) ListInsert(L, i, x):
    åœ¨çº¿æ€§è¡¨Lçš„ç¬¬iä¸ªå…ƒç´ å‰æ’å…¥ä¸€ä¸ªå…ƒç´ x,æ’å…¥æˆåŠŸè¿”å›1ï¼Œæ’å…¥å¤±è´¥è¿”å›0,
    æ’å…¥æˆåŠŸçš„æ¡ä»¶æ˜¯: 0=&lt;i&lt;=ListLength(L)
(5) ListGet(L, i, x): ç´¢å¼•æ•°æ®å…ƒç´ 
</pre></div>


<h2>çº¿æ€§è¡¨çš„å­˜å‚¨ç»“æ„</h2>
<h3>1. é¡ºåºå­˜å‚¨ç»“æ„</h3>
<h4>1.1. å®šä¹‰</h4>
<div class="codehilite"><pre>å°†æœ‰é™æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­é¡ºåºå­˜å‚¨: ç‰©ç†å’Œé€»è¾‘ä¸Šçš„é¡ºåº
</pre></div>


<h4>1.2 é¡ºåºå­˜å‚¨ç»“æ„çš„å®ç°</h4>
<div class="codehilite"><pre>é¡ºåºå­˜å‚¨ç»“æ„çš„å…·ä½“å®ç°å°±æ˜¯æ•°ç»„: å³é€»è¾‘ä¸Šç›¸é‚»çš„æ•°æ®å…ƒç´ åœ¨ç‰©ç†ä¸Šä¹Ÿç›¸é‚»

     ----------------------------------------
list | a0 | a1 | a2 | ...| ai-1 | ... |     |
     ----------------------------------------
       0    1    2          i-1       MaxSize-1

listå°±æ˜¯ä¸€ä¸ªé¡ºåºè¡¨(çº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨ç»“æ„çš„ç®€ç§°)
è¿™é‡Œçš„listå¯¹åº”äºä¸€ä¸ªé™æ€æ•°ç»„(å³å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾æ˜¯ç³»ç»Ÿå®Œæˆçš„),
æœ€å¤§å­˜å‚¨å¤§å°ä¸º MaxSize, å½“å‰å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°ç”¨sizeè¡¨ç¤º
å¯ä»¥ç”¨Cè¯­è¨€å®ç°ï¼Œå¦‚ä¸‹ï¼š

    typedef struct
    {
        DataType list[MaxSize];
        int size;

    } SeqList;
</pre></div>


<h4>1.3 é¡ºåºè¡¨æ“ä½œçš„å®ç°</h4>
<p>1.3.1: åˆå§‹åŒ–é¡ºåºè¡¨</p>
<div class="codehilite"><pre>int ListInitiate(SeqList *L)  // åˆ©ç”¨ç»“æ„ä½“åˆ›å»ºä¸€ä¸ªé¡ºåºè¡¨L
{
    L-&gt;size = 0;
    return 0;
}
</pre></div>


<p>1.3.2: æ±‚å½“å‰æ•°æ®å…ƒç´ çš„ä¸ªæ•°</p>
<div class="codehilite"><pre>int ListLength(SeqList L)
{
    return L-&gt;size;
}
</pre></div>


<p>1.3.3: æ’å…¥æ•°æ®å…ƒç´ (å‰æ’)</p>
<div class="codehilite"><pre><span class="cm">/*å…ˆç§»åŠ¨åæ’å…¥*/</span><span class="w"></span>
int<span class="w"> </span>ListInsert<span class="o">(</span>SeqList<span class="w"> </span><span class="o">*</span>L<span class="o">,</span><span class="w"> </span>int<span class="w"> </span>i<span class="o">,</span><span class="w"> </span>DataType<span class="w"> </span>x<span class="o">)</span><span class="w"></span>
<span class="err">{</span><span class="w"></span>
<span class="w">    </span><span class="cm">/*åœ¨é¡ºåºè¡¨ç¬¬iä¸ªä½ç½®å‰æ’å…¥æ•°æ®å…ƒç´ xï¼Œæ’å…¥æˆåŠŸè¿”å›1</span>
<span class="cm">      æ’å…¥å¤±è´¥è¿”å›0*/</span><span class="w"></span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="err">åˆ¤æ–­çº¿æ€§è¡¨æ˜¯å¦å·²æ»¡</span><span class="w"></span>
<span class="w">    </span>int<span class="w"> </span>j<span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="kr">if</span><span class="o">(</span>L<span class="o">-&gt;</span>size<span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>MaxSize<span class="o">)</span><span class="err">{</span><span class="w"></span>
<span class="w">        </span>printf<span class="o">(</span><span class="s">&quot;çº¿æ€§è¡¨å·²æ»¡ï¼Œä¸èƒ½æ’å…¥!\n&quot;</span><span class="o">)</span><span class="err">;</span><span class="w"></span>
<span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="m">0</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="err">}</span><span class="w"></span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="err">åˆ¤æ–­å‚æ•°</span>i<span class="err">æ˜¯å¦æ­£ç¡®</span><span class="w"></span>
<span class="w">    </span><span class="kr">else</span><span class="w"> </span><span class="kr">if</span><span class="o">(</span>i<span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>i<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span>L<span class="o">-&gt;</span>size<span class="o">)</span><span class="err">{</span><span class="w"></span>
<span class="w">        </span>printf<span class="o">(</span><span class="s">&quot;å‚æ•°iä¸åˆæ³•! \n&quot;</span><span class="o">)</span><span class="err">;</span><span class="w"></span>
<span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="m">0</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="err">}</span><span class="w"></span>

<span class="w">    </span><span class="kr">else</span><span class="err">{</span><span class="w"></span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="err">å°†æ’å…¥ä½ç½®åçš„æ•°æ®å…ƒç´ ä»ååˆ°å‰ä¾æ¬¡å‘åç§»åŠ¨ä¸€ä½</span><span class="w"></span>
<span class="w">        </span><span class="kr">for</span><span class="o">(</span>j<span class="o">=</span>L<span class="o">-&gt;</span>size<span class="err">;</span><span class="w"> </span>j<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span>i<span class="err">;</span><span class="w"> </span>j<span class="o">--)</span><span class="w"> </span>L<span class="o">-&gt;</span>list<span class="err">[</span>j<span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>L<span class="o">-&gt;</span>list<span class="err">[</span>j<span class="o">-</span><span class="m">1</span><span class="err">];</span><span class="w"></span>

<span class="w">        </span>L<span class="o">-&gt;</span>list<span class="err">[</span>i<span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>x<span class="err">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="err">ç¬¬</span>i<span class="err">ä¸ªä½ç½®ç©ºå‡º</span><span class="w"></span>
<span class="w">        </span>L<span class="o">-&gt;</span>size<span class="o">++</span><span class="err">;</span><span class="w"></span>
<span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="m">1</span><span class="err">;</span><span class="w"></span>
<span class="w">    </span><span class="err">}</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</pre></div>


<p>1.3.4: åˆ é™¤æ•°æ®å…ƒç´ </p>
<div class="codehilite"><pre>int ListDelete(SeqList *L, int i, DataType *x)
{
    // åˆ é™¤é¡ºåºè¡¨Lä¸­ç¬¬i(0=&lt;i&lt;size)ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ ä¿å­˜åˆ°xä¸­(xä»¥æŒ‡é’ˆæœ€ä¸ºé€‚å®œ)

    // åˆ¤æ–­é¡ºåºè¡¨æ˜¯å¦ä¸ºç©º
    if(L-&gt;size == 0){
        printf(&quot;é¡ºåºè¡¨ä»¥ç©º,æ— æ•°æ®å¯åˆ \n&quot;);
        return 0;
    }

    // åˆ¤æ–­iæ˜¯å¦ç¬¦åˆæ¡ä»¶
    if(i &lt; 0 || i &gt;= size ){
        printf(&quot;å‚æ•°iä¸åˆæ³•\n&quot;)
        return 0;
    }

    else{
        // ä¿å­˜è¢«åˆ é™¤çš„æ•°æ®å…ƒç´ 
        *x = L-&gt;list[i];

        // ä»å‰å‘åä¾æ¬¡ç§»åŠ¨
        for(j=i+1; j &lt;= L-&gt;size - 1; j++) L-&gt;list[j-1] = L-&gt;list[j];

        L-&gt;size--;
        return 1;
    }
}
</pre></div>


<p>1.3.5: å–é¡ºåºè¡¨ä¸­çš„å…ƒç´ </p>
<div class="codehilite"><pre>int ListGet(SeqList L, int i, DataType *x)
{
    if(i &lt; 0 || i &gt; L-&gt;size){
        print(&quot;i è¶…å‡ºèŒƒå›´\n&quot;);
        return 0;
    }

    else{
        *x = L-&gt;list[i];
        return 1;
    }
}
</pre></div>


<h4>1.4 é¡ºåºè¡¨æ•ˆç‡åˆ†æ</h4>
<ol>
<li>
<p>æ’å…¥æ“ä½œå¹³å‡ç§»åŠ¨æ¬¡æ•°<br/></p>
<p>(0+1+...+n)/(n+1) = n/2</p>
</li>
<li>
<p>åˆ é™¤æ“ä½œå¹³å‡ç§»åŠ¨æ¬¡æ•°<br/></p>
<p>(0+1+...+n-1)/n = (n-1)/2</p>
</li>
</ol>
<p>å¯è§ï¼Œé™¤æ’å…¥ã€åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n),å…¶ä½™æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)<br/>
ä½†æ˜¯éœ€è¦é¢„å…ˆç¡®å®šå­˜å‚¨å®¹é‡çš„å¤§å°<br/></p>
<h3>2. é“¾å¼å­˜å‚¨ç»“æ„</h3>
<div class="codehilite"><pre>é“¾å¼å­˜å‚¨ç»“æ„ï¼Œå³é‡‡ç”¨æŒ‡é’ˆå°†æœ‰é™çš„æ•°æ®å…ƒç´ ç›¸è¿,æŒ‡é’ˆåŸŸå’Œæ•°æ®å…ƒç´ åŸŸæ„æˆç»“ç‚¹ã€‚
é“¾å¼å­˜å‚¨ç»“æ„ä¸­ï¼Œå…ƒç´ åœ¨é€»è¾‘ä¸Šæ˜¯ç›¸äº’è¿æ¥çš„ï¼Œä½†æ˜¯åœ¨ç‰©ç†å†…å­˜ä¸­ä¸ä¸€å®šç›¸é‚»(è¿™æ ·æ›´ç¬¦åˆå®é™…)ã€‚
çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨ç»“æ„ï¼Œç®€ç§°ä¸º: é“¾è¡¨ã€‚
é“¾è¡¨åˆ†ä¸ºå•é“¾è¡¨ã€å•å¾ªç¯é“¾è¡¨å’ŒåŒå¾ªç¯é“¾è¡¨ã€‚
è¿™é‡Œä»¥å•é“¾è¡¨ä¸ºä¸»è¿›è¡Œé“¾è¡¨æ“ä½œä»‹ç»ã€‚
</pre></div>


<h4>2.1. å•é“¾è¡¨</h4>
<h5>2.1.1: å®šä¹‰</h5>
<div class="codehilite"><pre>æ„æˆé“¾è¡¨çš„ç»“ç‚¹åªæœ‰ä¸€ä¸ªæŒ‡å‘ç›´æ¥åç»§ç»“ç‚¹çš„æŒ‡é’ˆåŸŸ

                ---------------
å•é“¾è¡¨çš„ç»“ç‚¹ç»“æ„| data | next |
                ---------------

typedef struct
{
    DataType data;  // æ•°æ®
    struct Node *next;  // æŒ‡é’ˆ:æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹

}SLNode;

å¤´æŒ‡é’ˆï¼šæŒ‡å‘å•é“¾è¡¨çš„æŒ‡é’ˆ

å¤´æŒ‡é’ˆ ---&gt; |\\\\\|   ^   |           å¤´æŒ‡é’ˆ ---&gt; [////][   ] ---&gt; [ a0 ][    ] ---&gt; [  an-1  ][  ^  ]
                ç©ºé“¾                                            éç©ºé“¾

å•é“¾è¡¨ä¸€èˆ¬æ„é€ ä¸ºå¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¤´æŒ‡é’ˆçš„å€¼ä¸ä¼šæ”¹å˜
</pre></div>


<h5>2.1.2 å•é“¾è¡¨çš„æ“ä½œå®ç°</h5>
<p>1.å•é“¾è¡¨éœ€è¦ç¨‹åºå‘˜ç”³è¯·å†…å­˜ç”¨äºå‚¨å­˜æ•°æ®å…ƒç´ ,ç”³è¯·çš„å†…å­˜éœ€è¦é‡Šæ”¾</p>
<div class="codehilite"><pre>void * malloc(unsigned size): ç”¨äºåŠ¨æ€ç”³è¯·sizeå¤§å°çš„å†…å­˜ï¼Œå¹¶è¿”å›æŒ‡å‘æ‰€ç”³è¯·å†…å­˜ç©ºé—´é¦–åœ°å€çš„æŒ‡é’ˆ
void free(*p): ä»¥æŒ‡å‘ç”³è¯·å†…å­˜ç©ºé—´é¦–åœ°å€çš„æŒ‡é’ˆä¸ºå®å‚ï¼Œé‡Šæ”¾è¯¥å†…å­˜ç©ºé—´
</pre></div>


<p>2.å•é“¾è¡¨çš„ç»“ç‚¹å®šä¹‰</p>
<div class="codehilite"><pre>typedef struct Node
{
    DataType data;
    struct Node *next;

}SLNode
</pre></div>


<p>3.æ“ä½œå®ç°
3.1 åˆå§‹åŒ–çº¿æ€§è¡¨(é“¾è¡¨)</p>
<div class="codehilite"><pre>int ListInitiate(SLNode **head)
{
    *head = (SLNode *)malloc(sizeof(SLNode));  // åˆ›å»ºå¤´ç»“ç‚¹ï¼Œç”±headæŒ‡å‘å¤´ç»“ç‚¹
    (*head-&gt;next) = Null;
    return 0;
}
              *head-&gt;next
                _____
head ---&gt; [////][ ^ ]
          -----------
            *head
</pre></div>


<p>3.2 æ±‚å½“å‰æ•°æ®å…ƒç´ çš„ä¸ªæ•°</p>
<div class="codehilite"><pre>int ListLength(SLNode *head)
{
    SLNode *p = head;
    int size = 0;  // é•¿åº¦è®¡æ•°å™¨

    while(p-&gt;next != Null){
        p = p-&gt;next;
        size++;
    }
    return size;
}

head ---&gt; [///][  ] ---&gt; [a0][next] ---&gt; [a2][next] ---&gt; [ai][^]
            /\
            ||
            p
</pre></div>


<p>3.3 æ’å…¥æ“ä½œ</p>
<div class="codehilite"><pre>int ListInsert(SLNode *head, int i, DataType x)
{
    // æ³¨æ„âš  : æˆ‘ä»¬å¯ä»¥æ“çºµçš„æŒ‡é’ˆæ˜¯æŒ‡å‘ç»“ç‚¹çš„æŒ‡é’ˆ
    SLNode *p, *q;
    int j = -1;  // è¡¨ç¤ºåŒ…å«å¤´ç»“ç‚¹

    p = head;

    while(p-&gt;next != Null &amp;&amp; j &lt; i-1){
        p = p-&gt;next;
        j++;
    }

    if(j != i-1){
        printf(&quot;i æœ‰é”™è¯¯å“¦\n&quot;);
        return 0;
    }

    /*æ‰§è¡Œæ’å…¥æ“ä½œ*/
    q = (SLNode *)malloc(sizeof(SLNode));
    q-&gt;data = x;

    q-&gt;next = p-&gt;next;
    p-&gt;next = q;
    return 1;
}
</pre></div>


<p>3.4 åˆ é™¤ç»“ç‚¹æ“ä½œ(éœ€è¦åŠ¨æ€é‡Šæ”¾å†…å­˜)</p>
<div class="codehilite"><pre>--&gt; [ /// ][   ] --&gt; [ a0 ][   ] --&gt; [ a1 ][   ] --&gt; [  ai  ][   ] --&gt; [ ai+1 ][   ]

int ListDelete(SLNode *head, int i, DataType *x)
{
    SLNode *p, *s;
    int j;

    p = head;
    j = -1;  // è¡¨ç¤ºåŒ…å«å¤´ç»“ç‚¹

    while(p-&gt;next != NULL &amp;&amp; p-&gt;next-&gt;next != NULL &amp;&amp; j &lt; i-1){
        p = p-&gt;next;
        j++;
    }

    if(j != i - 1){
        printf(&quot;åˆ é™¤ä½ç½®å‡ºé”™äº†!\n&quot;);
        return 0;
    }

    s = p-&gt;next;
    *x = s-&gt;data;
    p-&gt;next = p-&gt;next-&gt;next;
    free(s);  // é‡Šæ”¾å†…å­˜ç©ºé—´
    return 1;
}
</pre></div>


<p>3.5 è·å–ç»“ç‚¹å…ƒç´ çš„æ“ä½œ</p>
<div class="codehilite"><pre>int ListGet(SLNode *head, int i, DataType *x)
{
    SLNode *p;
    int j;

    p = head;
    j = -1;  // åŒ…å«å¤´æŒ‡é’ˆ
    while(p-&gt;next != NULL &amp;&amp; j &lt; i){
        // éå†å•é“¾è¡¨
        p = p-&gt;next;
        j++;
    }
    // æ­¤æ—¶pæ˜¯åœ¨ç¬¬iä¸ªä½ç½®ä¸Š

    if(j != i){
        printf(&quot;è·å–ä½ç½®ié”™è¯¯\n&quot;);
        return 0;
    }

    *x = p-&gt;data;
    return 1;
}
</pre></div>


<p>4.å•é“¾è¡¨æ•ˆç‡åˆ†æ</p>
<div class="codehilite"><pre>å•é“¾è¡¨æ’å…¥å’Œåˆ é™¤æ•°æ®å…ƒç´ æ—¶æ— é¡»ç§»åŠ¨æ•°æ®å…ƒç´ ï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œæ•°æ®å…ƒç´ çš„æ¯”è¾ƒï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ—¶O(n)
è€Œä¸”å•é“¾è¡¨çš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½æœ‰æŒ‡é’ˆåŸŸ,ç©ºé—´åˆ©ç”¨æ•ˆç‡ä¸é«˜ã€‚
ä½†æ˜¯å•é“¾è¡¨æ›´åŠ çµæ´»ï¼Œå¯ä»¥è·Ÿæ®å®é™…æƒ…å†µç”³è¯·å†…å­˜ã€‚
</pre></div>


<h2>è¡¥å……: å¾ªç¯å•é“¾è¡¨ã€åŒå‘é“¾è¡¨ã€é™æ€é“¾è¡¨</h2>
<h3>1. å¾ªç¯å•é“¾è¡¨</h3>
<div class="codehilite"><pre>å•é“¾è¡¨å¤„ç†ä»å¤´åˆ°å°¾çš„è¿‡ç¨‹å¾ˆæ–¹ä¾¿ï¼Œä½†æ— æ³•å¤„ç†ä»å°¾åˆ°å¤´çš„è¿‡ç¨‹ï¼Œ
äºæ˜¯ä¾¿æœ‰äº†å¾ªç¯é“¾è¡¨ï¼Œå°†é“¾è¡¨çš„å¤´å°¾è¿æ¥èµ·æ¥
</pre></div>


<p>1 å¾ªç¯å•é“¾è¡¨æ˜¯ç©ºé“¾è¡¨:</p>
<div class="codehilite"><pre>head --&gt; [////][    ]    :     *head -&gt; next != NULL = head
              |___|
</pre></div>


<p>2 ä¸€èˆ¬å¾ªç¯å•é“¾è¡¨:</p>
<div class="codehilite"><pre>head --&gt; [//][] -&gt; [//][a0] -&gt; [//][a1] -&gt; [][]...-&gt;[//][an]
            |___________________________________________|

è¿™æ—¶åªéœ€æŠŠå¾ªç¯åˆ¤æ–­æ¡ä»¶ p-&gt;next != NULL, p-&gt;next-&gt;next != NULL ä¸­çš„ NULL æ”¹ä¸º head
</pre></div>


<h3>2. åŒå‘é“¾è¡¨</h3>
<div class="codehilite"><pre>åŒå‘é“¾è¡¨çš„ç»“ç‚¹ä¸­åŒ…å«å‰é©±æŒ‡é’ˆåŸŸ

[ prior ][ data ][ next ]
-------------------------
    åŒå‘å¾ªç¯é“¾è¡¨ç»“ç‚¹
</pre></div>


<p>åŒå‘å¾ªç¯é“¾è¡¨ç»“ç‚¹ç»“æ„ä½“çš„å®ç°</p>
<div class="codehilite"><pre>typedef struct Node
{

    DataType data;
    struct Node *next;
    struct Node *prior;

}DLNode;
</pre></div>


<p>1 åŒå‘å¾ªç¯é“¾è¡¨æ˜¯ç©ºé“¾è¡¨</p>
<div class="codehilite"><pre>         |--|        |---|
head --&gt; |-[  ][//][  ] -|
</pre></div>


<p>2 ä¸€èˆ¬åŒå‘é“¾è¡¨</p>
<div class="codehilite"><pre>head --&gt; [  ][//][  ] &lt;--&gt; [  ][//][  ] &lt;--&gt; [  ][//][  ]
</pre></div>


<p>å½“æŸ¥æ‰¾æŸä¸€ä¸ªç»“ç‚¹çš„å‰é©±ç»“ç‚¹æ—¶,ä½¿ç”¨å•é“¾è¡¨éœ€è¦ä»å¤´å¼€å§‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ—¶é—´æ•ˆç‡å¤ªä½, è€ŒåŒå‘é“¾è¡¨å¯ä»¥æœ‰æ•ˆçš„è§£å†³å‰é©±ç»“ç‚¹çš„æŸ¥æ‰¾é—®é¢˜ã€‚</p>
<h3>3. é™æ€é“¾è¡¨</h3>
<div class="codehilite"><pre>é™æ€é“¾è¡¨å°±æ˜¯ç”±æ•°ç»„æ„æˆçš„é“¾è¡¨ï¼Œé€šè¿‡åœ¨æ•°ç»„ä¸­æ„é€ ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šçš„æŒ‡é’ˆåŸŸï¼Œå­˜å‚¨ä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ çš„ç´¢å¼•å€¼ï¼Œå½¢æˆé“¾è¡¨
</pre></div>


<h2>å‚è€ƒ</h2>
<p><a href="https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A1%A8">ç»´åŸºç™¾ç§‘:çº¿æ€§è¡¨</a> <br/>
<a href="http://3961409.blog.51cto.com/3951409/1045218">çº¿æ€§è¡¨é¡ºåºå­˜å‚¨æ’å…¥å’Œåˆ é™¤æ–°èŠ‚ç‚¹æ—¶å¹³å‡ç§»åŠ¨æ¬¡æ•° </a> <br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>pythonä¸‰ä¸ªå†…ç½®è£…é¥°å™¨ç”¨æ³•å°ç»“</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#5">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">pythonä¸‰ä¸ªå†…ç½®è£…é¥°å™¨ç”¨æ³•å°ç»“</h4>
                        </div>
                        <div class="modal-body">
                            <h2>python è£…é¥°å™¨</h2>
<p>å…·ä½“å‚è§ï¼š<a href="http://python.jobbole.com/81683/">12æ­¥è½»æ¾æå®špythonè£…é¥°å™¨</a><br/>
ç®€å•çš„è¯´ï¼šè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªä»¥å‡½æ•°å¯¹è±¡ä¸ºå‚æ•°çš„ç±»æˆ–å‡½æ•°ï¼Œåœ¨è£…é¥°å™¨ä¸­å¯ä»¥å®šä¹‰è¢«è£…é¥°å‡½æ•°ä¹‹å‰æˆ–ä¹‹åçš„è¡Œä¸ºï¼Œä»è€Œè¾¾åˆ°ä¿®é¥°å‡½æ•°çš„ç›®çš„ã€‚è£…é¥°å™¨è¿˜å¯ä»¥å®šä¹‰å‚æ•°å±‚æ¥æ”¶å‚æ•°ï¼Œ
å¹¶å°†å‚æ•°ä¼ é€’ç»™è¢«è£…é¥°å‡½æ•°ã€‚<br/></p>
<h2>python å†…ç½®ä¸‰å¤§è£…é¥°å™¨ğŸ†’</h2>
<p>python å†…ç½®äº†ä¸‰ä¸ªé‡è¦çš„è£…é¥°å™¨ï¼š</p>
<div class="codehilite"><pre>@staticmethod, @classmethod, @property
</pre></div>


<p>è¿™ä¸‰ä¸ªè£…é¥°å™¨åº”ç”¨å¹¿æ³›ï¼Œåœ¨ç±»ä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ã€‚<br/>
<br/>
ç”±äºä¸ªäººæ°´å¹³æœ‰é™ï¼Œè¿™ç¯‡åšå®¢ä¸»è¦ä»‹ç»è¿™ä¸‰ä¸ªè£…é¥°å™¨æ€ä¹ˆç”¨ï¼Œæºç å°±ä¸æ¶‰åŠäº†ã€‚<br/>
<br/></p>
<h2>@staticmethod</h2>
<p>é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªè£…é¥°å™¨ç”¨äºç±»ä¸­ï¼Œå°†ç±»æ–¹æ³•å˜æˆé™æ€æ–¹æ³•ï¼Œå³åœ¨å¯¹è±¡è°ƒç”¨çš„è¿‡ç¨‹ä¸­ä¸ä¼ å…¥å¯¹è±¡æˆ–ç±»å®ä¾‹</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">This_is_a_class</span>(<span class="n">object</span>):

    ...
    <span class="nv">@staticmethod</span>
    <span class="n">def</span> <span class="n">this_is_staticmethod</span>():
        <span class="nb">print</span> <span class="s">&quot;I am a staticmethod!&quot;</span>
    ...
</pre></div>


<p>è¿è¡Œ</p>
<div class="codehilite"><pre>&gt;&gt; obj = This_is_a_class()
&gt;&gt; obj.this_is_staticmethod()
I am a staticmethod!
</pre></div>


<p>@staticmethod å°±ç›¸å½“äºæŠŠè¢«ä¿®é¥°å‡½æ•°å˜æˆä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œå¹¶ä¸”å¯ä»¥æŠŠå‡½æ•°çš„ä½ç½®çº¦æŸåœ¨ç±»ä¸­ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ èº«åœ¨æ›¹è¥å¿ƒåœ¨æ±‰å§ï¼<br/></p>
<h2>@classmethod</h2>
<p>é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªè£…é¥°å™¨ç”¨äºç±»ä¸­ï¼Œå¯ä»¥ä½¿ç±»æ–¹æ³•æ¥æ”¶ç±»ä½œä¸ºå‚æ•°</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">This_is_a_class</span>(<span class="n">object</span>):

    ...
    <span class="nv">@classmethod</span>
    <span class="n">def</span> <span class="n">this_is_classmethod</span>(<span class="n">cls</span>):
        <span class="nb">print</span> <span class="s">&quot;I am a classmethod!&quot;</span>
    ...
</pre></div>


<p>è¿è¡Œ</p>
<div class="codehilite"><pre>&gt;&gt; obj = This_is_a_class()
&gt;&gt; obj.this_is_classmethod()
I am a classmethod!
</pre></div>


<p>ä¸€èˆ¬è°ƒç”¨ç±»ä½œä¸ºå‚æ•°çš„å‡½æ•°éœ€è¦åœ¨ç±»å¤–å®šä¹‰ï¼Œä½† @classmethod ä½¿æˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­è°ƒç”¨ç±»ä½œä¸ºå‚æ•°ï¼Œæ›´åŠ æ–¹ä¾¿æˆ‘ä»¬ç»„ç»‡ä»£ç !<br/></p>
<h2>@property</h2>
<p>@property å¯ä»¥å°†æ–¹æ³•å˜ä¸ºå±æ€§</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">This_is_a_class</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>):
        <span class="k">self</span>.<span class="n">_property</span> = <span class="s">&quot;I am a property!&quot;</span>
    ...
    <span class="nv">@property</span>
    <span class="n">def</span> <span class="n">obj_property</span>(<span class="k">self</span>):
        <span class="nb">print</span> <span class="s">&quot;get property&quot;</span>
        <span class="k">return</span> <span class="n">slef</span>.<span class="n">_property</span>

    <span class="nv">@obj_property</span>.<span class="n">setter</span>
    <span class="n">def</span> <span class="n">property</span>(<span class="k">self</span>, <span class="nb">value</span>):
        <span class="nb">print</span> <span class="s">&quot;set property&quot;</span>
        <span class="k">self</span>.<span class="n">_property</span> = <span class="k">self</span>.<span class="nb">value</span>
    ...
</pre></div>


<p>è¿è¡Œ</p>
<div class="codehilite"><pre>&gt;&gt; obj = This_is_a_class()
&gt;&gt; obj.obj_property
get property
I am a property!
&gt;&gt; obj.obj_property(&quot;Yes, I am a property!&quot;)
set property
Yes, I am a property!
</pre></div>


<p>å¯è§ @property è£…é¥°å™¨å¯ä»¥å°†ç±»æ–¹æ³•å˜æˆå¯¹è±¡å±æ€§è°ƒç”¨ï¼Œå…·æœ‰å±æ€§çš„ getã€setã€deleteæ–¹æ³•<br/></p>
<h2>æ›´åŠ æ·±å…¥</h2>
<p>æœ‰ä¸å°‘å¤§ç¥å†™äº†å¾ˆå¤šè¿™æ–¹é¢çš„åšå®¢ï¼Œè¿™é‡Œæ¨èä¸¤ç¯‡<br/>
<a href="http://www.wklken.me/posts/2013/12/22/difference-between-staticmethod-and-classmethod-in-python.html">[ç¿»è¯‘]Pythonä¸­staticmethodå’Œclassmethodçš„å·®å¼‚</a> <br/>
<a href="http://python.jobbole.com/81967/">Python ä¸­çš„ property å±æ€§</a><br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>why reload?</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#6">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">why reload?</h4>
                        </div>
                        <div class="modal-body">
                            <h2>è®¾å®šç¼–ç çš„æƒ¯ä¾‹</h2>
<p>å½“è®¾å®špythonæ–‡ä»¶ç¼–ç æ—¶</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>


<p>ä¸‰è¡Œæå®šï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ±‰å­—ä¹±ç äº†ï¼ğŸ˜„</p>
<h2>ç„¶è€Œï¼šé—®é¢˜æ¥äº†</h2>
<p>å‡ ä¸ªæœˆåçš„ä¸€å¤©ï¼Œä¸€åå¥³ç¨‹åºå‘˜é—®æˆ‘ï¼šä¸ºä»€ä¹ˆè¦ reload(sys) ? ğŸ˜”</p>
<h2>SO: Why reload(sys)</h2>
<h3>1. sys</h3>
<div class="codehilite"><pre>sys æ˜¯ä¸€ä¸ªpythonæ¨¡å—ï¼ŒåŒ…å«ç³»ç»Ÿå¯¹åº”çš„åŠŸèƒ½ï¼Œæ¯”å¦‚é€šè¿‡argvè·å–è¿è¡Œæ—¶å‘½ä»¤è¡Œå‚æ•°
</pre></div>


<p>å…·ä½“è§http://www.cnblogs.com/diege/archive/2012/10/03/2710776.html <br/></p>
<h3>2. setdefaultencoding å‡½æ•°</h3>
<div class="codehilite"><pre>setdefaultencoding æ˜¯sysæ¨¡å—æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥<span class="nt">&lt;strong&gt;</span>ä¿®æ”¹é»˜è®¤ç¼–ç <span class="nt">&lt;/strong&gt;&lt;br/&gt;</span>
</pre></div>


<h3>3. python åŠ è½½æ¨¡å—çš„è¿‡ç¨‹</h3>
<div class="codehilite"><pre>è¿è¡Œè§£é‡Šå™¨ -&gt; åŠ è½½åº“æ–‡ä»¶(ex: site.py) -&gt; åŠ è½½æ¨¡å—(ex: sys)
</pre></div>


<h3>4. python reload å‡½æ•°</h3>
<div class="codehilite"><pre>reload æ˜¯pythonå†…ç½®å‡½æ•°ï¼Œç”¨äºåœ¨å½“å‰è¿è¡Œæ—¶é‡æ–°åŠ è½½æ¨¡å—ï¼Œä¸ä¼šæ”¹å˜å…ˆå‰æ–‡ä»¶ä¸­çš„æ¨¡å—çŠ¶æ€
</pre></div>


<h3>5. reload(sys)</h3>
<p>å¦‚æœæˆ‘ä»¬å°è¯•è¿è¡Œ</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="s">&#39;module&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">&#39;setdefaultencoding&#39;</span>
</pre></div>


<p>è¿™åˆæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ<br/>
å½“æˆ‘ä»¬å¯¼å…¥åŠ è½½ sys æ¨¡å—æ—¶é¦–å…ˆä¼šåŠ è½½ site.py(/usr/lib/python2.7), çœ‹ä¸€ä¸‹ site.py çš„æºç ï¼š
<img alt="æºç " src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-08%20ä¸‹åˆ11.17.14.png" /><br/></p>
<p>åŸæ¥setdefaultencodingå‡½æ•°è¢«site.pyåˆ æ‰å•¦ï¼è‡³äºä¸ºä»€ä¹ˆè¦åˆ ï¼Œæ³¨é‡Šé‡Œå†™äº†ï¼šä½¿ç”¨æˆ·æ— æ³•åœ¨åˆå§‹åŒ–åæ”¹å˜ç¼–ç <br/>
è€Œ reload(sys) åˆ™é¿å…äº†site.pyçš„è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ setdefaultencoding å‡½æ•°æ”¹å˜ç¼–ç <br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>æ•°æ®ç»“æ„ï¼æŠ½è±¡ï¼šèŠ‚ç‚¹ä¸è¾¹</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#7">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="7" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">æ•°æ®ç»“æ„ï¼æŠ½è±¡ï¼šèŠ‚ç‚¹ä¸è¾¹</h4>
                        </div>
                        <div class="modal-body">
                            <h5>è¿™ç¯‡ç¬”è®°ä¸»è¦ä»‹ç»æ•°æ®ç»“æ„çš„æ€ç»´æ–¹å¼</h5>
<h2>æŠ½è±¡</h2>
<p>å¯¹äºä¸€ä¸ªäº‹ç‰©ï¼Œæˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„ä¸»è¦éƒ¨åˆ†å¾€å¾€å°±æ˜¯é‚£å‡ ä¸ªç‰¹å¾ç‚¹ï¼Œæˆ‘ä»¬æŠŠé‚£äº›ç‰¹å¾
ç‚¹æå–å‡ºæ¥è¿›è¡Œç»„ç»‡ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„è¿‡ç¨‹ã€‚<br/></p>
<h2>èŠ‚ç‚¹ä¸è¾¹</h2>
<p>èŠ‚ç‚¹ä¸è¾¹æ˜¯æ•°æ®ç»“æ„ä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„æŠ½è±¡æ¨¡å‹<br/>
èŠ‚ç‚¹æ˜¯æ•°æ®å…ƒç´ çš„æŠ½è±¡ï¼Œè€Œè¾¹å°±æ˜¯æ•°æ®ä¸æ•°æ®ä¹‹é—´å…³ç³»çš„æŠ½è±¡ï¼Œæœ‰äº†èŠ‚ç‚¹ä¸è¾¹ï¼Œæˆ‘ä»¬å°±
å¯ä»¥æ„æˆå„ç§å›¾ï¼Œåˆ©ç”¨ç¦»æ•£æ•°å­¦çš„çŸ¥è¯†è®¾è®¡ç®—æ³•ã€‚<br/></p>
<h2>èŠ‚ç‚¹ä¸è¾¹åœ¨å¸¸è§æ•°æ®ç»“æ„ä¸­çš„åº”ç”¨</h2>
<h3>1. çº¿æ€§è¡¨</h3>
<p>çº¿æ€§è¡¨æ˜¯å¯¹æ•°æ®å¯¹è±¡æœ€åŸºç¡€çš„æŠ½è±¡ï¼Œå³ä½¿ç”¨è¡¨è¡¨ç¤ºæ•°æ®å…ƒç´ åŠå…¶å…³ç³»ã€‚ä½¿ç”¨
èŠ‚ç‚¹ä¸è¾¹å¯ä»¥å°†çº¿æ€§è¡¨è½¬åŒ–ä¸ºå›¾ã€‚<br/>
ç¤ºä¾‹: ç”°å¾„èµ›èµ›ç¨‹åˆ†é…é—®é¢˜</p>
<div class="codehilite"><pre>å­¦æ ¡è¦ä¸¾åŠè¿åŠ¨ä¼šğŸ˜„ï¼Œæœ‰5ä¸ªé¡¹ç›®ï¼Œ3ä¸ªåŒå­¦æŠ¥åå‚åŠ ï¼Œæ¯ä¸ªåŒå­¦æœ€å¤šæŠ¥3ä¸ª
é¡¹ç›®,æŠ¥åè¡¨å¦‚ä¸‹:
--------------------------------
| å§“å   |  é¡¹ç›®1 | é¡¹ç›®2 | é¡¹ç›®3  
|-------------------------------
|ä¹”å¸ƒæ–¯  | æ•²ä»£ç   |å†™æ–‡æ¡£ |
--------------------------------
|æ‰å…‹ä¼¯æ ¼| æ•²ä»£ç   | é»‘ç³»ç»Ÿ| åˆ›ä¸š  
|-------------------------------
|neo1218| æ•²ä»£ç   |  å¼€æº |
|-------------------------------
|Armin  | å†™æ–‡æ¡£  |  å¼€æº |
--------------------------------
ç°åœ¨å¦‚ä½•åˆ†é…èµ›ç¨‹ï¼Œä½¿å¾—è¿åŠ¨ä¼šæ—¶é—´æœ€çŸ­ä¸”èµ›ç¨‹ä¸å†²çª?
</pre></div>


<p>è§£ç­”<br/>
<img alt="å›¾ç¤º" src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-07%20ä¸‹åˆ5.28.48.png" /></p>
<h3>2. æ ‘</h3>
<p>ç¤ºä¾‹ï¼šäººæœºå¯¹å¼ˆé—®é¢˜<br/>
æŠ½è±¡ï¼šæ¯ä¸€ç›˜æ£‹å±€å¯ä»¥çœ‹æˆå¤šç»´çŸ©é˜µï¼Œè€Œæ¯ä¸€ç§å¯èƒ½æ€§å°±æ˜¯æ ‘çš„åˆ†æ”¯<br/></p>
<h3>3. å›¾</h3>
<p>æŠ½è±¡: ç”¨èŠ‚ç‚¹è¡¨ç¤ºæ•°æ®ï¼Œç”¨è¾¹è¡¨ç¤ºæ•°æ®ä¹‹é—´çš„å…³ç³»ã€‚</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>pythonå°¾é€’å½’ä¼˜åŒ–</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#8">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="8" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">pythonå°¾é€’å½’ä¼˜åŒ–</h4>
                        </div>
                        <div class="modal-body">
                            <h2>ä¸€èˆ¬é€’å½’ä¸å°¾é€’å½’</h2>
<h4>ä¸€èˆ¬é€’å½’:</h4>
<div class="codehilite"><pre>def normal_recursion(n):
    if n == 1:
        return 1
    else:
        return n + normal_recursion(n-1)
</pre></div>


<p>æ‰§è¡Œï¼š</p>
<div class="codehilite"><pre>normal_recursion(5)
5 + normal_recursion(4)
5 + 4 + normal_recursion(3)
5 + 4 + 3 + normal_recursion(2)
5 + 4 + 3 + 2 + normal_recursion(1)
5 + 4 + 3 + 2 + 1
15
</pre></div>


<p><strong>ä¸€èˆ¬é€’å½’</strong>çš„æ•ˆç‡æ˜¯æ¯”è¾ƒä½çš„ï¼Œå› ä¸ºåœ¨<code>return n + normal_recursion(n-1)</code>æ—¶éœ€è¦
è°ƒç”¨æ ˆä¿å­˜ä¸­é—´å˜é‡nçš„å€¼ï¼Œé€’å½’è¿›è¡Œçš„è¶Šæ·±å…¥ï¼Œéœ€è¦è°ƒç”¨çš„æ ˆå°±è¶Šå¤šï¼Œæ•ˆç‡ä¹Ÿå°±è¶Šä½ã€‚<br/></p>
<h4>å°¾é€’å½’</h4>
<p>å¦‚æœå¯ä»¥å°†ä¸­é—´å˜é‡ä½œä¸ºå‚æ•°ç›´æ¥ä¼ é€’ç»™é€’å½’è°ƒç”¨å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥å¤§å¤§æé«˜é€’å½’æ•ˆç‡ï¼Œè¿™å°±æ˜¯å°¾é€’å½’
çš„å®ç°</p>
<div class="codehilite"><pre>def tail_recursion(n, total=0):
    if n == 0:
        return total
    else:
        return tail_recursion(n-1, total+n)
</pre></div>


<p>æ‰§è¡Œï¼š</p>
<div class="codehilite"><pre>tail_recursion(5)
tail_recursion(4, 5)
tail_recursion(3, 9)
tail_recursion(2, 12)
tail_recursion(1, 14)
tail_recursion(0, 15)
15
</pre></div>


<h2>å­˜åœ¨çš„é—®é¢˜</h2>
<p>python æœ¬èº«å¯¹å°¾é€’å½’çš„æ”¯æŒä¸å¤ªå¥½ï¼Œå½“é€’å½’æ·±åº¦è¶…è¿‡1000æ—¶ä¼šæŠ¥é”™</p>
<div class="codehilite"><pre><span class="n">RuntimeError</span><span class="o">:</span> <span class="n">maximum</span> <span class="n">recursion</span> <span class="n">depth</span> <span class="n">exceeded</span>
</pre></div>


<h2>ä¸€ä¸ªç‰›äººæƒ³å‡ºçš„è§£å†³åŠæ³•ï¼š</h2>
<h4>å®ç°ä¸€ä¸ª tail_call_optimized è£…é¥°å™¨</h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre></div></td><td class="code"><div class="codehilite"><pre><span class="c">#!/usr/bin/env python2.4</span>
<span class="c"># This program shows off a python decorator(</span>
<span class="c"># which implements tail call optimization. It</span>
<span class="c"># does this by throwing an exception if it is</span>
<span class="c"># it&#39;s own grandparent, and catching such</span>
<span class="c"># exceptions to recall the stack.</span>
<span class="c"># æŠ›å‡ºå¼‚å¸¸ï¼Œæ•è·å¼‚å¸¸ï¼Œé‡æ–°è°ƒç”¨æ ˆ...ç‰›</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">class</span> <span class="nc">TailRecurseException</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;å°¾é€’å½’å¼‚å¸¸ç±»&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

<span class="k">def</span> <span class="nf">tail_call_optimized</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function decorates a function with tail call</span>
<span class="sd">    optimization. It does this by throwing an exception</span>
<span class="sd">    if it is it&#39;s own grandparent, and catching such</span>
<span class="sd">    exceptions to fake the tail call optimization.</span>

<span class="sd">    This function fails if the decorated</span>
<span class="sd">    function recurses in a non-tail context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span> <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_back</span> \
            <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_code</span> <span class="o">==</span> <span class="n">f</span><span class="o">.</span><span class="n">f_code</span><span class="p">:</span>
            <span class="c"># æŠ›å‡ºå¼‚å¸¸</span>
            <span class="k">raise</span> <span class="n">TailRecurseException</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">g</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">TailRecurseException</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
                    <span class="c"># æ•è·å¼‚å¸¸ï¼Œé‡æ–°è°ƒç”¨æ ˆ</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
                    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">kwargs</span>
    <span class="n">func</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">__doc__</span>
    <span class="k">return</span> <span class="n">func</span>

<span class="nd">@tail_call_optimized</span>
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">acc</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="s">&quot;calculate a factorial&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">acc</span>
    <span class="k">return</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">*</span><span class="n">acc</span><span class="p">)</span>

<span class="k">print</span> <span class="n">factorial</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="c"># prints a big, big number,</span>
<span class="c"># but doesn&#39;t hit the recursion limit.</span>

<span class="nd">@tail_call_optimized</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">next</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">current</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">next</span><span class="p">,</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">next</span><span class="p">)</span>

<span class="k">print</span> <span class="n">fib</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="c"># also prints a big number,</span>
<span class="c"># but doesn&#39;t hit the recursion limit.</span>
</pre></div>
</td></tr></table>

<p>ä½œè€…çš„åŸºæœ¬æ€æƒ³å°±æ˜¯å½“å°¾é€’å½’è¾¾åˆ°æœ€å¤§æ·±åº¦æ—¶è‡ªå·±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸(TailRecurseException), ç„¶å
æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œç„¶åé‡æ–°è°ƒç”¨æ ˆï¼Œè€Œä¸æ˜¯è®©å¼‚å¸¸ç»ˆæ­¢å°¾é€’å½’çš„è¿è¡Œã€‚<br/></p>
<p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ sys._getframe() å‡½æ•°:<br/></p>
<div class="codehilite"><pre><span class="n">sys</span><span class="o">.</span><span class="n">getframe</span><span class="p">([</span><span class="n">depth</span><span class="p">]):</span>
<span class="n">Return</span> <span class="n">a</span> <span class="n">frame</span> <span class="nb">object</span> <span class="kn">from</span> <span class="nn">the</span> <span class="nn">call</span> <span class="nn">stack.</span> <span class="nn">If</span> <span class="nn">optional</span> <span class="nn">integer</span> <span class="nn">depth</span> <span class="nn">is</span> <span class="nn">given</span><span class="p">,</span> <span class="k">return</span> <span class="n">the</span> <span class="n">frame</span> <span class="nb">object</span> <span class="n">that</span> <span class="n">many</span> <span class="n">calls</span> <span class="n">below</span> <span class="n">the</span> <span class="n">top</span> <span class="n">of</span> <span class="n">the</span> <span class="n">stack</span><span class="o">.</span> <span class="n">If</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">deeper</span> <span class="n">than</span> <span class="n">the</span> <span class="n">call</span> <span class="n">stack</span><span class="p">,</span> <span class="ne">ValueError</span> <span class="ow">is</span> <span class="n">raised</span><span class="o">.</span> <span class="n">The</span> <span class="n">default</span> <span class="k">for</span> <span class="n">depth</span> <span class="ow">is</span> <span class="n">zero</span><span class="p">,</span> <span class="n">returning</span> <span class="n">the</span> <span class="n">frame</span> <span class="n">at</span> <span class="n">the</span> <span class="n">top</span> <span class="n">of</span> <span class="n">the</span> <span class="n">call</span> <span class="n">stack</span><span class="o">.</span>

<span class="err">å³è¿”å›</span><span class="n">depth</span><span class="err">æ·±åº¦è°ƒç”¨çš„æ ˆå¸§å¯¹è±¡</span><span class="o">.</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">get_cur_info</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">()</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span>  <span class="c"># å½“å‰æ–‡ä»¶å</span>
    <span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">()</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>  <span class="c"># å½“å‰å‡½æ•°å</span>
    <span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">()</span><span class="o">.</span><span class="n">f_lineno</span> <span class="c"># å½“å‰è¡Œå·</span>
    <span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">()</span><span class="o">.</span><span class="n">f_back</span> <span class="c"># è°ƒç”¨è€…çš„å¸§</span>
</pre></div>


<h2>å‚è€ƒ</h2>
<p>http://www.cnblogs.com/hello--the-world/archive/2012/07/19/2599003.html<br/>
http://www.chinaz.com/program/2013/0917/318157_2.shtml</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Flask æ–‡æ¡£ç¬”è®°(1) flaskr</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#9">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Flask æ–‡æ¡£ç¬”è®°(1) flaskr</h4>
                        </div>
                        <div class="modal-body">
                            <p><strong>flaskr</strong><br/>
flaskr æ˜¯flaskæ–‡æ¡£ä¸­çš„ä¸€ä¸ªå®ä¾‹ï¼Œæ˜¯ä¸€ä¸ªå¾®å‹blogã€‚æˆ‘è§‰å¾—flaskrå¾ˆæ˜¯ç‰¹åˆ«ï¼Œå› ä¸ºå®ƒå‡ ä¹éƒ½æ˜¯åŸç”Ÿçš„flaskæ“ä½œï¼Œ
æ²¡æœ‰ç”¨åˆ°å¤ªå¤šçš„æ‰©å±•ã€‚é€šè¿‡å®ƒï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£ä¸€ä¸ªçº¯æ­£çš„flaskã€‚<br/></p>
<p><strong>1.æ–‡ä»¶ç›®å½•çš„æ„é€ </strong><br/>
flaskræ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„flaskåº”ç”¨ï¼Œæ‰€ä»¥å®ƒçš„æ–‡ä»¶ç»“æ„å°±æ˜¯é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹appæ–‡ä»¶ï¼‹templates/ï¼‹static/<br/></p>
<p><strong>2.é…ç½®åŠ è½½</strong><br/>
flaskrçš„é…ç½®ä¸å¤šï¼Œæ‰€ä»¥å°†é…ç½®å’Œappå®ä¾‹æ”¾åœ¨äº†ä¸€ä¸ªæ–‡ä»¶ä¸­(flaské…ç½®åå¤§å†™):
/flaskr/flaskr.py</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">DATABASE</span> <span class="o">=</span> <span class="s">&#39;/tmp/flaskr.db&#39;</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s">&#39;development key&#39;</span>
<span class="n">USERNAME</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>
<span class="n">PASSWORD</span> <span class="o">=</span> <span class="s">&#39;default&#39;</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</pre></div>


<p>è¿™é‡Œappå®ä¾‹è°ƒç”¨äº†from_object()æ–¹æ³•åŠ è½½é…ç½®<br/>
flaskåŠ è½½é…ç½®æœ‰ä¸‰ç§æ–¹å¼: from_object(), from_pyfile(), from_envvar()ã€‚from_object()ä¼šè‡ªåŠ¨æœå¯»å¹¶åŠ è½½å­—ç¬¦ä¸²é…ç½®ä»¥åŠåç§°
ä¸ºå¤§å†™çš„é…ç½®å˜é‡;æ­¤å¤–,ä¹Ÿå¯ä»¥æŠŠé…ç½®ç±»æˆ–è€…é…ç½®å­—å…¸ä½œä¸ºfrom_object()çš„å‚æ•°ã€‚ä½†æ˜¯å¦‚æœæƒ³ç›´æ¥åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆ™
éœ€ä½¿ç”¨ from_pyfile()ã€‚å¯¹äºä¸€äº›ç‰¹å®šé…ç½®æ¯”å¦‚ç®¡ç†å‘˜å¯†ç ã€å¯†é’¥ï¼Œè¿™äº›æ˜¯ä¸å¸Œæœ›åˆ«äººçœ‹åˆ°çš„ï¼Œè¿™äº›é…ç½®å¯ä»¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼Œ
ä½¿ç”¨from_envvar()åŠ è½½ã€‚<br/></p>
<p><strong>3.æ•°æ®åº“</strong><br/>
å¯¹äºsqlæ•°æ®åº“ï¼Œæˆ‘ä¸€èˆ¬éƒ½é‡‡ç”¨flask-sqlalchemyæ‰©å±•å¤„ç†ï¼Œè¿™ä¸ªæ‰©å±•ä½¿å¼€å‘è€…æ— éœ€ç¼–å†™åº•å±‚çš„sqlè¯­å¥è€Œæ˜¯é‡‡ç”¨ç±»çš„å½¢å¼å¤„ç†æ•°æ®
åº“ï¼šæ¯ä¸€ä¸ªè¡¨éƒ½æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œè¡¨ä¸­çš„æ¯ä¸€ä¸ªå®é™…å¯¹è±¡éƒ½æ˜¯ç±»å®ä¾‹ã€‚æ•°æ®åº“çš„åˆ›å»ºã€è¿ç§»ä»¥åŠteardownä½¿ç”¨flask-migrateæ‰©å±•å³å¯
å®ç°ã€‚ä½†æ˜¯flaskråˆ™æ²¡æœ‰ä½¿ç”¨æ‰©å±•ï¼Œè€Œæ˜¯å®Œå…¨ä¾æ®åŸç”Ÿçš„flaskä¸sqlã€‚<br/></p>
<p>3.1: åˆ›å»ºæ•°æ®åº“è¡¨:<br/>
flaskr/schema.sql</p>
<div class="codehilite"><pre>drop table if exists entries;
create table entries (
    id integer primary key autoincrement,
    title text not null,
    text text not null,
);
</pre></div>


<p>just sqlè¯­å¥:)<br/></p>
<p>3.2:åˆ›å»ºæ•°æ®åº“<br/>
æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ç®¡é“å’Œsqlite3ï¼Œå°†ä¹‹å‰åˆ›å»ºçš„è¡¨å¯¼å…¥åˆ°æ•°æ®åº“ä¸­:<br/>
<code>sqlite3 /tmp/flaskr.db &lt; schema.sql</code><br/>
ä½ ä¹Ÿå¯ä»¥è¿™æ ·åšï¼š</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">closing</span>


<span class="k">def</span> <span class="nf">connect_db</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">&#39;DATABASE&#39;</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">init_db</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">closing</span><span class="p">(</span><span class="n">connect_db</span><span class="p">())</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>  <span class="c"># closing å‡½æ•°å¯ä»¥ä½¿æ•°æ®åº“å†æ•´ä¸ªwith blockä¸­ä¿æŒè¿æ¥</span>
        <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="s">&#39;schema.sql&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">excutescript</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>  <span class="c"># æ‰§è¡Œæ•´ä¸ªè„šæœ¬</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>  <span class="c"># å‘æ•°æ®åº“æäº¤</span>
</pre></div>


<p>ç„¶åè¿›å…¥python shell:</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;</span><span class="kn">from</span> <span class="nn">flaskr</span> <span class="kn">import</span> <span class="n">init_db</span><span class="p">()</span>
<span class="o">&gt;&gt;</span><span class="n">init_db</span><span class="p">()</span>
</pre></div>


<p>æ•°æ®åº“å°±åˆ›å»ºå®Œæˆäº†ã€‚</p>
<p>3.3:è¯·æ±‚å’Œå…³é—­æ•°æ®åº“è¿æ¥<br/>
ä½¿ç”¨ä¸‰ä¸ªé‡è¦çš„è£…é¥°å™¨ï¼šbefore_request[è¢«æ³¨å†Œå‡½æ•°åœ¨æ¯æ¬¡è¯·æ±‚ä¹‹å‰æ‰§è¡Œ], after_request[è¢«æ³¨å†Œå‡½æ•°åœ¨æ¯æ¬¡è¯·æ±‚ä¹‹åæ‰§è¡Œ,
å¦‚é‡å¼‚å¸¸åˆ™ç»ˆæ­¢æ‰§è¡Œ], teardown_request[è¢«æ³¨å†Œå‡½æ•°åœ¨æ‰€æœ‰è¯·æ±‚å(ctx pop ä»¥å)æ‰§è¡Œï¼Œä¸”é‡å¼‚å¸¸ä¸ä¼šç»ˆæ­¢ï¼Œè€Œä¸”ä¼šæ¥å—error
çš„object!]<br/></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">g</span>


<span class="nd">@app.before_request</span>
<span class="k">def</span> <span class="nf">before_request</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;ç”¨æ¥åœ¨è¯·æ±‚ä¹‹å‰è¿æ¥æ•°æ®åº“&quot;&quot;&quot;</span>
    <span class="n">g</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">connect_db</span><span class="p">()</span>


<span class="nd">@app.teardown_request</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">teardown_request</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;ç”¨æ¥åœ¨è¯·æ±‚ä¹‹åå…³é—­æ•°æ®åº“&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">flask</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;db&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>


<p>3.4:è§†å›¾å‡½æ•°<br/></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">absort</span><span class="p">,</span> <span class="n">flash</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span><span class="p">,</span> <span class="n">request</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_entries</span><span class="p">():</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">excute</span><span class="p">(</span><span class="s">&#39;select title, text from entries order by id desc&#39;</span><span class="p">)</span>
    <span class="n">entries</span> <span class="o">=</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">text</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">fechall</span><span class="p">()]</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">&#39;show_entries.html&#39;</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="n">entries</span><span class="p">)</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/add&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">add_entry</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;logged_in&#39;</span><span class="p">):</span>
        <span class="n">absort</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">excute</span><span class="p">(</span><span class="s">&#39;insert into entries (title,text) in values (?,?) &#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">flash</span><span class="p">(</span><span class="s">&#39;New entries was successfully posted!&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">&#39;show_entries&#39;</span><span class="p">))</span>  <span class="c"># é‡å®šå‘åˆ°show_entriesï¼Œç”±show_entriesè°ƒç”¨GETæ–¹æ³•ï¼Œè¡¨å•ä¹Ÿåœ¨</span>
                                              <span class="c"># show_entriesä¸­</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/login&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="s">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="n">error</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">&#39;POST&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">&quot;USERNAME&quot;</span><span class="p">]:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s">&#39;Invalid username&#39;</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;password&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">&#39;PASSWORD&#39;</span><span class="p">]:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s">&#39;Invalid password&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">session</span><span class="p">[</span><span class="s">&#39;logged_in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="n">flash</span><span class="p">(</span><span class="s">&#39;You were logged in&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">&#39;show_entries&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">&#39;login.html&#39;</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">error</span><span class="p">)</span>


<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/logout&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;GET&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">logout</span><span class="p">():</span>
    <span class="n">session</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;logged_in&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="n">flash</span><span class="p">(</span><span class="s">&#39;you were logged out!&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s">&#39;show_entries&#39;</span><span class="p">))</span>
</pre></div>


<p><strong>3.4:è¡¨å•</strong><br/>
ä¸€èˆ¬å¯¹è¡¨å•çš„å¤„ç†éƒ½æ˜¯ä½¿ç”¨ flask-wtf æ‰©å±•ï¼Œç„¶ååœ¨æ¨¡ç‰ˆä¸­æ¸²æŸ“è¡¨å•ã€‚ä½†æ˜¯flaskråˆ™æ˜¯ç›´æ¥åœ¨htmlä¸­æ„é€ è¡¨å•ï¼Œç”¨actionå±æ€§
ä¸è§†å›¾å‡½æ•°è¿æ¥ã€‚</p>
<p><strong>3.5ï¼šæ¨¡ç‰ˆ</strong><br/>
è‡³äºæ¨¡æ¿éƒ½æ˜¯jinjaå•¦:)</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>python å­¦ä¹ ç¬”è®°(day 2)</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#10">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="10" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">python å­¦ä¹ ç¬”è®°(day 2)</h4>
                        </div>
                        <div class="modal-body">
                            <p>ä»Šå¤©çš„ä¸»é¢˜æ˜¯pythonçš„å†…å­˜ç®¡ç†<br/>
<img alt="å†…å­˜" src="http://7xj431.com1.z0.glb.clouddn.com/image.jpg" /><br/>
pythonçš„ç‰¹æ€§: åŠ¨æ€è¯­è¨€,é¢å‘å¯¹è±¡ï¼Œpythonçš„å†…å­˜ç®¡ç†ä¹Ÿå¾ˆæœ‰ç‰¹ç‚¹,ç”¨ä¸€å¥è¯æ¦‚æ‹¬
<strong>åŸºäºå¯¹è±¡å’Œå¼•ç”¨</strong><br/>
<strong>1.å¯¹è±¡çš„å†…å­˜ä½¿ç”¨</strong><br/>
<ciode>a = 1</code><br/>
è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„èµ‹å€¼è¯­å¥,ä½†æ˜¯å¯ä¸è¦å°çœ‹å®ƒ,å®ƒåŒ…å«äº†pythonç»å¦™çš„è®¾è®¡å“²å­¦,
åœ¨pythonä¸­ä¸‡ç‰©çš†ä¸ºå¯¹è±¡,1ä¹Ÿä¸ä¾‹å¤–,é€šè¿‡èµ‹å€¼è¯­å¥,æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæŒ‡å‘1 è¿™ä¸ª
å¯¹è±¡çš„å¼•ç”¨ã€‚pythoné€šè¿‡å¼•ç”¨æ§åˆ¶å¯¹è±¡,å¼•ç”¨ä¸å¯¹è±¡çš„åˆ†ç¦»ä½¿å¾—å¼•ç”¨å¯¹äºå¯¹è±¡çš„å…¥ä¾µæ€§
å‡å°‘ã€‚<br/>
ä¸ºäº†æ›´å¥½çš„æ¢æ˜å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨,æˆ‘ä»¬å€ŸåŠ©<strong>id()</strong>å‡½æ•°<br/></p>
<div class="codehilite"><pre>&gt;&gt;a = 1
&gt;&gt;id(a)
7431496L
</pre></div>


<p>å¯è§,æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶,ç³»ç»Ÿå°±è‡ªåŠ¨ä¸ºè¿™ä¸ªå¯¹è±¡åˆ†é…äº†å†…å­˜ç©ºé—´<br/>
åœ¨pythonä¸­ï¼Œpythonä¼šç¼“å­˜æ•´æ•°ã€çŸ­å­—ç¬¦ä¸²,è¿™äº›ç¼“å­˜çš„å¯¹è±¡åœ¨é‡å¤åˆ›å»ºæ—¶ä¸ä¼šå»ºç«‹æ–°
çš„å¼•ç”¨<br/></p>
<div class="codehilite"><pre>&gt;&gt;b = 1
&gt;&gt;id(b)
7431496L
</pre></div>


<p>å¯è§è¿™é‡Œçš„bå’ŒaæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡<br/>
æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨iså…³é”®å­—åˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¼•ç”¨<br/></p>
<div class="codehilite"><pre>&gt;&gt;a is b
True
</pre></div>


<p><strong>åœ¨pythonä¸­,æ¯ä¸ªå¯¹è±¡éƒ½å­˜æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ€»æ•°:å¼•ç”¨è®¡æ•°</strong><br/>
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨sysåŒ…ä¸­çš„<strong>getrefcount()</strong>å‡½æ•°æŸ¥çœ‹æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°(æ³¨æ„è°ƒç”¨å‡½æ•°æ—¶ä¹Ÿæ˜¯ä¸€æ¬¡å¼•ç”¨)</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;</span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getrefcount</span>
<span class="o">&gt;&gt;</span><span class="n">getrefcount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">3</span>
<span class="o">&gt;&gt;</span><span class="c"># ä½œä¸ºå‡½æ•°å‚æ•°æ—¶è¢«å¼•ç”¨äº†ä¸€æ¬¡</span>
</pre></div>


<p><strong>2.å¯¹è±¡å¼•ç”¨å¯¹è±¡</strong><br/>
æ‰€è°“å¯¹è±¡å¼•ç”¨å¯¹è±¡å³pythonçš„å®¹å™¨å¯¹è±¡å¼•ç”¨åŸºæœ¬å¯¹è±¡,ä½†æ˜¯è¿™ç§å¼•ç”¨å¹¶ä¸æ˜¯çœŸæ­£çš„åŒ…å«
å…ƒç´ å¯¹è±¡æœ¬èº«,è€Œæ˜¯æŒ‡å‘å„ä¸ªå…ƒç´ å¯¹è±¡çš„å¼•ç”¨(ç±»ä¼¼Cä¸­çš„æŒ‡é’ˆ)<br/>
æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡,å¹¶å¼•ç”¨å…¶ä»–å¯¹è±¡</p>
<div class="codehilite"><pre>&gt;&gt;class from_obj(object):
&gt;&gt;...  def __init__(self,to_obj):
&gt;&gt;...    self.to_obj = to_obj
&gt;&gt;a = from_obj(b)
&gt;&gt;id(a.to_obj)
&gt;&gt;35023112
&gt;&gt;id(b)
&gt;&gt;35023112
</pre></div>


<p>è¿™é‡Œçš„açš„ç¡®å¼•ç”¨äº†b<br/>
å†çœ‹èµ‹å€¼:<code>a = 1</code><br/>
å¯¹è±¡å¼•ç”¨å¯¹è±¡æ˜¯pythonæœ€åŸºæœ¬çš„æ„æˆæ–¹å¼,èµ‹å€¼è¯­å¥ä¹Ÿæ˜¯å¯¹è±¡å¼•ç”¨å¯¹è±¡çš„ä½“ç°
è¿™é‡Œçš„aä¸ä»…ä»…æ˜¯å¼•ç”¨,ä»–è¿˜æ˜¯ä¸€ä¸ªå­—å…¸,ç”¨ä»¥å­˜æ”¾èµ‹å€¼è¯­å¥çš„é”®å€¼å¯¹!<br/>
å…¶å®è¿™æ¶‰åŠåˆ°python namespaceçš„é—®é¢˜,æˆ‘ä»¬ä¸‹ä¸€è®²é‡ç‚¹å¤ä¹ (é¢„ä¹ ...)<br/>
å®¹å™¨å¯¹è±¡çš„å¼•ç”¨å¯ä»¥å½¢æˆå¾ˆå¤æ‚çš„æ‹“æ‰‘ç»“æ„,æˆ‘ä»¬å¯ä»¥ç”¨objgraphåŒ…ç»˜åˆ¶è¿™ç§å…³ç³»<br/></p>
<div class="codehilite"><pre><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="nb">dict</span><span class="p">(</span><span class="n">key1</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)]</span>

<span class="kn">import</span> <span class="nn">objgraph</span>
<span class="n">objgraph</span><span class="o">.</span><span class="n">show_refs</span><span class="p">([</span><span class="n">z</span><span class="p">],</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;refs.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="å›¾" src="http://7xj431.com1.z0.glb.clouddn.com/361A.tmp.png" /><br/>
ä¸¤ä¸ªå¯¹è±¡å¯ä»¥äº’ç›¸å¼•ç”¨æ„æˆå¼•ç”¨ç¯<br/>
<code>a = []</code><br/>
<code>b = [a]</code><br/>
<code>a.append(b)</code><br/>
<img alt="åŒå¼•ç”¨" src="http://7xj431.com1.z0.glb.clouddn.com/1F2B.tmp.png" /><br/>
å•ä¸ªå¯¹è±¡è‡ªå·±å¼•ç”¨è‡ªå·±æ—¶ä¹Ÿå¯ä»¥æ„æˆå¼•ç”¨ç¯<br/>
<code>a = []</code><br/>
<code>a.append(a)</code><br/>
<img alt="å•å¼•ç”¨" src="http://7xj431.com1.z0.glb.clouddn.com/200C.tmp.png" /><br/></p>
<p><strong>3.å¼•ç”¨å‡å°‘</strong><br/>
å½“æˆ‘ä»¬ä¸åœ¨éœ€è¦ä¸€ä¸ªå¯¹è±¡æ—¶,ä»–çš„å¼•ç”¨è®¡æ•°æ˜¯å¦‚ä½•å‡å°‘çš„å‘¢ï¼Ÿ<br/>
1.delåˆ é™¤å¯¹è±¡<br/>
æˆ‘ä»¬å¯ä»¥é€šè¿‡delåˆ é™¤æŸä¸ªå¯¹è±¡ä»è€Œå‡å°‘å¯¹è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨<br/></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getrefcount</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="k">print</span> <span class="n">getrefcount</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="k">del</span> <span class="n">a</span>
<span class="k">print</span> <span class="n">getrefcount</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c">#122</span>
<span class="c">#121</span>
</pre></div>


<p>del ä¹Ÿå¯ä»¥ç”¨åˆ é™¤å®¹å™¨ä¸­çš„å¯¹è±¡<br/></p>
<div class="codehilite"><pre>&gt;&gt;lit = [1,2,3,4]
&gt;&gt;del lit[2]
&gt;&gt;lit
[1,2,4]
</pre></div>


<p>2.å¼•ç”¨å¯¹è±¡æ”¹å˜ä»è€Œå‡å°‘å¼•ç”¨è®¡æ•°<br/></p>
<div class="codehilite"><pre><span class="o">&gt;&gt;</span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getrefcount</span>
<span class="o">&gt;&gt;</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;</span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="o">&gt;&gt;</span><span class="n">b</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;</span><span class="n">getrefcount</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">&gt;&gt;</span><span class="n">b</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;</span><span class="n">getrefcount</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="mi">3</span>
</pre></div>


<p><strong>4.åƒåœ¾å›æ”¶</strong><br/>
python çš„åƒåœ¾å›æ”¶æ˜¯è‡ªåŠ¨çš„,å½“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0æ—¶,ä¼šè‡ªåŠ¨å¼€å¯åƒåœ¾å›æ”¶,
å½“å¯¹è±¡çš„æ•°ç›®è¾¾åˆ°æŸä¸ªé˜ˆå€¼æ—¶,pythonä¹Ÿä¼šè‡ªåŠ¨æ¸…é™¤æ²¡æœ‰ç”¨çš„å¯¹è±¡ã€‚pythonçš„åƒåœ¾
å›æ”¶å¹¶ä¸æ˜¯å®Œå…¨å¯¹coderå°é—­çš„,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨gcæ¨¡å—çš„get_threshold()å‡½æ•°æŸ¥çœ‹
è¿™ä¸ªé˜ˆå€¼<br/></p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">gc</span>
<span class="k">print</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">get_threshold</span><span class="p">())</span>
<span class="c"># ï¼ˆ700ï¼Œ10ï¼Œ10ï¼‰</span>
</pre></div>


<p>è¿™é‡Œçš„700å°±æ˜¯åƒåœ¾å›æ”¶çš„é˜ˆå€¼,æˆ‘ä»¬å¯ä»¥é€šè¿‡set_threshold()å‡½æ•°è®¾ç½®é˜ˆå€¼<br/>
æˆ‘ä»¬è¿˜å¯ä»¥æ‰‹åŠ¨å¯åŠ¨åƒåœ¾å›æ”¶: gc.collect()<br/></p>
<p><strong>5.åˆ†ä»£å›æ”¶</strong><br/>
åˆ†ä»£å›æ”¶å°±å¾ˆæœ‰æ„æ€å•¦,pythonä¸­çš„å¯¹è±¡ä¹Ÿæ˜¯æœ‰ä¸‰å…­ä¹ç­‰çš„:)å¯¿å‘½è¶Šé•¿çš„å¯¹è±¡
pythonå°±ä¼šè¶Šä¿¡ä»»ä»–,ä¹Ÿå°±ä¸ä¼šæ¸…é™¤ä»–ã€‚pythonä¸­çš„å¯¹è±¡åˆ†ä¸ºä¸‰ç­‰ï¼š0ï¼Œ1ï¼Œ2.0æ˜¯
æ–°å»ºå¯¹è±¡,1æ˜¯ç¬¬ä¸€è½®æ‰«æå­˜æ´»ä¸‹çš„å¯¹è±¡ï¼Œ2åˆ™æ˜¯ç¬¬äºŒè½®æ‰«æå­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ã€‚è¿˜è®°å¾—ä¹‹å‰çš„é˜ˆå€¼
å—ï¼Ÿï¼ˆ700ï¼Œ10ï¼Œ10ï¼‰å°±è¡¨ç¤ºæ¯10æ¬¡æ‰«æ0ä»£å¯¹è±¡å°±ä¼šæ‰«æä¸€æ¬¡1ä»£å¯¹è±¡,æ¯10æ¬¡æ‰«æ1ä»£å¯¹è±¡
å°±ä¼šæ‰«æä¸€æ¬¡2ä»£å¯¹è±¡,å“ˆå“ˆ:)<br/></p>
<p><strong>6.å­¤ç«‹çš„å¼•ç”¨ç¯</strong><br/>
è¿˜è®°çš„ä¹‹å‰çš„å¼•ç”¨ç¯å—ï¼Ÿä»–ä¼šå¯¹åƒåœ¾å›æ”¶æœºåˆ¶å¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ï¼</p>
<div class="codehilite"><pre>a = []
b = [a]
a = b.append(b)

del a
del b
</pre></div>


<p>ç”±äºå¼•ç”¨ç¯çš„å­˜åœ¨,a,bçš„å¼•ç”¨è®¡æ•°ä¸ä¼šé™ä¸º0,æ‰€ä»¥pythonå°±ä¸ä¼šå›æ”¶è¿™ä¸¤ä¸ªå˜é‡<br/>
å½“ç„¶pythonä¹Ÿæœ‰ä»–çš„è§£å†³åŠæ³•,ä»–ä¼šéå†æ‰€æœ‰çš„å˜é‡å¹¶å°†è¯¥å˜é‡å¼•ç”¨çš„å˜é‡çš„å¼•ç”¨è®¡æ•°å‡ä¸€,æœ€åå°†å¼•ç”¨è®¡æ•°ä¸º0çš„
å˜é‡å›æ”¶<br/>
ok,å°±æ˜¯è¿™äº›å•¦,è™½ç„¶æœ‰ç‚¹å°éº»çƒ¦,ä½†åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹,ç¨‹åºå‘˜æ˜¯ä¸éœ€è¦äº²è‡ªæ“ä½œå†…å­˜çš„
ï¼Œè¿™æ¯”Cè¯­è¨€å¥½å¤šå•¦:)</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>python å­¦ä¹ ç¬”è®°(day 1)</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#11">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="11" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">python å­¦ä¹ ç¬”è®°(day 1)</h4>
                        </div>
                        <div class="modal-body">
                            <p><strong>å‰è¨€:</strong><br/>
æ¥è§¦pythonå¿«åŠå¹´äº†,å›è¿‡å¤´æŠŠåŸºç¡€å†æ€»ç»“ä¸€ä¸‹åº”è¯¥ä¼šæ›´å¥½.<br/>
<strong>1.python style</strong><br/>
è¯·è§ <a href="http://neo1218.github.io/2015/05/25/post24-md/">import this</a><br/>
pythoné‡‡ç”¨ç¼©è¿›çš„æ–¹å¼ç»„ç»‡ä»£ç ,è¿™å¯ä»¥è®©ä»£ç æ›´åŠ ç®€å•ã€ä¼˜é›…ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œç¼©è¿›æœ¬èº«å°±æ˜¯ä¸€ä¸ªå‘ï¼<br/>
<strong>2.pythonå®‰è£…(windows)</strong><br/>
linux å’Œ mac å·²ç»å®‰è£…å¥½äº†python(æ‰€ä»¥äº‰å–æš‘å‡æ¢mac)<br/>
<strong>3.pythonè§£é‡Šå™¨</strong><br/>
ä¸»è¦è¿˜æ˜¯Cpython,å…ˆå ä½,ç­‰ä»¥åå¼„æ‡‚äº†åŸç†å¥½å¥½åˆ†æä¸€ä¸‹<br/>
<a href="https://github.com/python/cpython">æºä»£ç </a><br/>
<strong>4.ç¬¬ä¸€ä¸ªå‘</strong><br/></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>
</pre></div>
</td></tr></table>

<p>æˆ‘æ¥è§¦pythonçš„ç¬¬ä¸€ä¸ªå‘æ˜¯å­—ç¬¦ç¼–ç ,è€Œä¸”è¿™ä¸ªå‘ä¼´ç€æˆ‘åº¦è¿‡äº†æ–°å¹´,ç›´åˆ°æˆ‘æ¢äº†windowsçš„ç”¨æˆ·å(æ‰€ä»¥äº‰å–æš‘å‡æ¢mac)<br/>
ok,å…³äºå­—ç¬¦ç¼–ç :é¦–å…ˆæ¥å¼ è‡ªå·±æ€»ç»“çš„å›¾<br/>
<img alt="å­—ç¬¦ç¼–ç " src="http://7xj431.com1.z0.glb.clouddn.com/pic.png" />
(ä¸å¥½æ„æ€:ASCIIç å¯ä»¥è§†ä¸ºutf-8ç¼–ç çš„ä¸€éƒ¨åˆ†,æ‰“é”™äº†.)<br/>
äº†è§£äº†å­—ç¬¦ç¼–ç ,ç°åœ¨æ¥çœ‹çœ‹pythonå¯¹å­—ç¬¦ç¼–ç çš„æ”¯æŒ<br/>
1.python ä¸ ASCII<br/>
pythonæœ€æ—©æ”¯æŒçš„ç¼–ç æ–¹å¼å°±æ˜¯ASCII(å› ä¸ºé‚£æ—¶åªæœ‰ASCIIã€‚ã€‚)<br/></p>
<div class="codehilite"><pre>&gt;&gt;ord(&#39;A&#39;)
65
&gt;&gt;chr(65)
&#39;A&#39;
</pre></div>


<p>2.python ä¸ unicode<br/>
python æ¯” unicodeè¦å¤§,pythonä¸­é‡‡ç”¨ u"..."è¡¨ç¤ºunicodeå­—ç¬¦ä¸²<br/></p>
<div class="codehilite"><pre>&gt;&gt;u&quot;neo1218&quot;
u&#39;neo1218&#39;
</pre></div>


<p>3.pythonä¸­å­—ç¬¦ç¼–ç ç›¸äº’è½¬æ¢é—®é¢˜<br/>
ASCIIç å¯ä»¥è§†ä¸ºutf-8çš„ä¸€éƒ¨åˆ†,æ‰€ä»¥ä»…éœ€è®¨è®ºutf-8 ä¸ unicodeçš„è½¬æ¢<br/></p>
<div class="codehilite"><pre>&gt;&gt;# æŠŠunicodeè½¬æ¢ä¸ºutf-8ç¼–ç 
&gt;&gt;u&#39;neo1218&#39;.encode(&#39;utf-8&#39;)
&#39;neo1218&#39;
&gt;&gt;# æŠŠutf-8è½¬åŒ–ä¸ºunicodeç¼–ç 
&gt;&gt;&#39;neo1218&#39;.decode(&#39;utf-8&#39;)
u&#39;neo1218&#39;
</pre></div>


<p>æ”¹å˜<br/>
utf-8 ä¸ unicode çš„è½¬åŒ–ä¼¼ä¹çœ‹ä¸Šå»æ²¡æœ‰ä»€ä¹ˆæ”¹å˜,ä½†æ˜¯ï¼š<strong>æˆ‘ä¸¾çš„ä¾‹å­éƒ½æ˜¯è‹±æ–‡å‘€ï¼ï¼</strong></p>
<div class="codehilite"><pre>&gt;&gt;len(&quot;æœ±æ‰¿æµ©&quot;)
9
&gt;&gt;len(u&quot;æœ±æ‰¿æµ©&quot;)
3
</pre></div>


<p>ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª<strong>unicodeä¸­æ–‡å­—ç¬¦</strong>è½¬åŒ–åä¼šå˜æˆ3ä¸ªutf-8å­—ç¬¦<br/>
<strong>4.å‘åœ¨ä½•æ–¹?<br/></strong>
æ‰€ä»¥è¦ç”¨utf-8 æ—  bomæ ¼å¼å†™ä»£ç ,å°±æ˜¯è¿™æ ·ã€‚<br/>
å¼€å¤´åŠ ä¸Šè¿™å¥æ³¨é‡Š<code># -*<em>- coding: utf-8 -</em>-</code><br/>
å¦‚æœè°ƒç”¨htmlæ–‡ä»¶åˆ™åœ¨è°ƒç”¨å‰åŠ ä¸Š:</p>
<div class="codehilite"><pre><span class="c">#-------------------ç¼–ç è®¾ç½®---------------------------</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="c">#-----------------------------------------------------</span>
</pre></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Github gist çš„ä½¿ç”¨</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#12">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="12" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Github gist çš„ä½¿ç”¨</h4>
                        </div>
                        <div class="modal-body">
                            <p><strong>github</strong> ä¸€ä¸ªä»£ç æ‰˜ç®¡ç½‘ç«™,ä¸€ä¸ªfollowå¤§ç¥çš„ç½‘ç«™!<br/>
å“ˆå“ˆï¼Œå¤§å®¶åœ¨ä½¿ç”¨githubçš„æ—¶å€™æœ‰æ²¡æœ‰ç¥è§å¯¼èˆªæ çš„Gistå‘¢ï¼Ÿ<br>
<img alt="å°±æ˜¯è¿™ä¸ª" src="http://7xj431.com1.z0.glb.clouddn.com/github.png" />
so:ä»€ä¹ˆæ˜¯Gist?<br/>
gist.github.com æ˜¯ä¸€ä¸ªæœ‰è¶£çš„æœåŠ¡ï¼Œæœ€ç®€å•çš„åŠŸèƒ½å°±æ˜¯åˆ†äº«ä»£ç ç‰‡æ®µï¼Œä½†æ˜¯gistæä¾›çš„åŠŸèƒ½ä¸ä»…é™äºæ­¤ã€‚</p>
<div class="codehilite"><pre>gistæä¾›äº†åŒ…æ‹¬markdownè¯­æ³•åœ¨å†…çš„å¤§å¤šæ•°â€œå†™ä½œé£æ ¼â€
gistå…·æœ‰ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½
gistè¿˜å¯ä»¥æ— é™åˆ¶çš„åˆ›å»ºç§æœ‰çš„ä»£ç ç‰‡æ®µ
gistéšåŒgithubæä¾›äº†apiå¼€å‘æ¥å£ï¼Œå¯ä»¥åœ¨æœ¬åœ°åˆ›å»ºgist
</pre></div>


<p>è¯´çš„æœ‰ç‚¹ç„ä¹,æˆ‘å°±è¯´è¯´æˆ‘æ‹¿Giståœ¨åšä»€ä¹ˆ:)<br/>
<strong>1.å†™ä½œ:</strong><br/>
Gistæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨,ä½ å¯ä»¥åœ¨gistä¸Šå†™ä¸€äº›ä¸œè¥¿,ç”šè‡³æ˜¯åšå®¢ï¼æˆ‘ä¸€èˆ¬ç”¨gistè®°å½•æ¯å¤©æ™šä¸Šè¦åšä»€ä¹ˆã€‚å½“ç„¶,å¦‚æœä½ ä¸æƒ³è®©åˆ«äººçœ‹åˆ°ä½ å†™çš„ä¸œè¥¿,ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç§æœ‰çš„gist(ä¸è¦é’±å“¦)ã€‚<br/>
<strong>2.ä»£ç åˆ†äº«</strong><br/>
Gistå¯ä»¥è¯´æ˜¯ä»£ç åˆ†äº«çš„é¦–é€‰!è‡ªåŠ¨è¯­æ³•é«˜äº®,ä½ å¯ä»¥è®©ä½ çš„ä»£ç è¢«æ‰€æœ‰äººçœ‹åˆ°,ä»–ä»¬å¯ä»¥ç»™ä½ è¯„è®ºã€‚å¦‚æœä½ åªæƒ³æŠŠä»£ç åˆ†äº«ç»™ç‰¹å®šçš„äºº,é‚£ä¹ˆè¿˜æ˜¯åˆ›å»ºç§æœ‰gist,ç„¶åæŠŠurlå‘ç»™é‚£ä¸ªäººå°±è¡Œå•¦ã€‚<br/>
<strong>3.ä»£ç åµŒå…¥</strong><br/>
å¦‚æœä½ åœ¨å†™åšå®¢,ç¢°å·§åˆä¸æ”¯æŒä»£ç é«˜äº®,é‚£ä¹ˆå°±ç”¨gistå§,æŠŠä½ çš„gistçš„urlæ”¾åœ¨åšå®¢é‡Œå°±è¡Œäº†ã€‚<br/>
<hr>
<img alt="å°±æ˜¯è¿™ä¸ª" src="http://7xj431.com1.z0.glb.clouddn.com/github2.png" />
<hr>
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/github3.png" /></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>import this</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#13">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="13" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">import this</h4>
                        </div>
                        <div class="modal-body">
                            <div class="codehilite"><pre><span class="n">The</span> <span class="n">Zen</span> <span class="k">of</span> <span class="n">Python</span><span class="p">,</span> <span class="n">by</span> <span class="n">Tim</span> <span class="n">Peters</span>

<span class="n">Beautiful</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">ugly</span><span class="p">.</span>
<span class="n">Explicit</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">implicit</span><span class="p">.</span>
<span class="n">Simple</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">complex</span><span class="p">.</span>
<span class="n">Complex</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">complicated</span><span class="p">.</span>
<span class="n">Flat</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">nested</span><span class="p">.</span>
<span class="n">Sparse</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">dense</span><span class="p">.</span>
<span class="n">Readability</span> <span class="n">counts</span><span class="p">.</span>
<span class="n">Special</span> <span class="n">cases</span> <span class="n">aren</span><span class="c">&#39;t special enough to break the rules.</span>
<span class="n">Although</span> <span class="n">practicality</span> <span class="n">beats</span> <span class="n">purity</span><span class="p">.</span>
<span class="n">Errors</span> <span class="n">should</span> <span class="n">never</span> <span class="n">pass</span> <span class="n">silently</span><span class="p">.</span>
<span class="n">Unless</span> <span class="n">explicitly</span> <span class="n">silenced</span><span class="p">.</span>
<span class="ow">In</span> <span class="n">the</span> <span class="n">face</span> <span class="k">of</span> <span class="n">ambiguity</span><span class="p">,</span> <span class="n">refuse</span> <span class="n">the</span> <span class="n">temptation</span> <span class="k">to</span> <span class="n">guess</span><span class="p">.</span>
<span class="n">There</span> <span class="n">should</span> <span class="n">be</span> <span class="n">one</span><span class="o">--</span> <span class="ow">and</span> <span class="n">preferably</span> <span class="n">only</span> <span class="n">one</span> <span class="o">--</span><span class="n">obvious</span> <span class="n">way</span> <span class="k">to</span> <span class="k">do</span> <span class="n">it</span><span class="p">.</span>
<span class="n">Although</span> <span class="n">that</span> <span class="n">way</span> <span class="n">may</span> <span class="k">not</span> <span class="n">be</span> <span class="n">obvious</span> <span class="n">at</span> <span class="n">first</span> <span class="n">unless</span> <span class="n">you</span><span class="c">&#39;re Dutch.</span>
<span class="n">Now</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">never</span><span class="p">.</span>
<span class="n">Although</span> <span class="n">never</span> <span class="ow">is</span> <span class="n">often</span> <span class="n">better</span> <span class="n">than</span> <span class="o">*</span><span class="n">right</span><span class="o">*</span> <span class="n">now</span><span class="p">.</span>
<span class="k">If</span> <span class="n">the</span> <span class="n">implementation</span> <span class="ow">is</span> <span class="n">hard</span> <span class="k">to</span> <span class="n">explain</span><span class="p">,</span> <span class="n">it</span><span class="c">&#39;s a bad idea.</span>
<span class="k">If</span> <span class="n">the</span> <span class="n">implementation</span> <span class="ow">is</span> <span class="n">easy</span> <span class="k">to</span> <span class="n">explain</span><span class="p">,</span> <span class="n">it</span> <span class="n">may</span> <span class="n">be</span> <span class="n">a</span> <span class="n">good</span> <span class="n">idea</span><span class="p">.</span>
<span class="n">Namespaces</span> <span class="n">are</span> <span class="n">one</span> <span class="n">honking</span> <span class="n">great</span> <span class="n">idea</span> <span class="o">--</span> <span class="k">let</span><span class="c">&#39;s do more of those!</span>


<span class="n">python</span><span class="err">ä¹‹ç¦…</span> <span class="err">ï¼Œ</span> <span class="n">neo1218</span><span class="err">è¯‘</span>

<span class="err">ç¾ä¸½èƒœäºä¸‘é™‹ã€‚</span>
<span class="err">ç›´ç‡èƒœäºå«ç³Šã€‚</span>
<span class="err">ç®€å•èƒœäºå¤æ‚ã€‚</span>
<span class="err">å¤æ‚èƒœäºéš¾ä»¥ç†è§£çš„ä»£ç ã€‚</span>
<span class="err">æ®µå—èƒœäºåµŒå¥—ã€‚</span>
<span class="err">ç¨€å°‘èƒœäºç¨ å¯†ã€‚</span>
<span class="err">å¯è¯»æ€§æ‰æœ€é‡è¦ã€‚</span>
<span class="err">å¼‚å¸¸ä»£ç è¿˜ä¸è¶³ä»¥æ‰“ç ´è§„åˆ™çš„å¤©ç‰¢ã€‚</span>
<span class="err">ä¸ºäº†å®ç”¨éœ€è¦ç‰ºç‰²ã€‚</span>
<span class="err">ä¸èƒ½è®©é”™è¯¯é™é™çš„ç¦»å¼€ã€‚</span>
<span class="err">é™¤éæˆ‘æ„¿å¦‚æ­¤ã€‚</span>
<span class="err">é¢å¯¹æ­§ä¹‰çš„é¢å…·</span><span class="p">,</span><span class="err">æ‹’ç»çŒœæµ‹çš„è¯±æƒ‘ã€‚</span>
<span class="err">ä½ è¦ç›¸ä¿¡</span><span class="p">,</span><span class="err">å®Œç¾çš„é“è·¯åªæœ‰ä¸€æ¡ï¼Œå°±æ˜¯æœ€æ˜æ˜¾çš„é‚£ä¸ªã€‚</span>
<span class="err">å¦‚æœä½ ä¸æ˜¯é€ ç‰©ä¸»</span><span class="p">,</span><span class="err">ä½ å¯èƒ½è¿˜åœ¨å¯»æ‰¾ã€‚</span>
<span class="err">ç°åœ¨æ€»æ¯”æ²¡æœ‰å¥½ã€‚</span>
<span class="err">æ²¡æœ‰æ€»æ¯”ç«‹åˆ»å¥½ã€‚</span>
<span class="err">éš¾ä»¥è§£é‡Šçš„å®ç°æ˜¯ä¸€ä¸ªåæƒ³æ³•ã€‚</span>
<span class="err">æ˜“äºç†è§£çš„å®ç°æˆ–è®¸æ‰æ˜¯å¥½åŠæ³•ã€‚</span>
<span class="err">å‘½åç©ºé—´å¾ˆæ£’ï¼Œè®©æˆ‘ä»¬åšçš„æ›´å¤šå§</span><span class="p">!</span>
</pre></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>python æ­£åˆ™è¡¨è¾¾å¼</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#14">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="14" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">python æ­£åˆ™è¡¨è¾¾å¼</h4>
                        </div>
                        <div class="modal-body">
                            <h2>1.æ­£åˆ™è¡¨è¾¾å¼</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å­—ç¬¦ä¸²å¤„ç†çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€,ä»–å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç²¾å‡†çš„åŒ¹é…æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²
2.æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•</p>
<hr />
<p>ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„è¯­æ³•,æ­£åˆ™è¡¨è¾¾ä¹Ÿä¸ä¾‹å¤–ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•æ˜¯åŸºäºå…ƒå­—ç¬¦çš„ç»„åˆ
3.å…ƒå­—ç¬¦</p>
<hr />
<p>æ­£åˆ™è¡¨è¾¾å¼çš„å¼ºå¤§ä½“ç°åœ¨å…ƒå­—ç¬¦çš„åŒ¹é…å¤„ç†,ä»¥ä¸‹æ˜¯å¸¸è§çš„å…ƒå­—ç¬¦<br/>
1. '\' åŒå…¶ä»–ç¼–ç¨‹è¯­è¨€(åŒ…æ‹¬python!!!)ä¸€æ ·,'\'æ˜¯è½¬ä¹‰ç¬¦,'\'åé¢åŠ ä¸Šä¸åŒå­—ç¬¦è¡¨ç¤ºä¸åŒæ„ä¹‰,ä½†æ˜¯æ³¨æ„åœ¨pythonä¸­çš„ä½¿ç”¨,r"string"å¯ä»¥è§£é™¤\çš„ä½œç”¨<br/></p>
<div class="codehilite"><pre>\d åŒ¹é…ä»»ä½•10è¿›åˆ¶çš„æ•°å­—,ç›¸å½“äºç±»[0-9]&lt;br/&gt;
\D åŒ¹é…ä»»ä½•éæ•°å­—å­—ç¬¦,ç›¸å½“äºç±»[^0-9]&lt;br/&gt;
\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦,ç›¸å½“äºç±»[\t\n\r\f\v]&lt;br/&gt;
\S ç›¸å½“äºç±»[^\t\n\r\f\v]&lt;br/&gt;
\w åŒ¹é…ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦,ç›¸å½“äºç±»[a-zA-Z0-9]&lt;br/&gt;
\W é\wç±»
</pre></div>


<p>'\'è¿˜æœ‰å–æ¶ˆæ‰€æœ‰å…ƒå­—ç¬¦çš„ä½œç”¨<br/>
2.'*'<br/>
æŒ‡å®šå‰ä¸€ä¸ªå­—ç¬¦å¯ä»¥è¢«åŒ¹é…0æ¬¡æˆ–æ›´å¤šæ¬¡,åŒ¹é…å¼•æ“ä¼šè¯•ç€é‡å¤å°½å¯èƒ½å¤šçš„æ¬¡æ•°(ä¸è¶…è¿‡æ­£æ•°ç•Œå®šçš„èŒƒå›´,20äº¿)<br/></p>
<div class="codehilite"><pre>æ­£åˆ™è¡¨è¾¾å¼: ab*
åŒ¹é…å­—ç¬¦ä¸²: abbbbbbbbbbbbbbbbbbbbbbb
</pre></div>


<p>3.'+'<br/>
åŒ¹é…ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡<br/></p>
<div class="codehilite"><pre>æ­£åˆ™è¡¨è¾¾å¼: ab+ 
åŒ¹é…å­—ç¬¦ä¸²: abbbbbbbbbbbbbbbbbbbbbbb
</pre></div>


<p>æ³¨æ„'<em>','+'çš„åŒºåˆ«: "</em>"æ¨¡å¼ä¸‹è¢«åŒ¹é…çš„å­—ç¬¦ä¸²å¯ä»¥æ ¹æœ¬ä¸å‡ºç°<br/>
4.'?'<br/>
åŒ¹é…ä¸€æ¬¡æˆ–0æ¬¡,å¯ä»¥è®¤ä¸ºæ˜¯æ ‡å¿—æŸç‰©æ˜¯å¯é€‰çš„<br/>
4.pythonä¸­çš„reæ¨¡å—</p>
<hr />
<p>python reæ¨¡å—æä¾›äº†ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¼•æ“æ¥å£,å¯ä»¥å°†REstringç¼–è¯‘æˆå¯¹è±¡å¹¶ç”¨å®ƒä»¬æ¥è¿›è¡ŒåŒ¹é…<br/>
ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;</span><span class="kn">import</span> <span class="nn">re</span>
<span class="o">&gt;&gt;</span><span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;ab?&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;</span><span class="k">print</span> <span class="n">p</span>
 <span class="o">&lt;</span><span class="n">_sre</span><span class="o">.</span><span class="n">SRE_Pattern</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f7d30cc8c00</span><span class="o">&gt;</span>
</pre></div>


<p>pythonä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡<br/>
å¯¹è±¡å¯ç›´æ¥è°ƒç”¨æ–¹æ³•<code>p.findall("abb")</code><br/>
re.compile()ä¹Ÿæ¥å—å¯é€‰çš„æ ‡å¿—å‚æ•°,ç”¨æ¥å®ç°ä¸åŒçš„ç‰¹æ®ŠåŠŸèƒ½å’Œè¯­æ³•å˜æ›´<br/>
ç¼–è¯‘åçš„æ­£åˆ™å¯¹è±¡å¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•<br/></p>
<div class="codehilite"><pre>match() åœ¨å­—ç¬¦ä¸²å¼€å§‹ä½ç½®åŒ¹é…,å¹¶ä»¥å¯¹è±¡çš„å½¢å¼è¿”å›
search() åœ¨å­—ç¬¦ä¸²çš„ä»»æ„ä½ç½®å¼€å§‹åŒ¹é…,å¹¶ä»¥å¯¹è±¡çš„å½¢å¼è¿”å›
findall() åœ¨å­—ç¬¦ä¸²çš„ä»»æ„ä½ç½®åŒ¹é…,å¹¶ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›
finditer() åœ¨å­—ç¬¦ä¸²çš„ä»»æ„ä½ç½®åŒ¹é…,å¹¶ä»¥è¿­ä»£å™¨çš„å½¢å¼è¿”å›
</pre></div>


<p>match()å’Œsearch()è¿”å›çš„å¯¹è±¡å¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•<br/></p>
<div class="codehilite"><pre>group(num) è¿”å›è¢«REåŒ¹é…çš„å­—ç¬¦ä¸²,æ”¯æŒnumç´¢å¼•
start() è¿”å›åŒ¹é…å¼€å§‹çš„ä½ç½®
end() è¿”å›åŒ¹é…ç»“æŸçš„ä½ç½®
span() è¿”å›ä¸€ä¸ªå…ƒç»„åŒ…å«åŒ¹é…(å¼€å§‹,ç»“æŸ)çš„ä½ç½®
</pre></div>


<h2>5.æ­£åˆ™è¡¨è¾¾å¼åœ¨pythonä¸­çš„åº”ç”¨</h2>
<p><a href="http://python.jobbole.com/81332/" target="_blank">python çˆ¬è™«</a:></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Python Vim</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#15">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="15" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Python Vim</h4>
                        </div>
                        <div class="modal-body">
                            <p>å¦‚æœä½ å¸Œæœ›ä½ çš„vimå˜æˆå›¾ç¤ºé‚£æ ·,è¯·æˆ³:<a href="https://github.com/neo1218/k-vim">K-VIM</a><br/>
<img alt="demo" src="http://7xj431.com1.z0.glb.clouddn.com/molokai.png" />
<img alt="demo" src="http://7xj431.com1.z0.glb.clouddn.com/solarized.png" /></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flaskåå°é›†æˆckEditorç¼–è¾‘å™¨</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#16">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="16" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flaskåå°é›†æˆckEditorç¼–è¾‘å™¨</h4>
                        </div>
                        <div class="modal-body">
                            <h3>ä¼ ç»Ÿçš„é›†æˆæ–¹å¼éœ€è¦æ‰‹åŠ¨ä¸‹è½½ckeditorï¼Œå¤åˆ¶ç²˜è´´å¤§é‡ä»£ç ï¼Œååˆ†éº»çƒ¦ï¼Œäºæ˜¯è‡ªå·±å†™äº†ä¸€ä¸ªåŒ…ï¼Œç®€åŒ–é›†æˆè¿‡ç¨‹ã€‚</h3>
<div class="codehilite"><pre>åŒ…: flask-ckeditor
github: https://github.com/neo1218/flask-ckeditor
æ–‡æ¡£: https://github.com/neo1218/flask-ckeditor/blob/master/README.md
</pre></div>


<p>å¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶æ–¹ä¾¿çš„é›†æˆ ckeditor ğŸ˜„</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Windowsä¸‹æ­å»ºgithubåšå®¢</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#17">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="17" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Windowsä¸‹æ­å»ºgithubåšå®¢</h4>
                        </div>
                        <div class="modal-body">
                            <p>åœ¨æœ¬ç¯‡åšå®¢çš„å¼€å¤´ï¼Œæˆ‘è¦å…ˆè¯´æ˜å‡ ç‚¹ï¼š<br/>
1.æ³¨æ„æ ‡é¢˜ï¼Œæœ¬æ–‡ä»‹ç»çš„æ˜¯åœ¨windowsä¸‹æ­å»ºgithubåšå®¢ï¼Œå¦‚æœæ˜¯macè¯·ç§»æ­¥<a href="http://jinyixinseraph.github.io/2015/04/03/OS-X%E4%B8%8B%E6%90%AD%E5%BB%BAHexo/" target="_blank">OS Xä¸‹æ­å»ºHexo</a><br/>
2.å¦‚æœä½ è¿˜ä¸æ¸…æ¥šgithubçš„è¯è¯·å‚è€ƒ<a href="https://zh.wikipedia.org/wiki/GitHub" target="_blank">github</a><br/>
3.åœ¨è¿›å…¥æ•™ç¨‹ä¹‹å‰ä½ è¦äº†è§£<a href="https://zh.wikipedia.org/wiki/Node.js" target="_blank">node.js</a>  çŸ¥é“æ¦‚å¿µå°±è¡Œ<br/>
4.çŸ¥é“<a href="http://segmentfault.com/a/1190000000370778" target="_blank">hexo</a>æ˜¯ä»€ä¹ˆ<br/>
å¦‚æœä½ å·²ç»äº†è§£äº†ä»¥ä¸Šæ¦‚å¿µï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼ï¼ï¼<br/></p>
<h2>æ­¥éª¤1.åœ¨githubä¸Šåˆ›å»ºåšå®¢ä»“åº“</h2>
<p>åšå®¢ä»“åº“å’Œå…¶ä»–ä»“åº“æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåªæ˜¯ä»“åº“çš„å‘½åæ˜¯å›ºå®šçš„â€”<code>ç”¨æˆ·å.github.io</code>,githubä¼šè‡ªåŠ¨è¯†åˆ«æ­¤ç”¨æˆ·å,ä½ å¯ä»¥è¿›å…¥ä»“åº“ç‚¹å‡»ä¾§æ çš„Settingsï¼Œä¼šå‘ç°è¿™æ ·ä¸€è¡Œæ–‡å­—"Your site is published at http://ç”¨æˆ·å.github.io. "ï¼Œæ­å–œä½ ï¼Œä½ å·²ç»å®Œæˆäº†ç¬¬ä¸€æ­¥ï¼<br/>
æ­¥éª¤2.å®‰è£…node.js</p>
<hr />
<p>å»node.jsçš„<a href="https://nodejs.org/" target="_blank">å®˜ç½‘</a>ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„node.js<br/>
ä¸‹è½½ã€å®‰è£…å¥½äº†ä»¥åï¼Œåœ¨cmdä¸­è¿›å…¥å®‰è£…ç›®å½•ï¼Œè¾“å…¥node -Vï¼Œå¦‚æœè¿”å›è·¯å¾„ç»“æœï¼Œåˆ™å®‰è£…æˆåŠŸï¼<br/>
æ­¥éª¤3.å®‰è£…hexo</p>
<hr />
<p>node.jså®‰è£…æˆåŠŸåï¼Œå®‰è£…hexoå°±æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹å•¦ï¼Œåªè¦ä½¿ç”¨npmå‘½ä»¤<br/>
<code>npm install -g hexo</code><br/>
æ­¥éª¤4.å»ºç«‹hexoæ–‡ä»¶å¤¹
--
åœ¨ä½ å–œæ¬¢çš„ç›˜ç¬¦ä¸‹å»ºç«‹hexoæ–‡ä»¶å¤¹ï¼Œç„¶åç”¨ä½ çš„gitç»ˆç«¯è¿›å…¥æ­¤æ–‡ä»¶å¤¹<br/>
1.åˆå§‹åŒ–hexoæ–‡ä»¶å¤¹<br/>
<code>hexo init</code><br/>
2.å®‰è£…ä¾èµ–åŒ…<br/>
<code>npm install</code><code><br/>
æ­¥éª¤5.éƒ¨ç½²è‡³github</p>
<hr />
<p>å…¶å®è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å»ºç«‹githubåšå®¢çš„ä¸»è¦åŸå› â€”å…è´¹ã€æ— é™æµé‡ã€‚ã€‚<br/>
å¦‚æœä½ æˆåŠŸæ­å»ºäº†ä½ çš„åšå®¢,è¯·åƒä¸‡æŠŠåšå®¢åˆ©ç”¨å¥½ï¼Œç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå…è´¹ä¸èƒ½æµªè´¹ï¼<br/>
1.åœ¨ä½ çš„gitç»ˆç«¯è¾“å…¥<code>npm install hexo-deployer-git --save</code><br/>
2.åœ¨ä½ çš„hexoæ–‡ä»¶å¤¹ä¸­ä¿®æ”¹_config.yml</p>
<div class="codehilite"><pre><span class="n">deploy</span><span class="o">:</span>
<span class="n">type</span><span class="o">:</span> <span class="n">git</span>
<span class="n">repository</span><span class="o">:</span> <span class="n">https</span><span class="o">://</span><span class="n">github</span><span class="o">.</span><span class="na">com</span><span class="sr">/ç”¨æˆ·å/</span><span class="err">ç”¨æˆ·å</span><span class="o">.</span><span class="na">github</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">git</span>
<span class="n">branch</span><span class="o">:</span> <span class="n">master</span>
</pre></div>


<p>æ³¨æ„":"åçš„ç©ºæ ¼ï¼<br/>
3.ä»gitç»ˆç«¯è¿›å…¥hexoæ–‡ä»¶å¤¹ï¼Œè¾“å…¥<br/>
<code>hexo g</code><br/>
<code>hexo d</code><br/>
è‡³æ­¤ï¼Œä½ çš„åšå®¢å°±æ­å»ºå¥½äº†ï¼
å¦‚ä½•å†™åšå®¢</p>
<hr />
<p>å†™åšå®¢çš„æ­¥éª¤æ˜¯å›ºå®šçš„<br/>
æ¯å½“ä½ å‡†å¤‡å†™åšå®¢çš„æ—¶å€™ï¼Œåªè¦ä»gitç»ˆç«¯è¿›å…¥hexoæ–‡ä»¶å¤¹ï¼Œè¾“å…¥<br/>
<code>hexo new "æ ‡é¢˜"</code><br/>
ç„¶åä½ ä¼šå‘ç°ä½ çš„hexo/source/_post/ä¸‹ä¾¿å‡ºç°äº†ä½ æ–°å»ºçš„æ–‡ç« .<br/>
æ¥ä¸‹æ¥å°±æ˜¯ä¹¦å†™åšå®¢äº†ï¼Œhexoåšå®¢æ”¯æŒçš„æ˜¯<a href="https://github.com/riku/Markdown-Syntax-CN" target="_blank">markdownè¯­æ³•</a>ï¼Œå»ºè®®å®‰è£…ä¸€ä¸ªæ”¯æŒmarkdownè¯­æ³•é¢„è§ˆçš„ç¼–è¾‘å™¨ï¼Œæˆ‘ç”¨çš„æ˜¯MarkdownPad.<br/>
ok,ä½ æ‰€å¸Œæœ›åˆ†äº«çš„éƒ½å†™å®Œå•¦ï¼æ¥ä¸‹æ¥å°±æ˜¯æäº¤å•¦ï¼å¯æ˜¯ä½ è¿˜æ˜¯æœ‰ç‚¹ä¸æ”¾å¿ƒï¼Œæ²¡äº‹ï¼Œè¾“å…¥<br/>
<code>hexo g</code><br/>
<code>hexo s</code><br/>
ä½ å°±å¯ä»¥åœ¨localhost:4000/ä¸Šçœ‹åˆ°å•¦ï¼Œåªæœ‰ä½ èƒ½çœ‹åˆ°å“¦ï¼<br/>
äºæ˜¯ï¼Œæ¿€åŠ¨çš„ä½ å°±è¦æäº¤ä½ çš„ç¬¬ä¸€ç¯‡åšå®¢å•¦ï¼<br/>
<code>hexo g</code><br/>
<code>hexo d</code><br/>
over.......</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>My Birth_Day</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#18">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="18" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">My Birth_Day</h4>
                        </div>
                        <div class="modal-body">
                            <p>ä»Šå¤©æ˜¯æˆ‘çš„ç”Ÿæ—¥ï¼Œä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡åœ¨ç”Ÿæ—¥çš„æ—¶å€™å†™åšå®¢ã€‚å…¶å®ä»…ä»…ä¸€å¹´å‰ï¼Œæˆ‘çš„å¤§è„‘ä¸­è¿˜æ²¡æœ‰å†™åšå®¢çš„æ¦‚å¿µï¼Œæ›´åˆ«æä»€ä¹ˆwebã€ä»£ç äº†ã€‚å¯æ˜¯ç°åœ¨ï¼Œäº’è”ç½‘å‡ ä¹æ˜¯æˆ‘æ¯å¤©çš„ç”Ÿæ´»ï¼Œä»£ç æ›´åƒæ˜¯å®¶å¸¸ä¾¿é¥­ã€‚è¿™ä¸€åˆ‡ä¼¼ä¹å°±åœ¨ä¸€ç¬é—´èµ°è¿›æˆ‘çš„ç”Ÿæ´»ï¼Œæ”¹å˜ç€æˆ‘ã€‚<br/>
åœ¨è®¡ç®—æœºç§‘å­¦è¿™ä¸ªé¢†åŸŸæˆ‘ç»å¯¹æ˜¯ä¸€ä¸ªåˆå­¦è€…ï¼šç›®å‰åªèƒ½å†™ç‚¹Cè¯­è¨€ã€‚web å¼€å‘è¿™ä¸€å—ä¹Ÿä¸æ˜¯é«˜æ‰‹ã€‚ä½†æ˜¯å›æœ›æˆ‘æ¥è§¦è®¡ç®—æœºè¿™å°†è¿‘ä¸€å¹´çš„æ—¶é—´ï¼Œæˆ‘çœŸæ­£çš„æ„Ÿè§‰è®¡ç®—æœºã€äº’è”ç½‘ç»™æˆ‘å¸¦æ¥äº†å¿«ä¹ï¼<br/>
æ¯ä¸€æ¬¡æµè§ˆåˆ°ä¸€ä¸ªå¥½çš„ç½‘ç«™ï¼Œçœ‹åˆ°é…·ç‚«çš„jsæ•ˆæœ(è™½ç„¶é‚£æ—¶è¿˜ä¸çŸ¥é“)ï¼Œæˆ‘éƒ½æœ‰ç§æ¬£å–œçš„æ„Ÿè§‰ï¼Œå°¤å…¶æ˜¯è‡ªå·±æ— æ„ä¸­æµè§ˆåˆ°çš„ç½‘ç«™ï¼Œæ›´æ˜¯æƒŠè®¶ï¼æˆ‘å¯¹æˆ‘è¦çœ‹çš„ç”µå½±ä¹Ÿæœ‰ç‚¹è‹›åˆ»â€”â€”å‡ºç°è®¡ç®—æœº(æœ€å¥½æ˜¯è‹¹æœé‚£ä¸ªå¹´ä»£çš„) or å‡ºç°ä»£ç  or å’Œè®¡ç®—æœºæœ‰å…³çš„ã€‚å¤§ä¸€åˆ°ç°åœ¨çœ‹è¿‡å‡ éƒ¨ä¸é”™çš„ç‰‡å­:ã€Šç¡…è°·ä¼ å¥‡ã€‹ã€ã€Šç¤¾äº¤ç½‘ç»œã€‹ã€ã€Šäº’è”ç½‘ä¹‹å­ã€‹ã€ã€ŠTPB AFKã€‹ã€ã€Šæ“ä½œç³»ç»Ÿé©å‘½ã€‹ã€‚æˆ‘è§‰å¾—ç”µå½±ä¸åªæ˜¯ç»™æˆ‘ä»¬æ‰“å‘æ— èŠçš„æ—¶é—´çš„ï¼Œç”µå½±æ˜¯ç°å®ç”Ÿæ´»çš„å†™ç…§(çºªå½•ç‰‡å°±æ˜¯ç°å®ç”Ÿæ´»)ï¼Œç”µå½±èƒ½ç»™æˆ‘ä»¬å¸¦æ¥å¯ç¤ºï¼Œç”šè‡³èƒ½å‘ç°è‡ªå·±çš„å…´è¶£æ‰€åœ¨ã€‚æœ‰ä¸€å¤©ï¼Œå½“ä½ è§‰å¾—è‡ªå·±ä¸æƒ³å†™ä»£ç çš„æ—¶å€™ï¼Œæ‰¾å‡ºä½ å–œæ¬¢çš„ç”µå½±ï¼Œçœ‹ç€ä¸»äººå…¬æ´‹æ´‹æ´’æ´’çš„æ•²ç€ä»£ç çš„æ—¶å€™ï¼Œä½ æœ‰ä»€ä¹ˆç†ç”±ä¸æ‰“å¼€vimå‘¢ï¼Ÿä½†æ˜¯ï¼Œåœ¨ä»»ä½•æ—¶å€™è¦å­¦ä¼šä¿æŒè‡ªå·±çš„æ€æƒ³ï¼ä¸è¦è¿‡åˆ†çš„å´‡æ‹œä¸€äº›äººè€Œä¸§å¤±äº†è‡ªå·±ã€‚<br/>
<code>---------------------------------------åƒå®Œé¥­ã€å›æ¥å•¦---------------------------------</code>
äº’è”ç½‘å¾ˆç¥å¥‡ï¼Œä½†æ˜¯ï¼Œä¸è¦å¿˜è®°ä½ èº«è¾¹çš„äººã€‚è½¬çœ¼é—´ï¼Œå¤§ä¸€å°±è¦è¿‡å»äº†ï¼Œä¸­åˆåƒé¥­çš„æ—¶å€™ï¼Œæˆ‘çªç„¶æƒ³èµ·å»å¹´çš„ä»Šå¤©ï¼Œé‚£æ—¶æˆ‘è¿˜å’Œçˆ¸çˆ¸ã€å¦ˆå¦ˆã€å§å§åœ¨ä¸€èµ·åƒé¥­ï¼Œè„‘å­é‡Œéƒ½æ˜¯é«˜è€ƒã€‚å¯æ˜¯ç°åœ¨å‘¢ï¼Ÿä»å°ç”Ÿæ´»åœ¨ä¸€èµ·çš„äººçªç„¶å°±ä»¿ä½›æ¶ˆå¤±äº†ä¸€æ ·ï¼Œæ›¾ä»Šçš„æœ‹å‹ï¼Œå¦‚ä»Šåªèƒ½åœ¨qqä¸Šçœ‹åˆ°ä»–ä»¬åœ¨åšä»€ä¹ˆï¼Œè¿˜æœ‰ä¸€äº›äººå°±å†ä¹Ÿæ²¡è§è¿‡äº†ã€‚å°±ç®—æ˜¯ç”µè¯ï¼Œæ€»è§‰å¾—ä¸çŸ¥é“è¯´ä»€ä¹ˆäº†ã€‚å°±å¦‚åŒè€ç”·å­©å”±çš„â€”â€”é‚£äº›æˆ‘æ›¾ç»çˆ±è¿‡çš„äººï¼Œç°åœ¨æ˜¯ä»€ä¹ˆæ¨¡æ ·ï¼Ÿä½†æ˜¯ï¼Œä¸€åˆ‡éƒ½æ˜¯å®ˆæ’çš„ï¼Œæˆ‘å¤±å»äº†è¿™äº›å¯çˆ±çš„æœ‹å‹ï¼Œæˆ‘ä¼šæ”¶è·æ–°çš„å‹è°Šï¼Œè™½ç„¶è¿™äº›å‹è°Šåœ¨ä¸ä¹…çš„å°†æ¥ä¼šå†å¤±å»ï¼Œå¯èƒ½ç°åœ¨å°±ä¼šå¤±å»ã€‚ã€‚<br/>
æ€»ä¹‹ï¼Œäººç”Ÿå·²ç»èµ°è¿‡19ä¸ªå¹´å¤´äº†ï¼Œè¿™19å¹´é‡Œå‘ç”Ÿçš„å†å¤šäº‹æƒ…ä¹Ÿåªæ˜¯å›å¿†äº†ã€‚æˆ–è®¸ï¼Œæˆ‘è¿˜æ˜¯å¸Œæœ›ä¸“æ³¨äºè‡ªå·±å–œçˆ±çš„äº‹æƒ…ï¼Œä½†æ˜¯å¦‚æœä½ ä»…ä»…åšè‡ªå·±å–œæ¬¢çš„ï¼Œä½ åˆå¦‚ä½•èƒ½å‘ç°é‚£äº›ä½ å–œæ¬¢ä½†è¿˜æœªæ›¾è®¤è¯†åˆ°çš„ä¸œè¥¿å‘¢ï¼Ÿæ‰€ä»¥ï¼Œå­¦ä¼šé€‚åº”ï¼Œå­¦ä¼šåŠªåŠ›è®©è‡ªå·±å–œæ¬¢ä¸Šä¸€ä»¶äº‹å§ã€‚<br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>çŸ¥é“åˆ«äººæ˜¯æ€ä¹ˆæƒ³çš„</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#19">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="19" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">çŸ¥é“åˆ«äººæ˜¯æ€ä¹ˆæƒ³çš„</h4>
                        </div>
                        <div class="modal-body">
                            <p>è¿™ç¯‡åšæ–‡ä¸åŒäºä¹‹å‰çš„æ¯ä¸€ç¯‡åšæ–‡ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–‡ç« çš„é›†åˆå¤„ï¼Œæˆ‘ä¼šæŠŠæˆ‘çœ‹åˆ°çš„å¥½çš„æ–‡ç« çš„é“¾æ¥æ”¾åœ¨ä¸Šé¢ï¼Œå°±å¦‚æ ‡é¢˜æ‰€è¯´çš„â€”â€”çŸ¥é“åˆ«äººæ˜¯æ€ä¹ˆæƒ³çš„ï¼</p>

<p><br/>
1&gt;&gt;<a href="http://www.ruanyifeng.com/blog/2013/02/tpb.html" target="_blank">çºªå½•ç‰‡ã€ŠTPB AFKã€‹ä¸ç°è¡Œç‰ˆæƒåˆ¶åº¦</a><br/>
é™„ä¸Šçºªå½•ç‰‡<a href="http://v.ku6.com/show/Pjyd34ylcoXBDAAcKp79Hw...html?ptag=vsogou">ã€ŠTPB AFKã€‹</a><br/>
2015_0411
<code>-------------------------------------------------------------------------------------------------------------------------------------------</code>
2&gt;&gt;<a href="http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html" target="_blank">è¿›ç¨‹ä¸çº¿ç¨‹çš„ä¸€ä¸ªç®€å•è§£é‡Š</a><br/>
2015_0411
<code>-------------------------------------------------------------------------------------------------------------------------------------------</code>
3&gt;&gt;<a href="http://www.pythonchallenge.com/" target="_blank">pythonç¼–ç¨‹æ¸¸æˆ</a><br/>
2015_0411<br/>
<code>-------------------------------------------------------------------------------------------------------------------------------------------</code>
4&gt;&gt;<a href="http://linux.vbird.org/linux_basic/" target="_blank">é¸Ÿå“¥çš„linuxç§æˆ¿èœ</a><br/>
linuxå…¥é—¨å¿…çœ‹ï¼ï¼<br/>
20150418<br/>
<code>-------------------------------------------------------------------------------------------------------------------------------------------</code>
5&gt;&gt;<a href="http://geektyper.com/" target="_blank">geektyper</a><br/>
ä¸€ä¸ªè®©ä½ ç§’å˜é»‘å®¢çš„ç½‘ç«™ï¼<br/>
20150418<br/>
<code>-------------------------------------------------------------------------------------------------------------------------------------------</code>
6&gt;&gt;<a href="http://www.vaikan.com/how-to-develop-web-applications/" target="_blank">å¦‚ä½•å¼€å‘webåº”ç”¨ç¨‹åº</a><br/>
20150418<br/></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>uwsgié…ç½®(1)â€”â€”è¿›ç¨‹ä¸çº¿ç¨‹</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#20">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="20" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">uwsgié…ç½®(1)â€”â€”è¿›ç¨‹ä¸çº¿ç¨‹</h4>
                        </div>
                        <div class="modal-body">
                            <p>æœ€è¿‘åœ¨çœ‹ã€Šflask web å¼€å‘ã€‹çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªå°bugï¼Œé‚®ä»¶å‘é€ä¸äº†ï¼Œåªæœ‰æ‰‹åŠ¨(ctrl+c)åœæ­¢ä¸»ç¨‹åºåï¼Œé‚®ä»¶æ‰å¯ä»¥å‘é€ã€‚å¯è§ï¼Œä¸€èˆ¬çš„uwsgié…ç½®å¯åŠ¨å‘½ä»¤å·²ç»æ»¡è¶³ä¸äº†æˆ‘ä»¬è¶Šæ¥è¶Šå¤æ‚çš„ç¨‹åºäº†ï¼Œæˆ‘è®°å¾—åœ¨æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢<a href="http://neo1218.github.io/2015/03/20/post1/" target="_blank">CentOS+uWSGI+Nginx éƒ¨ç½²flaskå…¨è®°å½• </a>ä¸­è¯´åˆ°å…ˆæŠŠ<strong>ç¨‹åºè·‘èµ·æ¥</strong>å†è¯´ï¼Œä½†æ˜¯ç°åœ¨ä¸ä»…ä»…æ˜¯è·‘èµ·æ¥ï¼Œè€Œä¸”è¿˜è¦<strong>è·‘çš„å¥½</strong>ã€‚æ‰€ä»¥æˆ‘æ‰“ç®—å¼€è¾Ÿä¸€ä¸ªæ–°æˆ˜åœºâ€”â€”uwsgi webæœåŠ¡å™¨é…ç½®ã€‚<br/>
okï¼Œå›åˆ°åšå®¢çš„ä¸»é¢˜â€”â€”è¿›ç¨‹ä¸çº¿ç¨‹ï¼Œå…¶å®ä¸Šæ–‡ä¸­çš„é‚®ç®±bugå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹é—®é¢˜ï¼Œå‘é€é‚®ä»¶çš„è¿›ç¨‹å’Œç½‘ç«™ä¸»ç¨‹åºçš„è¿›ç¨‹å†²çªäº†ï¼Œå¯¼è‡´è¿è¡Œç½‘ç«™ä¸»ç¨‹åºçš„æ—¶å€™é‚®ä»¶æ— æ³•å‘é€ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿæˆ‘ä»¬åªè¦ä¿®æ”¹uwsgiæœåŠ¡å™¨çš„å¯åŠ¨å‘½ä»¤(åœ¨å‘½ä»¤é‡Œå¢åŠ é…ç½®)ï¼š<br/>
<code>uwsgi --socket 121.43.230.104:5000 --protocol=http -w wsgi:app -H /root/www/flaskr/venv <strong>--master --processes 4 --threads 2</strong></code>
æ³¨æ„åŠ ç²—çš„éƒ¨åˆ†ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»™uwsgiæœåŠ¡å™¨å¢åŠ äº†4ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹è®¾ç½®äº†2ä¸ªçº¿ç¨‹ï¼Œå†æ¬¡è¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°é‚®ä»¶é£å¿«çš„é€å…¥ä½ çš„é‚®ç®±(è™½ç„¶åœ¨åƒåœ¾é‚®ä»¶ä¸­..)ï¼Œç½‘ç«™ä¸»ç¨‹åºä¹Ÿè¿è¡Œæ­£å¸¸ã€‚bugè§£å†³äº†ï¼Œä¼¼ä¹ä¸€åˆ‡okã€‚ä½†æ˜¯æ€»æ„Ÿè§‰æœ‰äº›ä¸å¯¹åŠ²ï¼Œå¯¹äº†â€”â€”è¿›ç¨‹ã€çº¿ç¨‹æ˜¯ä»€ä¹ˆå‘€ï¼<br/>
å…¶å®é€šä¿—çš„è¯´ï¼Œä½ å¯ä»¥æŠŠ<strong>ä¸€ä¸ªä¸ªè¿›ç¨‹</strong>è§†ä¸º<strong>ä¸€ä¸ªä¸ªè½¦é—´</strong>ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„<strong>çº¿ç¨‹</strong>å°±åƒè½¦é—´é‡Œçš„<strong>å·¥äºº</strong>ï¼Œè¿™äº›è½¦é—´å…±åŒç»„æˆäº†æˆ‘ä»¬çš„ç¨‹åºå·¥å‚ï¼Œè¿è¡Œç€æˆ‘ä»¬çš„ç¨‹åºã€‚<br/>
<small>å¦‚æœä½ æƒ³æ·±å…¥çš„äº†è§£è¿›ç¨‹ä¸çº¿ç¨‹ï¼Œè¯·å‚è§æˆ‘çš„<strong>åšå®¢ æ¨è</strong>é‡Œçš„é“¾æ¥2ã€‚</small></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flaskå­¦ä¹ ç¬”è®°(7)â€”â€”API ä¸‹</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#21">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="21" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flaskå­¦ä¹ ç¬”è®°(7)â€”â€”API ä¸‹</h4>
                        </div>
                        <div class="modal-body">
                            <p>åœ¨ä¸Šä¸€ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸçš„å¤„ç†äº†å®¢æˆ·ç«¯çš„è®¤è¯ç³»ç»Ÿï¼Œåœ¨è¿™ä¸€ç¯‡åšå®¢ä¸­æˆ‘ä»¬å°†è§£é‡Šå¦‚ä½•æŠŠèµ„æºjsonåºåˆ—åŒ–ï¼Œä»¥åŠå¦‚ä½•å¤„ç†èµ„æºçš„urlé—®é¢˜ã€‚<br/>
<strong>èµ„æºå’ŒJSONçš„åºåˆ—åŒ–è½¬æ¢</strong></br>
åœ¨ç¬¬ä¸€ç¯‡å·²ç»ä»‹ç»è¿‡ï¼ŒJSONï¼ˆJavascript Object Notationï¼‰æ˜¯httpåè®®çš„ä¼ è¾“å’Œå“åº”æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠæ•°æ®åº“ä¸­çš„èµ„æºä»¥JSONçš„æ ¼å¼è§„èŒƒåŒ–ã€‚<br/>
æŠŠæ–‡ç« è½¬åŒ–ä¸ºjsonæ ¼å¼çš„åºåˆ—åŒ–å­—å…¸(app/models.py)</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">Post</span>(<span class="n">db</span>.<span class="n">Model</span>):
    <span class="c-Singleline">#...</span>
    <span class="n">def</span> <span class="n">to_json</span>(<span class="k">self</span>):
        <span class="n">json_post</span> = {
            <span class="s">&#39;url&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_post&#39;</span>, <span class="n">id</span>=<span class="k">self</span>.<span class="n">id</span>, <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;body&#39;</span>: <span class="k">self</span>.<span class="nb">body</span>,
            <span class="s">&#39;body_html&#39;</span>: <span class="k">self</span>.<span class="n">body_html</span>,
            <span class="s">&#39;timestamp&#39;</span>: <span class="k">self</span>.<span class="n">timestamp</span>,
            <span class="s">&#39;author&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_user&#39;</span>, <span class="n">id</span>=<span class="k">self</span>.<span class="n">author_id</span>,
                          <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;comments&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_post_comments&#39;</span>, <span class="n">id</span>=<span class="k">self</span>.<span class="n">id</span>,
                            <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;comment_count&#39;</span>: <span class="k">self</span>.<span class="n">comments</span>.<span class="nb">count</span>()
        }
        <span class="k">return</span> <span class="n">json_post</span>
</pre></div>


<p>å¯ä»¥çœ‹åˆ°ï¼Œèµ„æºçš„ç»å¤§å¤šæ•°å±æ€§å’Œæ•°æ®åº“æ¨¡å‹æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æ·»åŠ è™šæ‹Ÿçš„å±æ€§æ¯”å¦‚comments_count<br/>
æˆ‘ä»¬ç»™æ¯ä¸€ä¸ªè¿”å›urlçš„å±æ€§éƒ½æ·»åŠ äº†_externel=True,ä»è€Œè¿”å›urlçš„ç»å¯¹è·¯å¾„ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ç”¨æˆ·å¯ä»¥ä»æ˜ç¡®çš„é¡¶çº§urlä¸­è‡ªå·±æŒ–æ˜å‡ºå…¶ä»–èµ„æºçš„urlã€‚<br/>
æŠŠç”¨æˆ·è½¬åŒ–ä¸ºjsonæ ¼å¼çš„åºåˆ—åŒ–å­—å…¸ï¼ˆapp/models.pyï¼‰</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">User</span>(<span class="n">UserMixin</span>,<span class="n">db</span>.<span class="n">Model</span>):
    <span class="c-Singleline">#...</span>
    <span class="n">def</span> <span class="n">to_json</span>(<span class="k">self</span>):
        <span class="n">json_user</span> = {
            <span class="s">&#39;url&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_post&#39;</span>, <span class="n">id</span>=<span class="k">self</span>.<span class="n">id</span>, <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;username&#39;</span>: <span class="k">self</span>.<span class="n">username</span>,
            <span class="s">&#39;member_since&#39;</span>: <span class="k">self</span>.<span class="n">member_since</span>,
            <span class="s">&#39;last_seen&#39;</span>: <span class="k">self</span>.<span class="n">last_seen</span>,
            <span class="s">&#39;posts&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_user_posts&#39;</span>, <span class="n">id</span>=<span class="k">self</span>.<span class="n">id</span>, <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;followed_posts&#39;</span>: <span class="n">url_for</span>(<span class="s">&#39;api.get_user_followed_posts&#39;</span>,
                                  <span class="n">id</span>=<span class="k">self</span>.<span class="n">id</span>, <span class="n">_external</span>=<span class="nb">True</span>),
            <span class="s">&#39;post_count&#39;</span>: <span class="k">self</span>.<span class="n">posts</span>.<span class="nb">count</span>()
        }
        <span class="k">return</span> <span class="n">json_user</span>
</pre></div>


<p>ç„¶è€Œå®¢æˆ·ç«¯æä¾›çš„æ•°æ®å¯èƒ½æ˜¯ç©ºçš„ã€é”™è¯¯çš„ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯åˆ›å»ºæ–‡ç« çš„æ—¶å€™æˆ‘ä»¬è¦å¯¹å®¢æˆ·ç«¯æäº¤çš„æ–‡ç« è¿›è¡ŒéªŒè¯ã€‚<br/>
ä»JSONæ ¼å¼æ•°æ®åˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼ˆapp/models.pyï¼‰</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">app.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>

<span class="n">Class</span> <span class="n">Post</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c">#...</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="n">json_comment</span><span class="p">):</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">json_comment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;body&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">body</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s">&#39;comment does not have a body&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Comment</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>
</pre></div>


<p>å½“ç”¨æˆ·æä¾›çš„æ–‡ç« å‡ºç°é—®é¢˜çš„æ—¶å€™ä¼šæŠ›å‡ºValidationErrorå¼‚å¸¸ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æ¥å¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚<br/>
APIä¸­ValidationErrorå¼‚å¸¸çš„å¤„ç†ç¨‹åº(app/api-1-0/errors.py)</p>
<div class="codehilite"><pre>@api.errorhandler(ValidationError)
def validation_error(e):
    return bad_request(e.args[0])
</pre></div>


<p>æˆ‘ä»¬è¿˜è¦åœ¨è§†å›¾å‡½æ•°ä¸­å®šä¹‰ç”¨æˆ·æäº¤æ–‡ç« çš„è·¯ç”±(flasky/app/api-1-0/posts.py)</p>
<div class="codehilite"><pre>@api.route(&#39;/posts/&#39;, methods=[&#39;POST&#39;])
@permission_required(Permission.WRITE_ARTICLES)
def new_post():
    post = Post.from_json(request.json)
    post.author = g.current_user
    db.session.add(post)
    db.session.commit()
    return jsonify(post.to_json()), 201, \
        {&#39;Location&#39;: url_for(&#39;api.get_post&#39;, id=post.id, _external=True)}
</pre></div>


<p>å¯ä»¥çœ‹åˆ°æœ‰äº†å‰é¢çš„é“ºå«ï¼Œè§†å›¾å‡½æ•°çš„ä»£ç å·²ç»å¾ˆç®€æ´äº†ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„èµ„æºå·²ç»å¾ˆå¥½çš„åºåˆ—åŒ–äº†ï¼Œç”¨æˆ·è®¤è¯ä¹Ÿå¾ˆå®Œå–„äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å®ç°apiçœŸæ­£çš„åŠŸèƒ½â€”â€”ä¸å®¢æˆ·ç«¯äº¤äº’ã€‚å®¢æˆ·ç«¯å°†è¯·æ±‚httpæ–¹æ³•ï¼Œè€Œæˆ‘ä»¬å°†è¿”å›ç›¸åº”çš„è·¯ç”±ã€‚è®©æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹httpæ–¹æ³•ba:<br/></p>
<div class="codehilite"><pre>1.GET: å•ä¸ªèµ„æºçš„url è·å–ç›®æ ‡èµ„æº  
2.GET: èµ„æºé›†åˆçš„url è·å–ç›®æ ‡èµ„æºçš„é›†åˆï¼ˆå¦‚æœå®ç°äº†åˆ†é¡µåˆ™è¿”å›è¯¥é¡µçš„èµ„æºé›†åˆï¼‰
3.PUT: å•ä¸ªèµ„æºçš„url ä¿®æ”¹ä¸€ä¸ªç°æœ‰èµ„æºï¼Œå¦‚æœå®¢æˆ·ç«¯èƒ½å¤ŸæŒ‡æ´¾ä¸€ä¸ªæ–°çš„urlåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æº
4.POST:èµ„æºé›†åˆçš„url åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºï¼Œå¹¶åŠ å…¥èµ„æºé›†åˆï¼Œç”±æœåŠ¡å™¨ä¸ºèµ„æºæŒ‡æ´¾ä¸€ä¸ªæ–°çš„url
5.DELETE: å•ä¸ªèµ„æºçš„url åˆ é™¤è¯¥èµ„æº
6.DELETE: èµ„æºé›†åˆçš„url åˆ é™¤è¯¥èµ„æºé›†åˆä¸­çš„æ‰€æœ‰èµ„æº
</pre></div>


<p>æ–‡ç« èµ„æºGETè¯·æ±‚å¤„ç†ç¨‹åºï¼ˆapp/api-1-0/posts.pyï¼‰</p>
<div class="codehilite"><pre>@api.route(&#39;/posts/&#39;)
@auth.login_required
def get_post():
    &#39;&#39;&#39;
    è¿”å›æ–‡ç« èµ„æºçš„é›†åˆ
    &#39;&#39;&#39;
    posts = Post.query.all()
    return jsonify({&#39;posts&#39;:[post.to_json() for post in posts]})

@api.route(&#39;/posts/&lt;int:id&gt;&#39;)
@auth.login_required
def get_post(id):
    &#39;&#39;&#39;
    è¿”å›ç‰¹å®šidçš„æ–‡ç« 
    &#39;&#39;&#39; 
    post = Post.query.get_or_404(id)
    return jsonify(post.to_json())
</pre></div>


<p>å¦‚æœç‰¹å®šidçš„æ–‡ç« ä¸å­˜åœ¨ï¼Œä¼šè¿”å›404é”™è¯¯ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰404é”™è¯¯ç•Œé¢ã€‚<br/></p>
<p>æ–‡ç« èµ„æºçš„POSTè¯·æ±‚å¤„ç†ç¨‹åºï¼ˆapp/api-1-0/posts.pyï¼‰</p>
<div class="codehilite"><pre>@api.route(&#39;/posts/&#39;, methods=[&#39;POST&#39;])
@permission_required(Permission.WRITE_ARTICLES)
def new_post():
    post = Post.from_json(request.json)
    post.author = g.current_user
    db.session.add(post)
    db.session.commit()
    return jsonify(post.to_json()), 201, \
        {&#39;Location&#39;: url_for(&#39;api.get_post&#39;, id=post.id, _external=True)}
</pre></div>


<p>permission_required()è£…é¥°å™¨ï¼ˆapp/api-1-0/decorators.pyï¼‰</p>
<div class="codehilite"><pre><span class="nx">def</span> <span class="nx">permission_required</span><span class="p">(</span><span class="nx">permission</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">def</span> <span class="nx">decorator</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">:</span>
        <span class="err">@</span><span class="nx">wraps</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span>
        <span class="nx">def</span> <span class="nx">decorated_function</span><span class="p">(</span><span class="o">*</span><span class="nx">args</span><span class="p">,</span> <span class="o">**</span><span class="nx">kwargs</span><span class="p">)</span><span class="o">:</span>
            <span class="k">if</span> <span class="nx">not</span> <span class="nx">g</span><span class="p">.</span><span class="nx">current_user</span><span class="p">.</span><span class="nx">can</span><span class="p">(</span><span class="nx">permission</span><span class="p">)</span><span class="o">:</span>
                <span class="k">return</span> <span class="nx">forbidden</span><span class="p">(</span><span class="s1">&#39;Insufficient permissions&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="o">*</span><span class="nx">args</span><span class="p">,</span> <span class="o">**</span><span class="nx">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">decorated_function</span>
    <span class="k">return</span> <span class="nx">decorator</span>
</pre></div>


<p>æˆ‘ä»¬è¿˜éœ€è¦PUTæ–¹æ³•å¯¹æ–‡ç« è¿›è¡Œæ›´æ–°<br/>
æ–‡ç« èµ„æºçš„PUTè¯·æ±‚å¤„ç†ç¨‹åºï¼ˆapp/api-1-0/posts.pyï¼‰</p>
<div class="codehilite"><pre>@api.route(&#39;/posts/&lt;int:id&gt;&#39;, methods=[&#39;PUT&#39;])
@permission_required(Permission.WRITE_ARTICLES)
def edit_post(id):
    post = Post.query.get_or_404(id)
    if g.current_user != post.author and \
            not g.current_user.can(Permission.ADMINISTER):
        return forbidden(&#39;Insufficient permissions&#39;)
    post.body = request.json.get(&#39;body&#39;, post.body)
    db.session.add(post)
    return jsonify(post.to_json())
</pre></div>


<p>è¿™é‡Œçš„éªŒè¯æ¯”è¾ƒå¤æ‚ï¼Œä¸è¿‡ç¨‹åºè¿˜æ¯”è¾ƒå¥½æ‡‚ã€‚<br/></p>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„APIå­¦ä¹ å°±è¦æ¥è¿‘å°¾å£°äº†ï¼Œæˆ‘ä»¬å®ç°äº†APIå®¢æˆ·ç«¯çš„è®¤è¯ã€èµ„æºçš„JSONåºåˆ—åŒ–ã€ä»¥åŠå¦‚ä½•åˆ©ç”¨httpæ–¹æ³•ä¸å®¢æˆ·ç«¯äº¤äº’ï¼Œå½“ç„¶è¿˜æœ‰å¯¹é”™è¯¯æ ¼å¼çš„å¤„ç†ã€‚ä¸è¿‡å¤§å®¶å¯¹APIå¯èƒ½è¿˜æ˜¯è§‰å¾—æœ‰äº›æŠ½è±¡ï¼ŒAPIå‘ˆç°ç»™å®¢æˆ·ç«¯çš„ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ<br/>
ä¸ç”¨ç€æ€¥ï¼Œåˆ©ç”¨ç«ç‹çš„RESTCilentæ’ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸€çª¥APIçš„çœŸå®¹äº†ï¼<br/>
ä»¥æˆ‘ä»¬çš„APIä¸ºä¾‹ï¼šæŸ¥è¯¢http://hostname:5000/api/v1.0/posts/ï¼ŒGETè¯·æ±‚ï¼Œå°±å¯ä»¥çœ‹åˆ°APIçš„jsonåºåˆ—å•¦ï¼<br/>
<img alt="å†è§" src="C:\hexo\source\img\post10.jpg" /></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flaskå­¦ä¹ ç¬”è®°(6)â€”â€”API ä¸­</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#22">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="22" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flaskå­¦ä¹ ç¬”è®°(6)â€”â€”API ä¸­</h4>
                        </div>
                        <div class="modal-body">
                            <p>åœ¨ä¸Šä¸€ç¯‡åšæ–‡ä¸­æˆ‘ä»¬å·²ç»å®‰è£…äº†flask-httpauthï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒè¿›è¡Œç”¨æˆ·è®¤è¯äº†ï¼›<br/>
åœ¨æˆ‘ä»¬åˆå§‹åŒ–flask-httpauthæ‰©å±•ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆåˆ›å»ºä¸€ä¸ªHTTPBasicAuthç±»å¯¹è±¡ã€‚<br/>
åˆå§‹åŒ–Flask-HTTPAuth(app/api-1-0/authentication.py)</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask.ext.httpauth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPBasicAuth</span><span class="p">()</span>

<span class="nd">@auth.verify_password</span>
<span class="k">def</span> <span class="nf">verify_password</span><span class="p">(</span><span class="n">email_or_token</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">email_or_token</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
        <span class="n">g</span><span class="o">.</span><span class="n">current_user</span> <span class="o">=</span> <span class="n">AnonymousUser</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="n">password</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
        <span class="n">g</span><span class="o">.</span><span class="n">current_user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">verify_auth_token</span><span class="p">(</span><span class="n">email_or_token</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">token_used</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">g</span><span class="o">.</span><span class="n">current_user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="n">email_or_token</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">g</span><span class="o">.</span><span class="n">current_user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="n">g</span><span class="o">.</span><span class="n">token_used</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">verify_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
</pre></div>


<p>è¿˜è®°å¾—ä¸Šä¸€ç¯‡åšæ–‡ä¸­æåˆ°çš„401é”™è¯¯å—ï¼Ÿå½“ç”¨æˆ·è®¤è¯å¯†ä»¤ä¸æ­£ç¡®æ—¶ï¼ŒæœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›401é”™è¯¯ï¼Œä¸ºäº†è®©æœåŠ¡å™¨ç«¯è¿”å›çš„é”™è¯¯æ ¼å¼ç»Ÿä¸€ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¿™ä¸ªé”™è¯¯å“åº”ã€‚<br/>
flask-httpauthé”™è¯¯å¤„ç†ç¨‹åº(app/api-1-0/authentication.py)</p>
<div class="codehilite"><pre>@api.before_request
@auth.login_required
def before_request():
    if not g.current_user.is_anonymous and \
        not g.current_user.confirmed:
    return forbidden(&#39;Unconfirmed account&#39;)
</pre></div>


<p>åœ¨è¿™é‡Œä½¿ç”¨äº†before_requestè£…é¥°å™¨ï¼Œå¦‚æ­¤æˆ‘ä»¬ä¾¿å¯ä»¥è°ƒç”¨ä¸€æ¬¡login_requiredè£…é¥°å™¨å¹¶å°†å…¶åº”ç”¨åˆ°æ•´ä¸ªapiè“æœ¬ä¸­ã€‚</p>
<p><strong>åŸºäºä»¤ç‰Œçš„è®¤è¯</strong><br/>
ç”±äºresté£æ ¼çš„apiå…·æœ‰æ— çŠ¶æ€æ€§ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯åœ¨æ¯æ¬¡è¯·æ±‚æ—¶éƒ½è¦å‘é€httpè®¤è¯å¯†ä»¤ï¼Œä½†å¯†ä»¤ä¸­åŒ…å«ç€ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œä¸ºäº†ä¿æŠ¤å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼ˆè¿™ä¹Ÿæ˜¯è®¤è¯çš„åˆè¡·ï¼‰ï¼Œæˆ‘ä»¬é‡‡ç”¨æ›´å®‰å…¨çš„ã€åŸºäºä»¤ç‰Œçš„è®¤è¯æ¨¡å¼â€”â€”ç”¨æˆ·å‘ç‰¹å®šçš„urlå‘é€å¯†ä»¤å³å¯ç”Ÿæˆä»¤ç‰Œï¼Œåœ¨ä»¤ç‰Œçš„å¯¿å‘½æœŸé™å†…åªéœ€ä»¤ç‰Œå°±å¯ä»¥å®Œæˆè®¤è¯ã€‚<br/>
ä¸ºäº†ç”Ÿæˆå’ŒéªŒè¯ä»¤ç‰Œï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ•°æ®åº“æ¨¡å‹ä¸­æ–°å¢ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ç”¨åˆ°äº†itsdangerousåŒ…<br/>
æ”¯æŒåŸºäºä»¤ç‰Œçš„è®¤è¯(app/models.py)</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="n">User</span>(<span class="n">UserMixin</span>, <span class="n">db</span>.<span class="n">Model</span>):
<span class="c-Singleline">#...</span>
<span class="n">def</span> <span class="n">generate_auth_token</span>(<span class="k">self</span>, <span class="n">expiration</span>):
    <span class="s">&#39;&#39;&#39;</span>
<span class="s">    1.ä½¿ç”¨ç¼–ç åç”¨æˆ·çš„idç”Ÿæˆç­¾åä»¤ç‰Œï¼›2.æŒ‡å®šä»¥ç§’ä¸ºå•ä½çš„ä»¤ç‰Œå¯¿å‘½ã€‚</span>
<span class="s">    &#39;&#39;&#39;</span>
    <span class="o">s</span> = <span class="n">Serializer</span>(<span class="n">current_app</span>.<span class="n">config</span>[<span class="s">&#39;SECRET_KEY&#39;</span>],
                   <span class="n">expires_in</span>=<span class="n">expiration</span>)
    <span class="k">return</span> <span class="o">s</span>.<span class="n">dumps</span>({<span class="s">&#39;id&#39;</span>: <span class="k">self</span>.<span class="n">id</span>}).<span class="n">decode</span>(<span class="s">&#39;ascii&#39;</span>)

<span class="nv">@staticmethod</span>
<span class="n">def</span> <span class="n">verify_auth_token</span>(<span class="k">token</span>):
    <span class="s">&#39;&#39;&#39;</span>
<span class="s">    éªŒè¯è§£ç åçš„ä»¤ç‰Œï¼Œå¹¶è¿”å›ç›¸åº”çš„ç”¨æˆ·idï¼›</span>
<span class="s">    &#39;&#39;&#39;</span>
    <span class="o">s</span> = <span class="n">Serializer</span>(<span class="n">current_app</span>.<span class="n">config</span>[<span class="s">&#39;SECRET_KEY&#39;</span>])
    <span class="n">try:</span>
        <span class="n">data</span> = <span class="o">s</span>.<span class="n">loads</span>(<span class="k">token</span>)
    <span class="n">except:</span>
        <span class="k">return</span> <span class="n">None</span>
    <span class="k">return</span> <span class="n">User</span>.<span class="n">query</span>.<span class="n">get</span>(<span class="n">data</span>[<span class="s">&#39;id&#39;</span>])
</pre></div>


<p>æ”¯æŒä»¤ç‰Œçš„æ”¹è¿›éªŒè¯å›æ‰(app/api-1-0/authentication.py)</p>
<div class="codehilite"><pre>@auth.verify_password
def verify_password(email_or_token, password):
    if email_or_token == &#39;&#39;:
        g.current_user = AnonymousUser()
        return True
    if password == &#39;&#39;:
        g.current_user = User.verify_auth_token(email_or_token)
        g.token_used = True
        return g.current_user is not None
    user = User.query.filter_by(email=email_or_token).first()
    if not user:
        return False
    g.current_user = user
    g.token_used = False
    return user.verify_password(password)
</pre></div>


<p>å‘é€ä»¤ç‰Œè‡³å®¢æˆ·ç«¯çš„è·¯ç”±(app/api-1-0/authentication.py)</p>
<div class="codehilite"><pre>@api.route(&#39;/token&#39;)
def get_token():
    if g.current_user.is_anonymous() or g.token_used:
        return unauthorized(&#39;Invalid credentials&#39;)
    return jsonify({&#39;token&#39;: g.current_user.generate_auth_token(
        expiration=3600), &#39;expiration&#39;: 3600})
</pre></div>


<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†å®¢æˆ·ç«¯ç”¨æˆ·è®¤è¯äº†ã€‚åœ¨æ¥ä¸‹æ¥çš„åšæ–‡ä¸­ï¼Œè®©æˆ‘ä»¬æŠŠç›®å…‰æ”¾åœ¨å¦‚ä½•ç”¨jsonçš„åºåˆ—åŒ–è¡¨ç¤ºèµ„æºå§ï¼</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flaskå­¦ä¹ ç¬”è®°ï¼ˆ5ï¼‰â€”â€”API ä¸Š</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#23">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="23" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flaskå­¦ä¹ ç¬”è®°ï¼ˆ5ï¼‰â€”â€”API ä¸Š</h4>
                        </div>
                        <div class="modal-body">
                            <p>ä»Šå¤©æŠŠflask web å¼€å‘æ•™ç¨‹ä¸Šçš„apiçœ‹å®Œäº†ï¼ŒæˆåŠŸå¾—åˆ°äº†æ•™ç¨‹å®ä¾‹çš„apiï¼Œè¿™ç¯‡åšæ–‡ä¸»è¦ä»¥è¿™ä¸ªå®ä¾‹ä¸ºä¾‹ï¼Œå¯¹apiè¿›è¡Œæ€»ç»“ï¼Œä¹Ÿæ˜¯å¸®åŠ©è‡ªå·±ç†æ¸…æ€è·¯ã€‚
okå¼€å§‹å§ï¼<br/>
<strong>1.What is API?</strong><br/>
--
é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯apiï¼Œapiå…¨ç§°åº”ç”¨ç¼–ç¨‹æ¥å£ï¼ˆapplication program interfaceï¼‰ï¼Œæ˜¯è¿æ¥æœåŠ¡å™¨ä¸é™¤æµè§ˆå™¨å¤–çš„å…¶ä»–å®¢æˆ·ç«¯ï¼ˆå¦‚æ‰‹æœºappï¼‰çš„æ¥å£ã€‚<br/>
<strong>2.api æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong><br/>
--
é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ï¼Œåœ¨æ‰‹æœºç«¯ã€appï¼ŒæœåŠ¡å™¨çš„è§’è‰²å·²ç»å‘ç”Ÿäº†å˜åŒ–ï¼ŒæœåŠ¡å™¨ä¸åœ¨æ˜¯ç¨‹åºçš„æ§åˆ¶è€…ï¼Œè€Œè½¬å˜ä¸ºèµ„æºçš„æä¾›è€…â€”â€”å°†æ•°æ®åº“ä¸­çš„èµ„æºæä¾›ç»™æ‰‹æœºå®¢æˆ·ç«¯ã€‚è€Œapiå°±æ˜¯èµ„æºæµé€šçš„å¤§é—¨ï¼<br/>
<strong>3.restAPI<br/></strong>
--
flaskæ”¯æŒresté£æ ¼çš„APIï¼Œè¿™æ˜¯APIçš„çš„ä¸€ç§ï¼Œè¯¦è§ï¼š
<a href="http://zh.wikipedia.org/wiki/REST" target="_blank">restAPI</a><br/>
<strong>4.èµ„æºå°±æ˜¯ä¸€åˆ‡ï¼<br/></strong>
--
ä¸€ä¸ªç½‘ç«™ï¼Œä¸€ä¸ªæœåŠ¡å™¨æœ€æ ¸å¿ƒä¹Ÿæ˜¯æœ€éœ€è¦ä¿è¯çš„åœ°æ–¹å°±æ˜¯æ•°æ®åº“ï¼Œåœ¨ç”µå½±ã€Šç¤¾äº¤ç½‘ç»œã€‹ä¸­ï¼Œé©¬å…‹.æ‰å…‹ä¼¯æ ¼è¯´è¿‡è¿™æ ·ä¸€å¥è¯ï¼šâ€˜facebookä¸å…¶ä»–æ‰€æœ‰ç½‘ç«™ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯å®ƒæ°¸è¿œä¹Ÿä¸ä¼šå´©æºƒï¼Œå¯æ˜¯å¦‚æœæœ‰ä¸€å¤©æ•°æ®åº“æ¯äº†ï¼Œé‚£å®ƒå°±å®Œäº†ï¼â€™ï¼Œè™½ç„¶ç”µå½±æ¸²æŸ“çš„æœ‰ç‚¹å¤¸å¼ ï¼Œä½†æˆ‘ä»¬ä¸å¾—ä¸æ‰¿è®¤æ•°æ®åº“çš„é‡è¦æ€§ï¼Œæ•°æ®åº“æ˜¯ç½‘ç«™çš„çµé­‚ï¼Œè€Œæ•°æ®åº“é‡Œçš„æ•°æ®åˆ™æ˜¯ä¸€ä¸ªç½‘ç«™èµ–ä»¥ç”Ÿå­˜çš„è¡€æ¶²ã€‚ã€‚å½“æˆ‘ä»¬æŠŠç›®å…‰è½¬å‘ç§»åŠ¨ç«¯
ï¼Œè¿™äº›æ•°æ®ï¼Œä¹Ÿå°±å˜æˆäº†ç§»åŠ¨ç«¯æ‰€éœ€çš„èµ„æºï¼<br/>
<strong>5.APIä»£ç ç¤ºä¾‹ï¼š<br/></strong></p>
<hr />
<p>æˆ‘ä»¬å°†ä¸ºã€Šflask web å¼€å‘ã€‹ä¸­çš„ç¤ºä¾‹ç½‘ç«™å»ºç«‹ä¸€ä¸ªapi<br/>
å¦‚æœéœ€è¦ä»£ç ï¼š<code>git clone https://github.com/neo1218/flasky.git</code><br/>
<strong>5.1:APIè“å›¾ç»“æ„</strong><br/>
å¦‚æœä¸æ¸…æ¥šä»€ä¹ˆæ˜¯è“å›¾çš„è¯ï¼Œè¯·å‚è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢:<a href="http://neo1218.github.io/2015/04/02/post6-1/" target="_blank">flaskå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰â€”â€”è“å›¾</a></p>
<div class="codehilite"><pre>|-flasky
    |-app/
        |-api_1_0
            |-__init__.py
            |-users.py
            |-posts.py
            |-comments.py
            |-authentication.py
            |-errors.py
            |-decorators.py
</pre></div>


<p>æ³¨ï¼šapi_1_0,æ˜¯apiçš„ç‰ˆæœ¬å·ï¼Œè¦æƒ³æ˜ç™½ä¸ºä»€ä¹ˆè¦è®¾ç½®ç‰ˆæœ¬å·ï¼Œé¦–å…ˆæˆ‘ä»¬è¦äº†è§£webæµè§ˆå™¨å’Œæ™ºèƒ½æ‰‹æœºå®¢æˆ·ç«¯çš„åŒºåˆ«ï¼Œwebæµè§ˆå™¨å…¶å®å°±æ˜¯ä¸€ä¸ªæ˜¾ç¤ºå·¥å…·ï¼ˆæ˜¾ç¤ºhtmlä»£ç ï¼‰ï¼Œå®ƒæ‰§è¡Œçš„ä»£ç å°±æ˜¯æœåŠ¡å™¨ç«¯çš„ä»£ç ï¼Œæ‰€ä»¥æœåŠ¡å™¨ç«¯ç‰ˆæœ¬æ›´æ–°åï¼Œæµè§ˆå™¨èƒ½å¤Ÿå¾ˆå¥½çš„æ›´æ–°æ‰€æœ‰çš„ç”¨æˆ·ã€‚ä½†æ˜¯ï¼Œæ‰‹æœºçš„åŸç”Ÿåº”ç”¨å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒåªæ˜¯åˆ©ç”¨æœåŠ¡å™¨ç«¯çš„æ•°æ®ï¼Œappçš„å¼€å‘ä»£ç éƒ½ä¸ä¸€æ ·(æ¯”å¦‚æˆ‘ä»¬å­¦æ ¡çš„æ¡‚å£°appï¼Œjavaå¼€å‘ï¼Œåå°æ˜¯python)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåº”ç”¨æ›´æ–°æ˜¯éœ€è¦å¾—åˆ°æœºä¸»çš„å…è®¸çš„ï¼Œå¦‚æœæœºä¸»ä¸æƒ³æ›´æ–°å‘¢ï¼Ÿé‚£ä¹ˆåªæœ‰ç»§ç»­è¿è¡Œæ—§çš„ç¨‹åºå•¦ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šè¦è¿è¡Œå¤šå¥—ç¨‹åºçš„ï¼Œç‰ˆæœ¬å·çš„ä½œç”¨å°±ä¸è¨€è€Œå–»äº†å§ï¼<br/>
1.APIè“å›¾çš„æ„é€ æ–‡ä»¶(app/api-1-0/-init-.py)</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">&#39;api&#39;</span><span class="p">,</span><span class="n">__name__</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">authentication</span><span class="p">,</span> <span class="n">posts</span><span class="p">,</span> <span class="n">users</span><span class="p">,</span> <span class="n">comments</span><span class="p">,</span> <span class="n">errors</span>
</pre></div>


<p>2.æ³¨å†ŒAPIè“å›¾(app/-init.py-)</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config_name</span><span class="p">):</span>
    <span class="c">#...</span>
    <span class="kn">from</span> <span class="nn">.api_1_0</span> <span class="kn">import</span> <span class="n">api</span> <span class="k">as</span> <span class="n">api_1_0_blueprint</span>
    <span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">api_1_0_blueprint</span><span class="p">,</span><span class="n">url_prefix</span><span class="o">=</span><span class="s">&#39;/api/v1.0&#39;</span><span class="p">)</span>
    <span class="c">#...</span>
</pre></div>


<p>3.é”™è¯¯å¤„ç†<br/>
åœ¨å­¦ä¹ é”™è¯¯å¤„ç†ä¹‹å‰æˆ‘ä»¬è¦äº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼š1.resté£æ ¼æ”¯æŒçš„httpæ–¹æ³•    ï¼Œ2.httpçŠ¶æ€ç <br/>
1.resté£æ ¼æ”¯æŒä»¥ä¸‹å‡ ç§httpè¯·æ±‚æ–¹æ³•ï¼š<br/></p>
<div class="codehilite"><pre>1.GET: å•ä¸ªèµ„æºçš„url è·å–ç›®æ ‡èµ„æº  
2.GET: èµ„æºé›†åˆçš„url è·å–ç›®æ ‡èµ„æºçš„é›†åˆï¼ˆå¦‚æœå®ç°äº†åˆ†é¡µåˆ™è¿”å›è¯¥é¡µçš„èµ„æºé›†åˆï¼‰
3.PUT: å•ä¸ªèµ„æºçš„url ä¿®æ”¹ä¸€ä¸ªç°æœ‰èµ„æºï¼Œå¦‚æœå®¢æˆ·ç«¯èƒ½å¤ŸæŒ‡æ´¾ä¸€ä¸ªæ–°çš„urlåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æº
4.POST:èµ„æºé›†åˆçš„url åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºï¼Œå¹¶åŠ å…¥èµ„æºé›†åˆï¼Œç”±æœåŠ¡å™¨ä¸ºèµ„æºæŒ‡æ´¾ä¸€ä¸ªæ–°çš„url
5.DELETE: å•ä¸ªèµ„æºçš„url åˆ é™¤è¯¥èµ„æº
6.DELETE: èµ„æºé›†åˆçš„url åˆ é™¤è¯¥èµ„æºé›†åˆä¸­çš„æ‰€æœ‰èµ„æº
</pre></div>


<p>ç”±ä¸Šè¡¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°urlçš„é‡è¦æ€§ï¼Œå®¢æˆ·ç«¯å¯¹èµ„æºçš„æ“æ§æ˜¯ä»¥urlä¸ºæ ¸å¿ƒï¼<br/>
2.httpçŠ¶æ€ç ï¼š</p>
<div class="codehilite"><pre>200ï¼š                    OK                      è¯·æ±‚æˆåŠŸå®Œæˆ 
201ï¼š                    Greated                 è¯·æ±‚æˆåŠŸå®Œæˆï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°èµ„æº
400ï¼š                    Bad request             è¯·æ±‚ä¸å¯ç”¨æˆ–ä¸ä¸€è‡´                 
401ï¼š                    Unauthorized            è¯·æ±‚æœªåŒ…å«è®¤è¯ä¿¡æ¯
403ï¼š                    Forbidden               è¯·æ±‚ä¸­å‘é€çš„è®¤è¯å¯†ä»¤æ— æƒè®¿é—®ç›®æ ‡    
404ï¼š                    Notfound                URLå¯¹åº”çš„èµ„æºä¸å­˜åœ¨
405ï¼š                    Method not allowed      æŒ‡å®šèµ„æºä¸æ”¯æŒè¯·æ±‚æ‰€ç”¨çš„æ–¹æ³•
500ï¼š                    Internal server error   å†…éƒ¨æœåŠ¡å™¨å‘ç”Ÿæ„å¤–é”™è¯¯
</pre></div>


<p>å¦é™„ä¸Šé“¾æ¥<a href="http://www.w3cschool.cc/w3cnote/404-page-design.html" target="_blank">åˆ›æ„404ç•Œé¢</a><br/>
<a href="https://thepiratebay.se/404" target="_blank">tpb</a><br/>
å¤„ç†405å’Œ500çŠ¶æ€ç ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªé”™è¯¯æ˜¯apiè‡ªå·±ç”Ÿæˆçš„ï¼Œè€Œä¸”è¿”å›çš„æ˜¯htmlå“åº”ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€šè¿‡å†…å®¹åå•†æœºåˆ¶ï¼ŒæŠŠå“åº”æ”¹ä¸ºjsonæ ¼å¼ï¼ˆjavascript object notationï¼‰<br/>
ä½¿ç”¨httpå†…å®¹åå•†å¤„ç†é”™è¯¯(app/main/errors.py)</p>
<div class="codehilite"><pre>@main.app_errorhandler(404)
def page_not_found(e):
#ç¨‹åºåœ¨è¯·æ±‚çš„é¦–éƒ¨è¿›è¡Œå“åº”æ ¼å¼æ£€æŸ¥
if request.accept_mimetypes.accept_json and \
        not request.accept_mimetypes.accept_html:
    response = jsonify({&#39;error&#39;: &#39;not found&#39;})
    response.status_code = 404
    return response
return render_template(&#39;404.html&#39;), 404
</pre></div>


<p><strong>ä½¿ç”¨Flask-HTTPAuthè®¤è¯ç”¨æˆ·</strong><br/>
èµ„æºå¾ˆé‡è¦ï¼Œæ‰€ä»¥èµ„æºä¹Ÿæ˜¯éœ€è¦ä¿æŠ¤çš„ï¼Œä½†æ›´å¤šçš„æ˜¯ä¿æŠ¤ç”¨æˆ·çš„ä¿¡æ¯ä¸å¯¹å¤–æ³„éœ²ã€‚<br/>
å¦‚æœå¤§å®¶ä¹‹å‰è®¤çœŸçœ‹è¿‡æˆ‘ç»™çš„restä»‹ç»ï¼ˆé‚£ä¸ªé“¾æ¥ï¼‰ï¼Œé‚£ä¹ˆä½ è‚¯å®šä¼šè®°å¾—rest web æœåŠ¡æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ä¸ªç‰¹å¾--æ— çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´reståœ¨ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´ä¸èƒ½è®°ä½å®¢æˆ·ç«¯çš„ä»»ä½•ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨æ˜¯ä¸å­˜å‚¨ä»»ä½•å…³äºç”¨æˆ·ä¿¡æ¯çš„ï¼Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œå¯ä»¥æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨cookiesä¸­ï¼Œä½†å¯¹äºæ‰‹æœºç«¯è¿™ç§å¹¶ä¸æ”¯æŒcookiesçš„å®¢æˆ·ç«¯å°±æ— èƒ½ä¸ºåŠ›äº†ï¼æ‰€ä»¥åœ¨æ¯æ¬¡è¯·æ±‚ä¸­ï¼Œå®¢æˆ·ç«¯éƒ½è¦åŒ…å«å¯†ä»¤ã€‚<br/>
å› ä¸ºrestæœåŠ¡åŸºäºhttpåè®®ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨åŸºäºflaskçš„httpauthè®¤è¯!<br/>
1.åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…flask-httpauthï¼š<br/>
<code>pip install flask-httpauth</code></p>
<div class="codehilite"><pre>ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…å¥½äº†flask-httpauthï¼Œåœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­æˆ‘ä»¬ä¼šç»§ç»­å¤„ç†è®¤è¯ç³»ç»Ÿï¼Œä»¥åŠå¦‚ä½•ä»¥jsonæ ¼å¼è¿”å›èµ„æºï¼Œå’Œå¯¹èµ„æºurlçš„å¤„ç†ï¼
</pre></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>Flaskå­¦ä¹ ç¬”è®°(4)â€”â€”web è¡¨å•</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#24">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="24" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Flaskå­¦ä¹ ç¬”è®°(4)â€”â€”web è¡¨å•</h4>
                        </div>
                        <div class="modal-body">
                            <p><strong>è¿™æ¬¡åšå®¢çš„ä¸»é¢˜æ˜¯ web è¡¨å•</strong>
<p><strong>wikiç™¾ç§‘è§£é‡Š</strong>ï¼šweb è¡¨å•æ˜¯ä¸€ä¸ªç½‘é¡µè¡¨å•ï¼Œå¯ä»¥å°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚å› ä¸ºäº’è”ç½‘ç”¨æˆ·ä½¿ç”¨å¤é€‰æ¡†ï¼Œå•é€‰æŒ‰é’®æˆ–æ–‡æœ¬å­—æ®µå¡«å†™è¡¨æ ¼ï¼Œæ‰€ä»¥WebFormsçš„å½¢å¼ç±»ä¼¼æ–‡ä»¶æˆ–æ•°æ®åº“ã€‚ä¾‹å¦‚ï¼ŒWebFormså¯ä»¥ç”¨æ¥è¿›å…¥èˆªè¿æˆ–ä¿¡ç”¨å¡èµ„æ–™è®¢è´­äº§å“ï¼Œæˆ–å¯ç”¨äºæ£€ç´¢æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œæœç´¢å¼•æ“ä¸Šæœç´¢ï¼‰ã€‚
å…¶å®æˆ‘çš„ç†è§£æ˜¯â€”â€”webè¡¨å•å°±æ˜¯æˆ‘ä»¬ä¸æµè§ˆå™¨äº¤äº’çš„ä¸€ä¸ªå¹³å°ï¼Œæˆ‘ä»¬æŠŠæƒ³è¯´çš„æ‚„æ‚„è¯é€šè¿‡webè¡¨å•å‘Šè¯‰æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°±å¯ä»¥ä¸ºæˆ‘ä»¬åšäº›äº‹æƒ…å•¦ï¼</p>
<strong>1.è¿›å…¥è™šæ‹Ÿç¯å¢ƒ,å®‰è£…æ‰©å±•</strong></p>
<p><code><venv>$ pip install flask-wtf</code></p>
<p><strong>2.åˆ›å»ºappæ–‡ä»¶</strong></p>
<p><code><venv>$ vim hello.py</code></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">&#39;&lt;h1&gt;Hello æœ¨çŠ€ï¼&lt;/h1&gt;&#39;</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="p">)</span>
</pre></div>


<p><strong>3.é…ç½®Flask-WTF(./hello.py)</strong></p>
<p><code>app.config['SECRET_KEY'] = 'hard to guess string'</code>
<p>é…ç½®å¯†é’¥çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢CSRFæ”»å‡»ï¼Œå…³äºCSRFæ”»å‡»ï¼Œè¯·æˆ³^^</p>
<a href="http://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0">CSRF</a></p>
<p><strong>4.åˆ›å»ºè¡¨å•ç±»(./hello.py)</strong></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask.ext.wtf</span> <span class="kn">import</span> <span class="n">Form</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">StringField</span><span class="p">,</span><span class="n">SubmitField</span>
<span class="kn">from</span> <span class="nn">wtforms.validators</span> <span class="kn">import</span> <span class="n">Required</span>

<span class="k">class</span> <span class="nc">NameForm</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s">&#39;ä½ çš„å§“åæ˜¯ï¼Ÿ&#39;</span><span class="err">ï¼Œ</span><span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">Required</span><span class="p">()])</span>
    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s">&quot;æäº¤ï¼&quot;</span><span class="p">)</span>
</pre></div>


<p> pythonæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œç±»çš„æ¦‚å¿µå°¤å…¶é‡è¦ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªNameFormç±»--è¿™æ˜¯Formç±»çš„å­ç±»ï¼Œç»§æ‰¿è¡¨å•çš„åŸºæœ¬å±æ€§å’Œè¡Œä¸ºã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ç»™äº†ä»–ç‰¹æ®Šçš„åŠŸèƒ½--ç”¨äºæäº¤ä½ çš„åå­—ï¼coolï¼
    StringFieldã€å’ŒSubmitField æ˜¯ä¸¤ä¸ªç±»ï¼Œåˆ†åˆ«ç”¨äºå¤„ç†å­—ç¬¦ä¸²å’Œæäº¤ã€‚å…¶å®ä»–ä»¬çš„èƒŒåæ˜¯htmlä»£ç çš„å®ç°ï¼
    è‡³äºRequired()åˆ™æ˜¯éªŒè¯å™¨--é˜²æ­¢æäº¤ç©ºçš„è¡¨å•ã€‚</p>

<p><strong>5.æ¸²æŸ“æ¨¡æ¿</strong></p>
<h1>-------------------------------------</h1>
<p>ä¸å¥½æ„æ€ï¼Œä»£ç é—®é¢˜è§£å†³ä¸­ing...</p>
<h1>-------------------------------------</h1>
<p>ç„¶åå¯åŠ¨æœåŠ¡å™¨ï¼Œä½ å°±å¯ä»¥å‘Šè¯‰æµè§ˆå™¨ä½ çš„åå­—å•¦ï¼</p>
<h2>æ€»ç»“</h2>
<p>åˆ›å»ºä¸€ä¸ªwebè¡¨å•å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š
1.å®‰è£…flask-wtfæ‰©å±•
2.é…ç½®flask-wtf
3.åˆ›å»ºè¡¨å•ç±»,ç¡®å®šè¡¨å•çš„åŠŸèƒ½
4.æ¸²æŸ“æ¨¡æ¿</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flaskå­¦ä¹ ç¬”è®°(3)â€”â€”è“å›¾</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#25">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="25" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flaskå­¦ä¹ ç¬”è®°(3)â€”â€”è“å›¾</h4>
                        </div>
                        <div class="modal-body">
                            <p>ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆï¼ŒæŠŠåšå®¢çš„æºç çœ‹äº†ä¸€éï¼Œå¯¹è“å›¾æœ‰äº†å¤§è‡´çš„äº†è§£ã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­æˆ‘æƒ³å¯¹è“å›¾çš„åº”ç”¨åšä¸€ä¸ªæ€»ç»“ï¼Œå¯èƒ½ä¼šæœ‰ç–å¿½ï¼Œä½†å°±æ˜¯æƒ³ç†æ¸…æ¥šè‡ªå·±çš„æ€è·¯ã€‚<br/>
<strong>1.ä¸ºä»€ä¹ˆè¦ç”¨è“å›¾</strong><br/>
ä¸ºä»€ä¹ˆè¦ç”¨è“å›¾ï¼Ÿå› ä¸ºç½‘ç«™çš„è¿è¡Œç¯å¢ƒå¤æ‚ï¼Œå·²çŸ¥è‡³å°‘æœ‰ä¸‰ç§ç¯å¢ƒï¼šå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒã€‚æ¯ä¸ªç¯å¢ƒçš„çš„æ•°æ®åº“ã€é…ç½®æ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œå¯è§ä¸€ä¸ªå…¨å±€çš„appå®ä¾‹æ˜¾ç„¶æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚äºæ˜¯æˆ‘ä»¬å°±æƒ³ï¼Œèƒ½ä¸èƒ½åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­åˆ›å»ºä¸åŒçš„å®ä¾‹ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸­è°ƒç”¨å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œè¿™å…¶å®å°±æ˜¯å·¥å‚å‡½æ•°çš„æ¦‚å¿µï¼Œå·¥å‚å‡½æ•°å°±æ˜¯åœ¨è¯¥å‡½æ•°ä½œç”¨åŸŸä¸­åˆ›å»ºappçš„å‡½æ•°ã€‚ä½†æ˜¯ï¼Œä½†æ˜¯ï¼é—®é¢˜æ¥äº†ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºappï¼Œé‚£ä¹ˆurlå²‚ä¸æ˜¯è¦åœ¨æ‰§è¡Œå‡½æ•°è¢«è°ƒç”¨åæ‰ä¼šè¢«æ³¨å†Œï¼Œå¯æ˜¯æ²¡æœ‰urlå¦‚ä½•è®¿é—®æ‰§è¡Œå‡½æ•°å‘¢ï¼Ÿè¿™ä¸å°±æ˜¯ä¸€ä¸ªå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹çš„é—®é¢˜å—ï¼Ÿäºæ˜¯è“å›¾å°±è¢«æ¨ä¸Šäº†å†å²çš„èˆå°^^ã€‚<br/>
<strong>2.ä»€ä¹ˆæ˜¯è“å›¾</strong><br/>
è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£åˆ°åº•ä»€ä¹ˆæ˜¯è“å›¾å‘¢ï¼Ÿè“å›¾å…¶å®æ˜¯ä¸€ä¸ªç½‘ç«™ç¨‹åº,æ˜¯å®šä¹‰urlçš„ä¸€ç§æ–¹å¼ã€‚ç½‘ç«™å®ä¾‹æ³¨å†Œè“å›¾åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—®è“å›¾å®šä¹‰çš„urlï¼Œè€Œä¸ç”¨æ·±å…¥æ‰§è¡Œå‡½æ•°å»æ‰¾appäº†ã€‚<br/>
<strong>3.ä»£ç å®ç°</strong><br/>
é™„ä¸Šä¸€ä¸ªå°ä¾‹å­ï¼š<br/>
1.~/flasky/app/-init-.py<br/></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">config</span> <span class="kn">import</span> <span class="n">config</span>

<span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config_name</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    å·¥å‚å‡½æ•°</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="n">config_name</span><span class="p">])</span>                                    
    <span class="n">config</span><span class="p">[</span><span class="n">config_name</span><span class="p">]</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> 
    <span class="c">#æ³¨å†Œè“å›¾</span>
    <span class="kn">from</span> <span class="nn">.main</span> <span class="kn">import</span> <span class="n">main</span> <span class="k">as</span> <span class="n">main_blueprint</span>                                        
    <span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">main_blueprint</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">app</span>
</pre></div>


<p>2.~/flasky/app/main/-init-.py<br/></p>
<div class="codehilite"><pre><span class="c">#å¯¼å…¥è“å›¾</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>
<span class="c">#å®ä¾‹åŒ–è“å›¾ï¼ˆå‚æ•°1ï¼šè“å›¾çš„åå­—ï¼›å‚æ•°2ï¼šè“å›¾æ‰€åœ¨çš„åŒ…oræ¨¡å—ï¼‰</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">&#39;main&#39;</span><span class="p">,</span> <span class="n">__name__</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="nd">@main.app_context_processor</span>
<span class="k">def</span> <span class="nf">inject_permissions</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Permission</span><span class="o">=</span><span class="n">Permission</span><span class="p">)</span>
</pre></div>


<p>3.~/flasky/app/main/views.py</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">main</span>

<span class="nd">@main.route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">&#39;index.html&#39;</span><span class="p">)</span>
</pre></div>


<p>æ³¨æ„å’¯ï¼Œè¿™é‡Œè·¯ç”±çš„æ³¨å†Œæ–¹å¼æ˜¯main.routeï¼Œæ­¤å¤–ï¼Œè“å›¾è¿˜æä¾›å‘½åç©ºé—´æ³¨å†Œè·¯ç”±ï¼Œè¿™æ ·indexåœ¨main.index å’Œ auth.index ä¸‹æ˜¯ä¸ä¸€æ ·çš„è·¯ç”±å“¦ã€‚</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>ä¿®å¥½äº†</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#26">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="26" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">ä¿®å¥½äº†</h4>
                        </div>
                        <div class="modal-body">
                            <p>ä¿®å¥½äº†ï¼Œä¸æ˜¯åšå®¢çš„åŸå› ï¼Œåº”è¯¥æ˜¯æ–‡æ³•çš„åŸå› ï¼Œæ’å…¥htmlä»£ç ã€‚ã€‚</p>

<p>åˆå¯ä»¥ç»§ç»­æ›´æ–°åšå®¢äº†ï¼Œä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Œå› ä¸ºæŠ€æœ¯æ˜¯è¦åˆ†äº«çš„ã€‚æˆ‘ä¸æ‡‚çš„é—®é¢˜åœ¨ç½‘ä¸Šæœç´¢ï¼Œé€šè¿‡åˆ«äººçš„åšå®¢å¾—åˆ°è§£ç­”ã€‚ä½†æ˜¯åˆ«äººçš„è§£ç­”å¯èƒ½ä¸é€‚åˆæˆ‘ï¼ŒæŠ˜è…¾ä¸€ç•ªï¼Œè§£å†³é—®é¢˜ï¼Œä½•ä¸ç”¨ä¸€ç¯‡åšå®¢ä½œä¸ºå°ç»“ã€‚è‹¥å¹²å¹´åï¼Œç›¸åŒæƒ…å†µçš„åˆ«äººå°±ä¼šå¾—åˆ°é—®é¢˜çš„åœ†æ»¡è§£ç­”ã€‚</p>

<p>åšå®¢çš„ä¹¦å†™ï¼Œå…¶å®ä¹Ÿæ˜¯å­¦ä¹ å†ç¨‹çš„è®°å½•ï¼Œè‡ªå·±å­¦äº†ä»€ä¹ˆï¼Œèƒ½ä¸èƒ½æ€»ç»“æˆæ¨¡æ¿ã€‚æˆ‘ä¸‹æ¬¡å†™ç±»ä¼¼ç¨‹åºçš„æ—¶å€™ï¼Œå°±å¯ä»¥çœ‹çœ‹è‡ªå·±çš„åšå®¢ï¼Œæ—¢æ˜¯å›å¿†ã€ä¹Ÿæ˜¯å†å­¦ä¹ ã€‚</p>

<p>äº’è”ç½‘å°±æ˜¯ä¸€ä¸ªä¹äºåˆ†äº«ã€ä¼ æ’­çŸ¥è¯†çš„åœ°æ–¹ï¼Œå¯¹èµ„æºã€ä¿¡æ¯çš„åˆ©ç”¨ç›´æ¥å†³å®šäº†äº’è”ç½‘çš„å·¥ä½œæ•ˆç‡ã€‚è€Œåšå®¢å°±æ˜¯åˆ†äº«å’ŒçŸ¥è¯†çš„é›†åˆã€‚</p>

<p>æ‰€ä»¥ï¼Œä¿®å¥½äº†ã€‚ã€‚</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flask å­¦ä¹ ç¬”è®°(2)â€”â€”flaskåŸºæœ¬ç¨‹åºç»“æ„</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#27">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="27" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flask å­¦ä¹ ç¬”è®°(2)â€”â€”flaskåŸºæœ¬ç¨‹åºç»“æ„</h4>
                        </div>
                        <div class="modal-body">
                            <h1>æœ¬æ¬¡ç¬”è®°å°†ä»‹ç»flaskçš„åŸºæœ¬ç¨‹åºç»“æ„ï¼Œå¹¶å†™å‡ºç¬¬ä¸€ä¸ªwebåº”ç”¨</h1>
<p>--------------æˆ‘ä»¬é€‰æ‹©åœ¨æœåŠ¡å™¨ç«¯ç›´æ¥ç¼–ç¨‹---------------</p>
<h2>0.åŸºæœ¬æ¡†æ¶</h2>
<p><code>mkdir /root/www/flasky</code>æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹
<code>vituralenv venv</code>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
<code>source venv/bin/activate</code>è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
<code>pip install flask</code>å®‰è£…flask
<code>vim hello.py</code></p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span> 
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span> 
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">&#39;Come from MuxiStudio!&#39;</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p>ç¨‹åºçš„é¦–å…ˆä»flaskæ¨¡å—ä¸­å¯¼å…¥Flaskç±»ï¼Œåˆ©ç”¨Flaskç±»å®ä¾‹åŒ–app(<strong>name</strong>æ˜¯Flaskç±»çš„ä¸€ä¸ªå±æ€§)ï¼Œåˆ©ç”¨route(è·¯ç”±)è£…é¥°å™¨å…³è”urlå’Œæ‰§è¡Œå‡½æ•°(index)ï¼Œindexå‡½æ•°ä¼šåœ¨ç›¸åº”çš„urlåœ°å€è¿”å›å­—ç¬¦ä¸²â€œCome from MuxiStudio!â€ã€‚æœ€åç¨‹åºåˆ¤åˆ«<strong>name</strong>å±æ€§ï¼Œè°ƒç”¨runæ–¹æ³•ï¼Œå¼€å¯è°ƒè¯•æ¨¡å¼(debug=True),è¿è¡Œappã€‚</p>
<p>å¥½å§ï¼Œæˆ‘æƒ³ä½ è‚¯å®šæ˜¯ä¸€å¤´é›¾æ°´ï¼Œä¸è¿‡ä¸è¦ç€æ€¥ï¼Œæˆ‘æ¥ä¸‹æ¥å°†é€å­—é€å¥çš„è§£é‡Šä¸Šé¢è¿™æ®µè¯ï¼</p>
<h2>1.Flaskç±»å®ä¾‹åŒ–app</h2>
<p>å¦‚æœä½ æ²¡æœ‰æ¥è§¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œé‚£ä¹ˆè¿™å¥è¯å¯èƒ½å¯¹ä½ è€Œè¨€å°±åƒå¤©ä¹¦ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œè¯·æˆ³ä¸‹é¢é“¾æ¥
<a href="http://www.zhihu.com/question/19854505">é¢å‘å¯¹è±¡æ€æƒ³</a>
æˆ‘çš„ç†è§£æ˜¯--Flaskç±»å…·æœ‰å®šä¹‰å¥½çš„å±æ€§å’Œæ–¹æ³•,appè¢«å®ä¾‹åŒ–åä¹Ÿå°±ç»§æ‰¿äº†è¿™äº›æ–¹æ³•ã€‚</p>
<h2>2."<strong>name</strong>"å±æ€§</h2>
<p>"<strong>name</strong>"å±æ€§å°±æ˜¯Flaskç±»çš„ä¸€ä¸ªå¾ˆé‡è¦çš„å±æ€§å•¦ï¼åœ¨æ­£å¼ä»‹ç»ä»–çš„ç”¨å¤„ä¹‹å‰æˆ‘ä»¬å…ˆç†è§£ä¸€ä¸‹flaskçš„ç›®å½•ç»„ç»‡æ–¹å¼ã€‚
----flaskçš„ç›®å½•ç»„ç»‡ç»“æ„æ²¡æœ‰å¼ºåˆ¶è¦æ±‚--</p>
<div class="codehilite"><pre>------|â€”â€”&gt;appâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”|â€”â€”&gt;__init__.py
------|â€”â€”&gt;db_repository------|â€”â€”&gt;static
flaskâ€”&gt;venv------------------|â€”â€”&gt;templates
------|â€”â€”&gt;config.py----------|â€”â€”&gt;views.py
------|â€”â€”&gt;run.py-------------|â€”â€”&gt;forms.py
------|â€”â€”&gt;runp.py------------|â€”â€”&gt;modles.py
------|â€”â€”&gt;readme.md
</pre></div>


<p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªflaské¡¹ç›®çš„æ–‡ä»¶ç»„ç»‡ç»“æ„ï¼Œ<strong>app</strong>æ˜¯appåº”ç”¨ç¨‹åºæ‰€åœ¨çš„ä¸»ç›®å½•ï¼Œ<strong>db_repository</strong>æ˜¯ä¸æ•°æ®åº“è¿ç§»ç›¸å…³çš„(ä»¥åå†è¯´)ï¼Œ<strong>venv</strong>å°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒå…¥å£æ–‡ä»¶å¤¹,<strong>config.py</strong>æ˜¯é…ç½®æ–‡ä»¶ï¼Œ<strong>run.py</strong>æ˜¯å¼€å‘æ—¶åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ–‡ä»¶ï¼Œ<strong>runp.py</strong>æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹çš„å¯åŠ¨æ–‡ä»¶( ä¸¤è€…çš„åŒºåˆ«åœ¨äºç”Ÿäº§ç¯å¢ƒåƒä¸‡ä¸èƒ½å¼€è°ƒè¯•å™¨ï¼Œè¿™ä¼šè®©ä½¿ç”¨è€…çœ‹åˆ°ä¸è¯¥çœ‹åˆ°çš„ä»£ç ï¼)<strong>readme.md</strong>æ˜¯ä¸€ä¸ªé¡¹ç›®ä»‹ç»æ–‡ä»¶ï¼Œç”¨çš„ä¹Ÿæ˜¯markdownè¯­æ³•ã€‚ 
å†çœ‹çœ‹<strong>app</strong>æ–‡ä»¶å¤¹ï¼Œ<strong>static</strong>ç”¨äºå­˜æ”¾cssã€imageç­‰é™æ€æ–‡ä»¶ï¼Œ<strong>templates</strong>ç”¨äºæ”¾ç½®æ¨¡æ¿æ–‡ä»¶ï¼Œ<strong>views.py</strong>æ˜¯è§†å›¾å‡½æ•°æ‰€åœ¨çš„æ¨¡å—ï¼Œ<strong>forms.py</strong>åˆ™æ˜¯è¡¨å•æ‰€åœ¨çš„æ¨¡å—ï¼Œ<strong>modles.py</strong>æ˜¯æ•°æ®åº“è¡¨å¯¹è±¡æ‰€åœ¨çš„æ¨¡å—ï¼Œè€Œ<strong><strong>init</strong></strong>.py....</p>
<p>å¯¹ï¼Œ<strong>init</strong>.pyå’Œæˆ‘ä»¬çš„<strong>name</strong>å±æ€§æœ‰ç€å¯†åˆ‡çš„å…³ç³»ï¼šé¦–å…ˆ<strong>init</strong>.pyæ˜¯appåˆ›å»ºçš„åœ°æ–¹ï¼Œä½†æˆ‘ä»¬çŸ¥é“appçš„è¿è¡Œæ˜¯åœ¨run.pyä¸­è°ƒç”¨çš„å‘€ï¼è¿™æ—¶å°±éœ€è¦æŠŠappå˜æˆåŒ…ï¼Œä»¥ä¾¿è®©å…¶ä»–ç¨‹åºå¯¼å…¥appæ–‡ä»¶å¤¹ä¸­çš„æ¨¡å—ï¼Œè€Œ<strong>init</strong>.pyå°±æ˜¯æ¨¡å—çš„æ ‡å¿—ã€‚é€šè¿‡åœ¨è¿è¡Œæ—¶åˆ¤åˆ«<strong>name</strong>å±æ€§å°±å¯ä»¥çŸ¥é“è¯¥ç¨‹åºç©¶ç«Ÿæ˜¯ä½œä¸ºæ¨¡å—è¢«å¯¼å…¥è¿˜æ˜¯ç›´æ¥æ‰§è¡Œï¼åŸæ¥å¦‚æ­¤ï¼å¯æ˜¯è¿™æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè¿™å°±è¦è°ˆåˆ°templatesæ–‡ä»¶å¤¹äº†ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶ä¼šå¯»æ‰¾è¯¥æ–‡ä»¶å¤¹ä¸­çš„æ¨¡æ¿ï¼Œå¦‚æœappæ˜¯ç›´æ¥æ‰§è¡Œåˆ™templatesæ–‡ä»¶å¤¹åº”æ”¾ç½®åœ¨äºappæ‰€åœ¨æ–‡ä»¶åŒçº§çš„ä½ç½®ï¼Œå¦‚æœappä½œä¸ºæ¨¡å—è¢«å¯¼å…¥åˆ™åº”è¯¥ä¸€èµ·æ”¾äºåŒ…ä¸­ï¼</p>
<h2>3."è·¯ç”±"ä¸è£…é¥°å™¨</h2>
<p>"è·¯ç”±"æ˜¯flaskçš„ä¸€ç§è£…é¥°å™¨ï¼Œä½ å¯èƒ½ä¼šé—®ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Œè¯·æˆ³ä¸‹é¢ï¼š
<a href="http://segmentfault.com/blog/xuelang/1190000000632572">pythonè£…é¥°å™¨</a>
æˆ‘çš„ç†è§£ï¼Œè£…é¥°å™¨å°±æ˜¯è®©å‡½æ•°å…·æœ‰é™„åŠ è¡Œä¸ºçš„ä¸œè¥¿ï¼Œpythonçš„è£…é¥°å™¨å¯ä»¥é€šè¿‡è¯­æ³•ç³–@å®ç°</p>
<p>å†è¯´è¯´è·¯ç”±è£…é¥°å™¨ï¼Œæˆ‘ä»¬è®¿é—®ç½‘ç«™è¾“å…¥çš„ç½‘å€å…¶å®æ˜¯url--ç»Ÿä¸€èµ„æºå®šä½å™¨ï¼Œé€šè¿‡ç‰¹å®šçš„urlå°±å¯ä»¥å¾—åˆ°ç‰¹å®šçš„é¡µé¢ï¼Œå¯æ˜¯æœåŠ¡å™¨å¦‚ä½•çŸ¥é“å¯¹äºè¿™ä¸ªé¡µé¢åº”è¯¥è°ƒç”¨å“ªä¸ªæ‰§è¡Œå‡½æ•°å‘¢ï¼Ÿè·¯ç”±è£…é¥°å™¨å°±å¯ä»¥æŠŠå…¶ä¸‹çš„æ‰§è¡Œå‡½æ•°ä¸urlç»‘å®šåœ¨ä¸€èµ·ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ï¼</p>
<h2>4.è¿”å›å­—ç¬¦ä¸²</h2>
<p>è¿”å›å­—ç¬¦ä¸²å…¶å®ä¸åº”è¯¥ç›´æ¥åœ¨å‡½æ•°ä¸­è¿›è¡Œï¼Œåº”è¯¥ç”±æ¨¡æ¿å®Œæˆï¼è‡³äºæ¨¡æ¿ä¸‹æ¬¡å†è¯´ï¼</p>
<p>-------------------------------------éƒ¨ç½²webåº”ç”¨-----------------------------------
1.è®¾ç½®nginx
---
æ‰¾åˆ°nginxçš„å®‰è£…ç›®å½•ï¼Œæ‰“å¼€conf/nginx.confæ–‡ä»¶ï¼Œä¿®æ”¹serveré…ç½®</p>
<div class="codehilite"><pre><span class="nt">server</span> <span class="p">{</span>
        <span class="n">listen</span>       <span class="m">80</span><span class="p">;</span>
        <span class="n">server_name</span>  <span class="n">localhost</span><span class="p">;</span>
        <span class="n">location</span> <span class="o">/</span> <span class="err">{</span>            
            <span class="n">include</span>  <span class="n">uwsgi_params</span><span class="p">;</span>
            <span class="n">uwsgi_pass</span>  <span class="err">å…¬ç½‘</span><span class="n">IP</span><span class="o">:</span><span class="m">9090</span><span class="p">;</span>                          <span class="o">//</span><span class="err">å¿…é¡»å’Œ</span><span class="n">uwsgi</span><span class="err">ä¸­çš„è®¾ç½®ä¸€è‡´</span>
            <span class="n">uwsgi_param</span> <span class="n">UWSGI_SCRIPT</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">flasky</span><span class="o">.</span><span class="n">wsgi</span><span class="p">;</span> <span class="o">//.</span> <span class="err">å°±ç›¸å½“äºä¸€å±‚ç›®å½•äº†</span> 
            <span class="n">uwsgi_param</span> <span class="n">UWSGI_CHDIR</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">flasky</span><span class="p">;</span>       <span class="o">//</span><span class="err">é¡¹ç›®æ ¹ç›®å½•</span><span class="p">(</span><span class="err">ä¾‹å¦‚</span><span class="p">)</span>
            <span class="n">index</span>  <span class="n">index</span><span class="o">.</span><span class="n">html</span> <span class="n">index</span><span class="o">.</span><span class="n">htm</span><span class="p">;</span>
            <span class="n">client_max_body_size</span> <span class="m">35</span><span class="n">m</span><span class="p">;</span>
        <span class="p">}</span>
<span class="err">}</span>
</pre></div>


<h2>2.å»ºç«‹å¼•å¯¼æ–‡ä»¶</h2>
<p>åœ¨ /root/www/flasky ä¸‹æ–°å»º wsgi.py</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">hello</span> <span class="kn">import</span> <span class="n">app</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&quot;0.0.0.0&quot;</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="p">)</span>
</pre></div>


<p>3.å¼€å¯uwsgiæœåŠ¡å™¨
åœ¨/root/www/flasky/ä¸‹è¿›å…¥è™šæ‹Ÿç¯å¢ƒ è¿˜è®°å¾—å‘½ä»¤å—ï¼Ÿ source venv/bin/activate
è¾“å…¥ï¼šuwsgi â€”socket å…¬ç½‘IP:8080 â€”protocol=http -w wsgi:app -H /root/www/flasky/venv</p>
<p>---------------------------------------è¡¥å……------------------------------------------
å¦‚æœä½ æ²¡æœ‰æœåŠ¡å™¨ï¼Œåˆ©ç”¨å‘½ä»¤è¡Œè¿›å…¥è™šæ‹Ÿç¯å¢ƒ,<code>python hello.py</code> 
åœ¨pythonè‡ªå¸¦çš„127.0.0.1ä¸Šä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>flask å­¦ä¹ ç¬”è®°(1)â€”â€”flaskç®€ä»‹&amp;å®‰è£…</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#28">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="28" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">flask å­¦ä¹ ç¬”è®°(1)â€”â€”flaskç®€ä»‹&amp;å®‰è£…</h4>
                        </div>
                        <div class="modal-body">
                            <h2>1.flaskç®€ä»‹</h2>
<p>äº’è”ç½‘çš„ä¸–ç•Œæ˜¯è‡ªç”±çš„ã€æ˜¯ç¥å¥‡çš„ã€‚è€Œ<strong>python flask</strong>åˆ™æ˜¯æˆ‘ä»¬è¿›å…¥ç½‘ç»œå†…æ ¸ä¸–ç•Œçš„ä¸€ä¸ªå·¥å…·ï¼
flask æ˜¯åŸºäºpythonçš„ä¸€ä¸ªè½»é‡çº§çš„webå¼€å‘æ¡†æ¶â€”â€”&gt;è®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹è¿™å¥è¯:
â€”â€”&gt;åŸºäºpythonï¼šflaské‡‡ç”¨pythonè¯­è¨€å¼€å‘ï¼Œç»§æ‰¿äº†pythoné¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼(ç”šè‡³æ•°æ®åº“ä¹Ÿæ˜¯^^)
â€”â€”&gt;è½»é‡çº§ï¼šflaskä»…ä¾èµ–ä¸¤ä¸ªä¸œè¥¿ï¼š1.è·¯ç”±ï¼Œè°ƒè¯•. 2.WSGI(web æœåŠ¡ ç½‘å…³ æ¥å£)(å…·ä½“è§ï¼šURL)ï¼Œå­ç³»ç»Ÿæœ‰Werkzeugæä¾›ï¼Œæ¨¡æ¿æœ‰Jinjia2æ¨¡æ¿å¼•æ“æä¾›ã€‚å½“ç„¶ï¼Œè½»é‡ä¸ä»£è¡¨åŠŸèƒ½ä½ã€‚flaskç»å¤§å¤šæ•°çš„æ ¸å¿ƒåŠŸèƒ½æ¥è‡ªäºflaskæ‰©å±•ï¼Œå› è€Œä½ å¯ä»¥é€‰æ‹©è‡ªå·±æƒ³è¦å®ç°çš„åŠŸèƒ½çš„æ‰©å±•ï¼Œè‡ªç”±ã€æ–¹ä¾¿ï¼
â€”â€”&gt;webå¼€å‘æ¡†æ¶: è¿™æ˜¯flaskæœ€æœ¬è´¨çš„åŠŸèƒ½ï¼Œä»–èƒ½è®©ä½ åœ¨å¼€å‘webç¨‹åºæ—¶æ›´çœåŠ›ï¼</p>
<h2>2.flaskå®‰è£…</h2>
<p>â€”â€”&gt;<strong>windowsä¸‹å®‰è£…</strong>
--------------------------------å®‰è£…python----------------------------------------------
1&gt;å»pythonå®˜ç½‘ä¸‹è½½é¡µ(https://www.python.org/downloads/)ä¸‹è½½python2.7
2&gt;ä¸‹è½½åæŒ‰æ­¥éª¤å®‰è£…
3&gt;åœ¨å¼€å§‹èœå•æ æ‰¾åˆ°pythonï¼Œæˆ–åœ¨cmdä¸­ä»»æ„ä½ç½®è¾“å…¥python â€”â€”&gt;å‡ºç°pythonå‘½ä»¤è¡Œï¼Œåˆ™å®‰è£…æˆåŠŸ
4&gt;pythonè‡ªå¸¦IDLEï¼Œä¸è¿‡æ¨ènotepad++ï¼Œsublime textï¼Œåé¢å†™flaskç¨‹åºæ—¶ä¼šæ›´æ–¹ä¾¿</p>
<p>--------------------------------è®¾ç½®è™šæ‹Ÿç¯å¢ƒ--------------------------------------------
æˆ‘ä»¬é‡‡ç”¨è™šæ‹Ÿç¯å¢ƒvirtualenvå®‰è£…flaskï¼Œè¿™å¯ä»¥è®©ä¸åŒçš„flaskåº”ç”¨ç¨‹åºäº’ä¸å¹²æ‰°ä¸”å…±ç”¨ä¸€å¥—python
1&gt;å®‰è£…pip(pipæ˜¯pythonåŒ…ç®¡ç†å·¥å…·ï¼Œåé¢è®¸å¤šæ‰©å±•éƒ½æ˜¯é€šè¿‡pipå®‰è£…æ˜¯)
â€”â€”&gt;<strong>ä¸‹è½½ distribute_setup.py</strong>
â€”â€”&gt;<strong>åŒå‡» distribute_setup.pyè¿è¡Œæ–‡ä»¶</strong>
â€”â€”&gt;<strong>æ·»åŠ  ;C:\Python27\Scripts åˆ° PATH ç¯å¢ƒå˜é‡</strong>
â€”â€”&gt;<strong>è¿›å…¥cmd:</strong><code>easy_install pip</code>
2&gt;è¿›å…¥cmd 
<code>pip install virtualenv</code>â€”â€”&gt;æ³¨æ„ï¼Œå¦‚æœä½ çš„windowsç”¨æˆ·åæ˜¯ä¸­æ–‡çš„è¯ï¼Œpipå¯èƒ½ä¼šæŠ¥é”™ï¼Œä¸è¿‡ä¹Ÿä¸è¦æ…Œï¼Œæ¢ä¸€ä¸ªå°±è¡Œäº†^^
3&gt;åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹(C:/flasky)
<code>mkdir flasky</code>
<code>cd flasky</code>
â€”â€”&gt;<strong>è™šæ‹ŸåŒ–é¡¹ç›®æ–‡ä»¶å¤¹(åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå…¥å£)</strong>
<code>virtualenv venv</code>
â€”â€”&gt;<strong>è¿›å…¥è™šæ‹Ÿç¯å¢ƒ</strong>
<code>cd venv/Scripts/</code>
<code>activate</code>
è¿™æ—¶ä½ ä¼šå‘ç°å‘½ä»¤æç¤ºç¬¦å‰å‡ºç°äº†(venv) â€”â€”&gt;å·²è¿›å…¥è™šæ‹Ÿç¯å¢ƒ^^
â€”â€”&gt;<strong>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</strong>
<code>Ctrl C</code></p>
<p>--------------------------------å®‰è£…flask--------------------------------------------------
1&gt;è¿›å…¥åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ
2&gt;<code>pip install flask</code>
--------------------------------å®‰è£…æˆåŠŸï¼-------------------------------------------------
â€”â€”&gt;<strong>linuxä¸‹çš„å®‰è£…è¯¦è§æˆ‘çš„åšæ–‡(CentOS+uWSGI+Nginx éƒ¨ç½²flaskå…¨è®°å½•)</strong></p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="col-lg-6">
            <h4>æœåŠ¡å™¨éƒ¨ç½²flask</h4>
            <p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#29">
                Read Post
            </button>
            </p>
            <!-- Modal -->
            <div class="modal fade bs-example-modal-lg" id="29" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">æœåŠ¡å™¨éƒ¨ç½²flask</h4>
                        </div>
                        <div class="modal-body">
                            <h2>æ­¥éª¤0.å‡†å¤‡å·¥ä½œ</h2>
<p>1.æ—¢ç„¶æ˜¯éƒ¨ç½²ï¼Œé¦–å…ˆè¦ä¹°ä¸€å°æœåŠ¡å™¨ï¼ˆæ¨èåœ¨é˜¿é‡Œäº‘ä¸Šä¹°ï¼‰ã€‚
2.ä¹‹åå°±æ˜¯é€‰æ‹©åˆé€‚çš„é•œåƒäº†ï¼Œæœ¬æ•™ç¨‹é€‰å–çš„æ˜¯CentOSåŸç‰ˆé•œåƒ(ä¸è¦é€‰é›†æˆç¯å¢ƒï¼Œä¼šå‘ç”Ÿæ€ªæ€ªçš„äº‹æƒ…!)
3.å®‰è£…è¿æ¥æœåŠ¡å™¨çš„å·¥å…·ï¼ˆæ¨è puttyï¼‰
4.ä»¥rootèº«ä»½è¿›å…¥ç»ˆç«¯
5.å®‰è£…æ‰€éœ€çš„å†…åº“ï¼Œè¿›å…¥ / ç›®å½•è¾“å…¥ 
<code>yum groupinstall "Development tools"</code>
<code>yum install zlib-devel bzip2-devel pcre-devel openssl-devel ncurses -devel sqlite-devel readline-devel tk-devel</code></p>
<h2>æ­¥éª¤1.å®‰è£…python</h2>
<p>linuxç³»ç»Ÿä¸€èˆ¬è‡ªå¸¦pythonï¼Œåœ¨ç»ˆç«¯ä»»æ„ä½ç½®è¾“å…¥ python â€”V å¦‚æœè¿”å›ç‰ˆæœ¬æ˜¯2.7ç³»åˆ—ï¼Œæ­å–œå¯ä»¥è·³è¿‡æ­¥éª¤ä¸€å•¦|ï¼‰
å¦‚æœç‰ˆæœ¬è¾ƒä½æ¯”å¦‚å’Œæˆ‘ä¸€æ ·æ˜¯python 2.4ã€‚ã€‚é‚£ä¹ˆè¿›å…¥å®¶ç›®å½•~ è¾“å…¥ï¼š
1 <code>wget http://python.org/ftp/python/2.7.5/Python-2.7.5.tar.bz2</code>   (è·å–pythonå®‰è£…åŒ…)
2 <code>tar xvf Python-2.7.5.tar.bz2</code>                                  ï¼ˆè§£å‹ç¼©pythonå®‰è£…åŒ…ï¼‰
3 <code>cd Python-2.7.5</code>                                               ï¼ˆè¿›å…¥å®‰è£…ç›®å½•ï¼‰
4 <code>./configure --prefix=/usr/local</code>                                (ç¼–è¯‘æºç ï¼Œå®‰è£…åˆ°/user/local/)
5 <code>#make &amp;&amp; make altinstall</code>
å®‰è£…å¥½äº†ä»¥åè¾“å…¥ python2.7 å°±å¯ä»¥è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œå•¦{ï¼‰
æ³¨æ„ï¼šwget æ˜¯åœ¨çº¿è·å–pythonå®‰è£…åŒ…ï¼Œæ‰€ä»¥ç½‘é€Ÿè¦å¥½å“¦ï¼å¦åˆ™ä¼šè¿”å› RunTimeError !</p>
<h2>æ­¥éª¤2.å®‰è£…pythonåŒ…ç®¡ç†</h2>
<p>pythonçš„åŒ…ç®¡ç†å·¥å…·ç»™æˆ‘ä»¬çš„å®‰è£…å¸¦æ¥äº†å¾ˆå¤§çš„æ–¹ä¾¿ï¼åªéœ€è¦ç®€å•çš„ pipå‘½ä»¤ï¼
è¿›å…¥åˆ° ~ ç›®å½•ä¸‹ï¼Œè¾“å…¥;
<code>wget https://pypi.python.org/packages/source/d/distribute/distribute-0.6.49.tar.gz</code>
<code>tar xf distribute-0.6.49.tar.gz</code>
<code>cd distribute-0.6.49</code>
<code>python2.7 setup.py install</code>
<code>easy_install pip</code>
åœ¨ä»»æ„ä½ç½®è¾“å…¥ pip --version å¦‚æœè¿”å›ç‰ˆæœ¬å·--æ­å–œï¼Œå¯ä»¥ä½¿ç”¨pipå‘½ä»¤å•¦|ï¼‰</p>
<h2>æ­¥éª¤3.å®‰è£…uwsgi</h2>
<p>uwsgiå°±æ˜¯æˆ‘ä»¬webåº”ç”¨çš„æœåŠ¡å™¨å•¦ã€‚ä»–çš„åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå°¤å…¶é€‚åˆå¤„ç†åŠ¨æ€è¯·æ±‚ï¼Œä½†æ˜¯ä¸èƒ½å¤„ç†httpè¯·æ±‚(è¿™ç‚¹å¾ˆé‡è¦ï¼)
è¿›å…¥ ~ ç›®å½•ï¼Œè¾“å…¥ï¼š
<code>pip install uwsgi</code>
pipå‘½ä»¤ï¼Œç«‹åˆ»æå®šï¼</p>
<p>æµ‹è¯•uwsgiï¼š
åœ¨ ~ ä¸‹æ–°å»ºtest.py å†…å®¹å¦‚ä¸‹ï¼š
<strong>def application(env, start_response):
            start_response('200 OK', [('Content-Type','text/html')])
            return "Welcome to MuxiStudio!"</strong>
åœ¨ç»ˆç«¯è¿è¡Œ </strong>uwsgi --http :8001 --wsgi-file test.py</strong>
åœ¨æµè§ˆå™¨å†…è¾“å…¥ï¼šå…¬ç½‘IP:8001/ï¼Œå¦‚æœè¿”å› Welcome to MuxiStudio! æ­å–œä½  uwsgiå®‰è£…æˆåŠŸï¼ï¼ï¼</p>
<h2>æ­¥éª¤4.å®‰è£…flask</h2>
<p>æ—¢ç„¶æ˜¯flaskåº”ç”¨è‡ªç„¶è¦å®‰è£…flaskå•¦ï¼
æˆ‘ä»¬é‡‡ç”¨è™šæ‹Ÿç¯å¢ƒå®‰è£…flaskï¼Œæ‰€è°“è™šæ‹Ÿç¯å¢ƒå³flaskå¹¶ä¸æ˜¯å®‰è£…åœ¨å…¨å±€ä¸­ï¼Œè€Œæ˜¯å®‰è£…åœ¨æˆ‘ä»¬æŒ‡å®šçš„ç¯å¢ƒä¸­ï¼Œ
åªæœ‰è¿›å…¥è¿™ä¸ªç¯å¢ƒæ‰å¯ä»¥è¿è¡Œflaskå“¦ï¼è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªå®é™…pythonç¯å¢ƒè¿è¡Œè®¸å¤šflaskç¨‹åºå•¦ï¼</p>
<p>è¿›å…¥~ç›®å½•ï¼Œè¾“å…¥ï¼š
<code>pip install virtualenv</code>(å®‰è£…è™šæ‹Ÿç¯å¢ƒ)
è¿›å…¥é¡¹ç›®æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼š
<code>cd /root/www/flaskr/</code>
<code>virtualenv venv</code>(å»ºç«‹è™šæ‹Ÿç¯å¢ƒvenv)
<code>source venv/bin/activate</code>ï¼ˆè¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼‰
è¿›å…¥è™šæ‹Ÿç¯å¢ƒåï¼Œä½ ä¼šå‘ç°å‘½ä»¤ç¬¦å‰å‡ºç° (venv) å­—æ ·ï¼Œå¾ˆç¥å¥‡å‘€ï¼
é€€å‡ºè™šæ‹Ÿç¯å¢ƒåªè¦è¾“å…¥ <code>deactivate</code>
è¿›å…¥è™šæ‹Ÿç¯å¢ƒ<code>pip install flask</code>,æå®šï¼ï¼</p>
<h2>æ­¥éª¤5.å®‰è£…nginx</h2>
<p>æˆ‘ä»¬ç”¨nginxä½œåå‘ä»£ç†ï¼Œå¹¶å¤„ç†httpè¯·æ±‚ï¼ˆä¹‹å‰è¯´è¿‡uwsgiåªèƒ½å¤„ç†åŠ¨æ€è¯·æ±‚ã€‚å…¶å®é€šä¿—ä¸€ç‚¹è¯´å°±æ˜¯å‰ç«¯nginxï¼Œåå°uwsgiï¼‰
è¿›å…¥ ~ ç›®å½•ä¸‹ï¼Œè¾“å…¥
<code>wget http://nginx.org/download/nginx-1.5.6.tar.gz</code>
<code>tar xf nginx-1.5.6.tar.gz</code>
<code>cd nginx-1.5.6</code>
<code>./configure --prefix=/usr/local/nginx-1.5.6 --with-http_stub_status_module --with-http_gzip_static_module</code>
<code>make &amp;&amp; make install</code></p>
<p>åˆ°æ­¤ï¼Œå®‰è£…éƒ¨åˆ†å°±é¡ºåˆ©å®Œæˆå•¦|ï¼‰ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬è¿›å…¥åˆ°æœ‰ç‚¹å°çç¢çš„é…ç½®ç¯èŠ‚å§ï¼</p>
<h2>æ­¥éª¤6.é…ç½®uwsgi</h2>
<p>æˆ‘ä»¬é‡‡ç”¨.iniæ–‡ä»¶é…ç½®uwsgi
åœ¨/etc/ç›®å½•ä¸‹æ–°å»º uwsgi.ini æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š
<strong>
[uwsgi]
socket = å…¬ç½‘IP:9090
master = true         //ä¸»è¿›ç¨‹
vhost = true          //å¤šç«™æ¨¡å¼
no-stie = true        //å¤šç«™æ¨¡å¼æ—¶ä¸è®¾ç½®å…¥å£æ¨¡å—å’Œæ–‡ä»¶
workers = 2           //å­è¿›ç¨‹æ•°
reload-mercy = 10   <br />
vacuum = true         //é€€å‡ºã€é‡å¯æ—¶æ¸…ç†æ–‡ä»¶
max-requests = 1000 <br />
limit-as = 512
buffer-sizi = 30000
pidfile = /var/run/uwsgi.pid    //pidæ–‡ä»¶ï¼Œç”¨äºä¸‹é¢çš„è„šæœ¬å¯åŠ¨ã€åœæ­¢è¯¥è¿›ç¨‹
daemonize = /website/uwsgi.log
</strong>
uwsgiçµæ´»çš„é…ç½®å¯ä»¥è®©flaskåº”ç”¨çš„æ€§èƒ½è¾¾åˆ°æœ€ä½³ï¼Œä½†å¯¹äºä½ æˆ‘ä¸€æ ·çš„åˆå­¦è€…å¾€å¾€å°±ä¸çŸ¥æ‰€äº‘äº†ã€‚ä¸è¿‡å…ˆä¸ç®¡æ˜¯å¦å®Œå…¨ç†è§£é…ç½®é¡¹ï¼Œ
ï¼ï¼è·‘èµ·æ¥å†è¯´ï¼ï¼</p>
<h2>æ­¥éª¤7.è®¾ç½®nginx</h2>
<p>æ‰¾åˆ°nginxçš„å®‰è£…ç›®å½•ï¼Œæ‰“å¼€conf/nginx.confæ–‡ä»¶ï¼Œä¿®æ”¹serveré…ç½®</p>
<div class="codehilite"><pre><span class="nt">server</span> <span class="p">{</span>
        <span class="n">listen</span>       <span class="m">80</span><span class="p">;</span>
        <span class="n">server_name</span>  <span class="n">localhost</span><span class="p">;</span>
        <span class="n">location</span> <span class="o">/</span> <span class="err">{</span>            
            <span class="n">include</span>  <span class="n">uwsgi_params</span><span class="p">;</span>
            <span class="n">uwsgi_pass</span>  <span class="err">å…¬ç½‘</span><span class="n">IP</span><span class="o">:</span><span class="m">9090</span><span class="p">;</span>                          <span class="o">//</span><span class="err">å¿…é¡»å’Œ</span><span class="n">uwsgi</span><span class="err">ä¸­çš„è®¾ç½®ä¸€è‡´</span>
            <span class="n">uwsgi_param</span> <span class="n">UWSGI_SCRIPT</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">flaskr</span><span class="o">.</span><span class="n">wsgi</span><span class="p">;</span> <span class="o">//.</span> <span class="err">å°±ç›¸å½“äºä¸€å±‚ç›®å½•äº†</span> 
            <span class="n">uwsgi_param</span> <span class="n">UWSGI_CHDIR</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">flaskr</span><span class="p">;</span>       <span class="o">//</span><span class="err">é¡¹ç›®æ ¹ç›®å½•</span><span class="p">(</span><span class="err">ä¾‹å¦‚</span><span class="p">)</span>
            <span class="n">index</span>  <span class="n">index</span><span class="o">.</span><span class="n">html</span> <span class="n">index</span><span class="o">.</span><span class="n">htm</span><span class="p">;</span>
            <span class="n">client_max_body_size</span> <span class="m">35</span><span class="n">m</span><span class="p">;</span>
            <span class="p">}</span>
<span class="err">}</span>
</pre></div>


<h2>æ­¥éª¤8.éƒ¨ç½²flaskåº”ç”¨</h2>
<p>ç»ˆäº---æ”¹è£…çš„è£…å®Œäº†ï¼Œè¯¥é…çš„é…å®Œäº†ã€‚å¯æˆ‘ä»¬çš„åº”ç”¨è¿˜ä¸è§è¸ªå½±ã€‚ã€‚ä¸è¦ç€æ€¥ï¼Œæˆ‘ä»¬å°†éƒ¨ç½²ä¸€ä¸ªæœ€ç®€å•çš„flaskåº”ç”¨ã€‚
å…¶å®åŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼</p>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆ/root/www/flaskrï¼‰æ–°å»ºwelcome.pyæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span><span class="o">=</span><span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">welcom</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">&quot;Welcome to MuxiStudio!&quot;</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&quot;0.0.0.0&quot;</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="p">)</span>
</pre></div>


<p>æ³¨æ„å•æœ‰åº”ç”¨æ–‡ä»¶è¿˜ä¸è¡Œï¼Œæˆ‘ä»¬è¿˜è¦å»ºç«‹å¼•å¯¼æ–‡ä»¶ï¼Œåœ¨ /root/www/flaskr ä¸‹æ–°å»º wsgi.py</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">welcome</span> <span class="kn">import</span> <span class="n">app</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&quot;0.0.0.0&quot;</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="p">)</span>
</pre></div>


<p>å¯¼å…¥appï¼Œè®¾ç½®è¿è¡ŒçŠ¶æ€--yepï¼</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨ç½²ç¯èŠ‚äº†ï¼
åœ¨/root/www/flaskr/ä¸‹è¿›å…¥è™šæ‹Ÿç¯å¢ƒ è¿˜è®°å¾—å‘½ä»¤å—ï¼Ÿ <code>source venv/bin/activate</code>
è¾“å…¥ï¼š<code>uwsgi --socket å…¬ç½‘IP:8080 --protocol=http -w wsgi:app -H /root/www/flaskr/venv</code></p>
<p>ç»ˆç«¯ä¼šæç¤ºä½ uwsgiæ­£åœ¨è¿è¡Œï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ å…¬ç½‘IPï¼š8080/ 
<strong>"Welcome to MuxiStudio!"</strong></p>
<h2>æ­¥éª¤9.æ€»ç»“</h2>
<p>ä¸è¦æ€•å‡ºé”™ï¼Œé”™äº†å°±è°·æ­Œä¸€ä¸‹ï¼Œå¦‚æœè¿˜ä¸å¯¹å°±åˆå§‹åŒ–é‡æ¥ï¼Œåªè¦åšæŒï¼Œé—®é¢˜è‚¯å®šå¯ä»¥è§£å†³ï¼</p>
<h2>æ­¥éª¤10.åº†ç¥</h2>
<p>åˆä¸Šç”µè„‘ï¼Œå‡ºå»èµ°èµ°ã€‚</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
</div>

            <footer class="footer">
                <p>&copy; @neo1218 2015, this blog's code host on <a href="https://github.com/neo1218/neo1218_blog">github</a></p>
            </footer>

        </div> <!-- /container -->


        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    </body>
</html>